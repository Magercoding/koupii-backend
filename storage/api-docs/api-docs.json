{
    "openapi": "3.0.0",
    "info": {
        "title": "üéì Koupii LMS API - Learning Management System",
        "description": "\n# üåü Welcome to Koupii LMS API\n\nA comprehensive Learning Management System API designed for language learning and test preparation (IELTS, TOEFL, etc.).\n\n## üöÄ Quick Navigation\n\n### üë®‚Äçüéì **STUDENT PORTAL**\n- üìö View enrolled classes and assignments\n- ‚úçÔ∏è Complete writing, reading, listening, and speaking tasks\n- üìä Track progress and view analytics\n- üèÜ Check leaderboards and achievements\n- üí¨ Participate in class discussions\n\n### üë®‚Äçüè´ **TEACHER PORTAL** \n- üéØ Create and manage classes\n- üìù Assign tasks to students\n- ‚úÖ Review and grade submissions\n- üìà Monitor student progress\n- üîß Configure class settings\n\n### üîß **ADMIN PORTAL**\n- üë• Manage all users and classes\n- üõ†Ô∏è System configuration\n- üìä Platform-wide analytics\n- üîê User permissions management\n\n## üîê Authentication\n\nAll endpoints require Bearer token authentication unless specified otherwise.\n\n```bash\nAuthorization: Bearer YOUR_TOKEN\n```\n\n## üìù API Standards\n\n- **Base URL**: `https://api.koupii.com/api/v1`\n- **Content-Type**: `application/json`\n- **Date Format**: `ISO 8601` (YYYY-MM-DDTHH:mm:ssZ)\n- **UUID Format**: Standard UUID v4\n\n## üè∑Ô∏è Response Codes\n\n- `‚úÖ 200-299`: Success\n- `‚ùå 400-499`: Client Error  \n- `üî• 500-599`: Server Error\n\n## üéØ Task Types\n\n- **‚úçÔ∏è Writing**: Essays, reports, descriptions\n- **üìñ Reading**: Comprehension, analysis \n- **üéß Listening**: Audio comprehension\n- **üó£Ô∏è Speaking**: Recorded responses\n\n## üîÑ Assignment Workflow\n\n1. **Teacher** creates and assigns tasks to class\n2. **Students** receive notifications and complete assignments\n3. **System** auto-grades or queues for teacher review\n4. **Results** posted with detailed feedback\n5. **Analytics** track progress over time\n\n---\n\n*For support, contact: support@koupii.com*\n     ",
        "contact": {
            "name": "Koupii Support Team",
            "url": "https://koupii.com/support",
            "email": "support@koupii.com"
        },
        "license": {
            "name": "MIT",
            "url": "https://opensource.org/licenses/MIT"
        },
        "version": "1.0.0"
    },
    "servers": [
        {
            "url": "https://api-koupii.magercoding.com",
            "description": "Production Server"
        },
        {
            "url": "http://127.0.0.1:8000",
            "description": "Development Server"
        }
    ],
    "paths": {
        "/api/v1/student/dashboard": {
            "get": {
                "tags": [
                    "Student Dashboard"
                ],
                "summary": "Get student dashboard with assignments",
                "description": "Retrieve student dashboard showing all assignments from enrolled classes",
                "operationId": "de5f8f68ddbe26bae2b1b8a1bdc9a512",
                "responses": {
                    "200": {
                        "description": "Dashboard data retrieved successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Dashboard data retrieved successfully"
                                        },
                                        "data": {
                                            "properties": {
                                                "student_name": {
                                                    "type": "string",
                                                    "example": "John Doe"
                                                },
                                                "enrolled_classes": {
                                                    "type": "integer",
                                                    "example": 3
                                                },
                                                "total_assignments": {
                                                    "type": "integer",
                                                    "example": 12
                                                },
                                                "pending_assignments": {
                                                    "type": "integer",
                                                    "example": 5
                                                },
                                                "completed_assignments": {
                                                    "type": "integer",
                                                    "example": 7
                                                },
                                                "overdue_assignments": {
                                                    "type": "integer",
                                                    "example": 1
                                                },
                                                "assignments": {
                                                    "type": "array",
                                                    "items": {
                                                        "properties": {
                                                            "id": {
                                                                "type": "string",
                                                                "format": "uuid"
                                                            },
                                                            "type": {
                                                                "type": "string",
                                                                "enum": [
                                                                    "writing_task",
                                                                    "reading_task",
                                                                    "listening_task",
                                                                    "speaking_task"
                                                                ]
                                                            },
                                                            "title": {
                                                                "type": "string",
                                                                "example": "Essay Writing Practice"
                                                            },
                                                            "description": {
                                                                "type": "string",
                                                                "example": "Academic writing task"
                                                            },
                                                            "class_name": {
                                                                "type": "string",
                                                                "example": "IELTS Preparation A"
                                                            },
                                                            "due_date": {
                                                                "type": "string",
                                                                "format": "date-time"
                                                            },
                                                            "assigned_date": {
                                                                "type": "string",
                                                                "format": "date-time"
                                                            },
                                                            "status": {
                                                                "type": "string",
                                                                "enum": [
                                                                    "pending",
                                                                    "in_progress",
                                                                    "submitted",
                                                                    "completed"
                                                                ]
                                                            },
                                                            "score": {
                                                                "type": "number",
                                                                "nullable": true
                                                            },
                                                            "attempt_count": {
                                                                "type": "integer",
                                                                "example": 1
                                                            },
                                                            "max_attempts": {
                                                                "type": "integer",
                                                                "example": 3
                                                            },
                                                            "difficulty": {
                                                                "type": "string",
                                                                "enum": [
                                                                    "beginner",
                                                                    "intermediate",
                                                                    "advanced"
                                                                ]
                                                            }
                                                        },
                                                        "type": "object"
                                                    }
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized"
                    },
                    "500": {
                        "description": "Server error"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/student/assignments/{assignmentId}/{type}/details": {
            "get": {
                "tags": [
                    "Student Dashboard"
                ],
                "summary": "Get assignment details for starting",
                "description": "Retrieve detailed assignment information before starting",
                "operationId": "e4d60ebd9bb932d0edbe2de07238383e",
                "parameters": [
                    {
                        "name": "assignmentId",
                        "in": "path",
                        "description": "Assignment ID",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        }
                    },
                    {
                        "name": "type",
                        "in": "path",
                        "description": "Assignment type",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "enum": [
                                "writing_task",
                                "reading_task",
                                "listening_task",
                                "speaking_task"
                            ]
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Assignment details retrieved successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string"
                                        },
                                        "data": {
                                            "properties": {
                                                "assignment": {
                                                    "properties": {
                                                        "title": {
                                                            "type": "string"
                                                        },
                                                        "description": {
                                                            "type": "string"
                                                        },
                                                        "instructions": {
                                                            "type": "string"
                                                        },
                                                        "time_limit": {
                                                            "type": "integer"
                                                        },
                                                        "max_attempts": {
                                                            "type": "integer"
                                                        }
                                                    },
                                                    "type": "object"
                                                },
                                                "student_progress": {
                                                    "properties": {
                                                        "status": {
                                                            "type": "string"
                                                        },
                                                        "attempt_count": {
                                                            "type": "integer"
                                                        },
                                                        "score": {
                                                            "type": "number",
                                                            "nullable": true
                                                        }
                                                    },
                                                    "type": "object"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Access denied"
                    },
                    "404": {
                        "description": "Assignment not found"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/student/assignments/{assignmentId}/{type}/start": {
            "post": {
                "tags": [
                    "Student Dashboard"
                ],
                "summary": "Start an assignment",
                "description": "Start working on an assignment",
                "operationId": "72f2ed52ef00fd23f961279c8b3cd3b3",
                "parameters": [
                    {
                        "name": "assignmentId",
                        "in": "path",
                        "description": "Assignment ID",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        }
                    },
                    {
                        "name": "type",
                        "in": "path",
                        "description": "Assignment type",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "enum": [
                                "writing_task",
                                "reading_task",
                                "listening_task",
                                "speaking_task"
                            ]
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Assignment started successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Assignment started successfully"
                                        },
                                        "data": {
                                            "properties": {
                                                "student_assignment_id": {
                                                    "type": "string",
                                                    "format": "uuid"
                                                },
                                                "attempt_number": {
                                                    "type": "integer",
                                                    "example": 1
                                                },
                                                "started_at": {
                                                    "type": "string",
                                                    "format": "date-time"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Access denied"
                    },
                    "404": {
                        "description": "Assignment not found"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/student/assignments/{assignmentId}/{type}/submit": {
            "post": {
                "tags": [
                    "Student Dashboard"
                ],
                "summary": "Submit an assignment",
                "description": "Submit completed assignment work",
                "operationId": "d77bee8373da7ac457da6dd42918e59d",
                "parameters": [
                    {
                        "name": "assignmentId",
                        "in": "path",
                        "description": "Assignment ID",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        }
                    },
                    {
                        "name": "type",
                        "in": "path",
                        "description": "Assignment type",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "enum": [
                                "writing_task",
                                "reading_task",
                                "listening_task",
                                "speaking_task"
                            ]
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "properties": {
                                    "submission_data": {
                                        "description": "Assignment submission data (varies by type)",
                                        "properties": {
                                            "answers": {
                                                "type": "array",
                                                "items": {
                                                    "type": "object"
                                                }
                                            },
                                            "essay_text": {
                                                "type": "string"
                                            },
                                            "time_spent": {
                                                "type": "integer"
                                            }
                                        },
                                        "type": "object"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Assignment submitted successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Assignment submitted successfully"
                                        },
                                        "data": {
                                            "properties": {
                                                "student_assignment_id": {
                                                    "type": "string",
                                                    "format": "uuid"
                                                },
                                                "completed_at": {
                                                    "type": "string",
                                                    "format": "date-time"
                                                },
                                                "submission_status": {
                                                    "type": "string",
                                                    "example": "submitted"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "No active assignment found"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/auth/login": {
            "post": {
                "tags": [
                    "Auth"
                ],
                "summary": "Login user",
                "description": "Authenticates a user and returns an access token",
                "operationId": "0dce593c17bc79d29606e352610c2f1f",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "email",
                                    "password"
                                ],
                                "properties": {
                                    "email": {
                                        "type": "string",
                                        "format": "email",
                                        "example": "fika@example.com"
                                    },
                                    "password": {
                                        "type": "string",
                                        "format": "password",
                                        "example": "secret123"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Login successful",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Logged in successfully"
                                        },
                                        "token": {
                                            "type": "string",
                                            "example": "1|abcdef1234567890"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Invalid credentials"
                    },
                    "422": {
                        "description": "Validation error"
                    },
                    "500": {
                        "description": "Server error"
                    }
                }
            }
        },
        "/api/v1/auth/logout": {
            "post": {
                "tags": [
                    "Auth"
                ],
                "summary": "Logout the current user",
                "description": "Revokes the user's current access token",
                "operationId": "6e4e9d734ad85af44a1491066058371c",
                "responses": {
                    "200": {
                        "description": "Logout successful",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Logged out successfully"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthenticated"
                    },
                    "500": {
                        "description": "Logout failed"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/oauth/google/redirect": {
            "get": {
                "tags": [
                    "OAuth"
                ],
                "summary": "Redirect to Google OAuth",
                "description": "Redirects the user to Google's OAuth consent screen",
                "operationId": "aeed7acd7999f23f1faa7cc8cfc456a2",
                "responses": {
                    "302": {
                        "description": "Redirection to Google OAuth"
                    },
                    "500": {
                        "description": "Server error"
                    }
                }
            }
        },
        "/api/v1/oauth/google/callback": {
            "get": {
                "tags": [
                    "OAuth"
                ],
                "summary": "Handle Google OAuth Callback",
                "description": "Handles the callback from Google OAuth and authenticates the user",
                "operationId": "e8dc122835540f185ead92a781cffb8f",
                "responses": {
                    "200": {
                        "description": "Authentication successful",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "ok"
                                        },
                                        "user": {
                                            "type": "object"
                                        },
                                        "access_token": {
                                            "type": "string",
                                            "example": "1|abcdef1234567890"
                                        },
                                        "token_type": {
                                            "type": "string",
                                            "example": "Bearer"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Authentication failed"
                    },
                    "500": {
                        "description": "Server error"
                    }
                }
            }
        },
        "/api/v1/oauth/facebook/redirect": {
            "get": {
                "tags": [
                    "OAuth"
                ],
                "summary": "Redirect to Facebook OAuth",
                "description": "Redirects the user to Facebook's OAuth consent screen",
                "operationId": "5c56ba6dd4a6d9b5f4976f007e355d64",
                "responses": {
                    "302": {
                        "description": "Redirection to Facebook OAuth"
                    },
                    "500": {
                        "description": "Server error"
                    }
                }
            }
        },
        "/api/v1/oauth/facebook/callback": {
            "get": {
                "tags": [
                    "OAuth"
                ],
                "summary": "Handle Facebook OAuth Callback",
                "description": "Handles the callback from Facebook OAuth and authenticates the user",
                "operationId": "dc4061eb9210e3cba0c04ef695601bb1",
                "responses": {
                    "200": {
                        "description": "Authentication successful",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "ok"
                                        },
                                        "user": {
                                            "type": "object"
                                        },
                                        "access_token": {
                                            "type": "string",
                                            "example": "1|abcdef1234567890"
                                        },
                                        "token_type": {
                                            "type": "string",
                                            "example": "Bearer"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Authentication failed"
                    },
                    "500": {
                        "description": "Server error"
                    }
                }
            }
        },
        "/api/v1/auth/register": {
            "post": {
                "tags": [
                    "Auth"
                ],
                "summary": "Register a new user",
                "description": "Registers a user and returns an access token",
                "operationId": "5ae0f447c4401150c74567b59feb0cff",
                "requestBody": {
                    "required": true,
                    "content": {
                        "multipart/form-data": {
                            "schema": {
                                "required": [
                                    "name",
                                    "email",
                                    "password",
                                    "role"
                                ],
                                "properties": {
                                    "name": {
                                        "type": "string",
                                        "example": "Fika Riyadi"
                                    },
                                    "email": {
                                        "type": "string",
                                        "format": "email",
                                        "example": "fika@example.com"
                                    },
                                    "password": {
                                        "type": "string",
                                        "format": "password",
                                        "example": "secret123"
                                    },
                                    "role": {
                                        "type": "string",
                                        "example": "user"
                                    },
                                    "profile_picture": {
                                        "description": "Upload profile picture (jpg, png, gif)",
                                        "type": "string",
                                        "format": "binary"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "User registered successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Registered successfully"
                                        },
                                        "token": {
                                            "type": "string",
                                            "example": "1|abcdef1234567890"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation failed"
                    },
                    "500": {
                        "description": "Internal server error"
                    }
                }
            }
        },
        "/api/v1/classes": {
            "get": {
                "tags": [
                    "Classes"
                ],
                "summary": "üìö Get All Classes",
                "description": "Retrieve all classes. Teachers see their own classes with management options, students see enrolled classes with assignment info.",
                "operationId": "getAllClasses",
                "parameters": [
                    {
                        "name": "role_view",
                        "in": "query",
                        "description": "View mode based on user role",
                        "required": false,
                        "schema": {
                            "type": "string",
                            "enum": [
                                "teacher",
                                "student",
                                "admin"
                            ]
                        }
                    },
                    {
                        "name": "include_stats",
                        "in": "query",
                        "description": "Include class statistics",
                        "required": false,
                        "schema": {
                            "type": "boolean",
                            "default": true
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "‚úÖ Classes retrieved successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Classes retrieved successfully"
                                        },
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "properties": {
                                                    "id": {
                                                        "type": "string",
                                                        "format": "uuid",
                                                        "example": "0199800b-be72-71ed-91bc-118cbfdadc22"
                                                    },
                                                    "name": {
                                                        "type": "string",
                                                        "example": "IELTS Preparation - Advanced"
                                                    },
                                                    "description": {
                                                        "type": "string",
                                                        "example": "Advanced IELTS preparation focusing on academic modules"
                                                    },
                                                    "level": {
                                                        "type": "string",
                                                        "enum": [
                                                            "beginner",
                                                            "intermediate",
                                                            "advanced"
                                                        ],
                                                        "example": "advanced"
                                                    },
                                                    "subject": {
                                                        "type": "string",
                                                        "example": "IELTS"
                                                    },
                                                    "class_code": {
                                                        "type": "string",
                                                        "example": "IELTS-ADV-001"
                                                    },
                                                    "cover_image": {
                                                        "type": "string",
                                                        "example": "https://api.koupii.com/storage/classes/cover-1.jpg",
                                                        "nullable": true
                                                    },
                                                    "is_active": {
                                                        "type": "boolean",
                                                        "example": true
                                                    },
                                                    "max_students": {
                                                        "type": "integer",
                                                        "example": 25
                                                    },
                                                    "schedule": {
                                                        "properties": {
                                                            "days": {
                                                                "type": "array",
                                                                "items": {
                                                                    "type": "string"
                                                                },
                                                                "example": [
                                                                    "monday",
                                                                    "wednesday",
                                                                    "friday"
                                                                ]
                                                            },
                                                            "time": {
                                                                "type": "string",
                                                                "example": "14:00"
                                                            },
                                                            "duration_minutes": {
                                                                "type": "integer",
                                                                "example": 90
                                                            },
                                                            "timezone": {
                                                                "type": "string",
                                                                "example": "UTC+7"
                                                            }
                                                        },
                                                        "type": "object"
                                                    },
                                                    "teacher": {
                                                        "properties": {
                                                            "id": {
                                                                "type": "string",
                                                                "format": "uuid"
                                                            },
                                                            "name": {
                                                                "type": "string",
                                                                "example": "Dr. Sarah Wilson"
                                                            },
                                                            "email": {
                                                                "type": "string",
                                                                "example": "sarah.wilson@school.edu"
                                                            },
                                                            "bio": {
                                                                "type": "string",
                                                                "example": "IELTS expert with 10+ years experience"
                                                            },
                                                            "avatar": {
                                                                "type": "string",
                                                                "example": "https://api.koupii.com/storage/avatars/teacher-1.jpg",
                                                                "nullable": true
                                                            },
                                                            "specializations": {
                                                                "type": "array",
                                                                "items": {
                                                                    "type": "string"
                                                                },
                                                                "example": [
                                                                    "IELTS",
                                                                    "TOEFL",
                                                                    "Academic English"
                                                                ]
                                                            },
                                                            "rating": {
                                                                "type": "number",
                                                                "format": "float",
                                                                "example": 4.8
                                                            }
                                                        },
                                                        "type": "object"
                                                    },
                                                    "stats": {
                                                        "properties": {
                                                            "total_students": {
                                                                "type": "integer",
                                                                "example": 18
                                                            },
                                                            "active_students": {
                                                                "type": "integer",
                                                                "example": 16
                                                            },
                                                            "total_assignments": {
                                                                "type": "integer",
                                                                "example": 24
                                                            },
                                                            "pending_assignments": {
                                                                "type": "integer",
                                                                "example": 5
                                                            },
                                                            "average_completion_rate": {
                                                                "type": "number",
                                                                "format": "float",
                                                                "example": 87.5
                                                            },
                                                            "average_score": {
                                                                "type": "number",
                                                                "format": "float",
                                                                "example": 78.2
                                                            },
                                                            "improvement_trend": {
                                                                "type": "string",
                                                                "enum": [
                                                                    "improving",
                                                                    "stable",
                                                                    "declining"
                                                                ],
                                                                "example": "improving"
                                                            }
                                                        },
                                                        "type": "object"
                                                    },
                                                    "students_preview": {
                                                        "description": "First 5 students for preview",
                                                        "type": "array",
                                                        "items": {
                                                            "properties": {
                                                                "id": {
                                                                    "type": "string",
                                                                    "format": "uuid"
                                                                },
                                                                "name": {
                                                                    "type": "string",
                                                                    "example": "Alice Johnson"
                                                                },
                                                                "avatar": {
                                                                    "type": "string",
                                                                    "nullable": true
                                                                },
                                                                "current_level": {
                                                                    "type": "string",
                                                                    "example": "6.5"
                                                                },
                                                                "target_score": {
                                                                    "type": "string",
                                                                    "example": "7.0"
                                                                },
                                                                "progress_percentage": {
                                                                    "type": "number",
                                                                    "format": "float",
                                                                    "example": 75.5
                                                                },
                                                                "last_active": {
                                                                    "type": "string",
                                                                    "format": "date-time"
                                                                }
                                                            },
                                                            "type": "object"
                                                        }
                                                    },
                                                    "created_at": {
                                                        "type": "string",
                                                        "format": "date-time"
                                                    },
                                                    "updated_at": {
                                                        "type": "string",
                                                        "format": "date-time"
                                                    }
                                                },
                                                "type": "object"
                                            }
                                        },
                                        "summary": {
                                            "properties": {
                                                "total_classes": {
                                                    "type": "integer",
                                                    "example": 6
                                                },
                                                "total_students": {
                                                    "type": "integer",
                                                    "example": 89
                                                },
                                                "active_assignments": {
                                                    "type": "integer",
                                                    "example": 15
                                                },
                                                "completion_rate": {
                                                    "type": "number",
                                                    "format": "float",
                                                    "example": 85.7
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "‚ùå Unauthorized",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Unauthenticated."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "‚ùå Forbidden - Insufficient permissions",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "You don't have permission to access this resource."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/classes/create": {
            "post": {
                "tags": [
                    "Classes"
                ],
                "summary": "üÜï Create New Class",
                "description": "Create a new class with detailed configuration. Teachers can create classes for their subjects, admins can create any class.",
                "operationId": "createClass",
                "requestBody": {
                    "description": "Class creation data",
                    "required": true,
                    "content": {
                        "multipart/form-data": {
                            "schema": {
                                "required": [
                                    "name",
                                    "description",
                                    "level",
                                    "subject"
                                ],
                                "properties": {
                                    "name": {
                                        "description": "Clear, descriptive class name",
                                        "type": "string",
                                        "example": "IELTS Preparation - Advanced"
                                    },
                                    "description": {
                                        "type": "string",
                                        "example": "Advanced IELTS preparation focusing on academic modules with practice tests and personalized feedback"
                                    },
                                    "level": {
                                        "type": "string",
                                        "enum": [
                                            "beginner",
                                            "intermediate",
                                            "advanced"
                                        ],
                                        "example": "advanced"
                                    },
                                    "subject": {
                                        "description": "Subject or exam type",
                                        "type": "string",
                                        "example": "IELTS"
                                    },
                                    "class_code": {
                                        "description": "Optional custom code, auto-generated if not provided",
                                        "type": "string",
                                        "example": "IELTS-ADV-001"
                                    },
                                    "is_active": {
                                        "type": "boolean",
                                        "example": true
                                    },
                                    "max_students": {
                                        "type": "integer",
                                        "maximum": 100,
                                        "minimum": 1,
                                        "example": 25
                                    },
                                    "cover_image": {
                                        "description": "Cover image file for the class (JPEG, PNG, max 5MB)",
                                        "type": "string",
                                        "format": "binary"
                                    },
                                    "schedule": {
                                        "description": "JSON string for class schedule configuration",
                                        "type": "string",
                                        "example": "class_schedule_json"
                                    },
                                    "settings": {
                                        "description": "JSON string for class behavior settings",
                                        "type": "string",
                                        "example": "class_settings_json"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "‚úÖ Class created successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Class created successfully"
                                        },
                                        "data": {
                                            "properties": {
                                                "id": {
                                                    "type": "string",
                                                    "format": "uuid",
                                                    "example": "0199800b-be72-71ed-91bc-118cbfdadc22"
                                                },
                                                "name": {
                                                    "type": "string",
                                                    "example": "IELTS Preparation - Advanced"
                                                },
                                                "description": {
                                                    "type": "string",
                                                    "example": "Advanced IELTS preparation focusing on academic modules"
                                                },
                                                "level": {
                                                    "type": "string",
                                                    "example": "advanced"
                                                },
                                                "subject": {
                                                    "type": "string",
                                                    "example": "IELTS"
                                                },
                                                "class_code": {
                                                    "type": "string",
                                                    "example": "IELTS-ADV-001"
                                                },
                                                "cover_image": {
                                                    "type": "string",
                                                    "nullable": true
                                                },
                                                "is_active": {
                                                    "type": "boolean",
                                                    "example": true
                                                },
                                                "max_students": {
                                                    "type": "integer",
                                                    "example": 25
                                                },
                                                "current_students_count": {
                                                    "type": "integer",
                                                    "example": 0
                                                },
                                                "teacher_id": {
                                                    "type": "string",
                                                    "format": "uuid"
                                                },
                                                "created_at": {
                                                    "type": "string",
                                                    "format": "date-time"
                                                },
                                                "updated_at": {
                                                    "type": "string",
                                                    "format": "date-time"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "‚ùå Bad Request - Invalid data",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Invalid schedule configuration"
                                        },
                                        "errors": {
                                            "properties": {
                                                "schedule.time": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string",
                                                        "example": "The time field must be a valid time format."
                                                    }
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "‚ùå Unauthorized",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Unauthenticated."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "‚ùå Forbidden - Insufficient permissions",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Only teachers and administrators can create classes."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "409": {
                        "description": "‚ö†Ô∏è Conflict - Class already exists",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "A class with this name or code already exists."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "‚ùå Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "The given data was invalid."
                                        },
                                        "errors": {
                                            "properties": {
                                                "name": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string",
                                                        "example": "The name field is required."
                                                    }
                                                },
                                                "max_students": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string",
                                                        "example": "The max students must be between 1 and 100."
                                                    }
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/classes/{id}": {
            "get": {
                "tags": [
                    "Classes"
                ],
                "summary": "üìã Get Class Details",
                "description": "Retrieve comprehensive class information including teacher, students, assignments, and analytics. Response varies based on user role and permissions.",
                "operationId": "getClassDetails",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "Class UUID identifier",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid",
                            "example": "0199800b-be72-71ed-91bc-118cbfdadc22"
                        }
                    },
                    {
                        "name": "include",
                        "in": "query",
                        "description": "Additional data to include",
                        "required": false,
                        "style": "form",
                        "explode": false,
                        "schema": {
                            "type": "array",
                            "items": {
                                "type": "string",
                                "enum": [
                                    "students",
                                    "assignments",
                                    "analytics",
                                    "upcoming_tasks",
                                    "recent_activity"
                                ]
                            },
                            "default": [
                                "students",
                                "assignments"
                            ]
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "‚úÖ Class details retrieved successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Class details retrieved successfully"
                                        },
                                        "data": {
                                            "properties": {
                                                "id": {
                                                    "type": "string",
                                                    "format": "uuid",
                                                    "example": "0199800b-be72-71ed-91bc-118cbfdadc22"
                                                },
                                                "name": {
                                                    "type": "string",
                                                    "example": "IELTS Preparation - Advanced"
                                                },
                                                "description": {
                                                    "type": "string",
                                                    "example": "Advanced IELTS preparation focusing on academic modules"
                                                },
                                                "level": {
                                                    "type": "string",
                                                    "example": "advanced"
                                                },
                                                "subject": {
                                                    "type": "string",
                                                    "example": "IELTS"
                                                },
                                                "class_code": {
                                                    "type": "string",
                                                    "example": "IELTS-ADV-001"
                                                },
                                                "cover_image": {
                                                    "type": "string",
                                                    "example": "https://api.koupii.com/storage/classes/cover-1.jpg",
                                                    "nullable": true
                                                },
                                                "is_active": {
                                                    "type": "boolean",
                                                    "example": true
                                                },
                                                "max_students": {
                                                    "type": "integer",
                                                    "example": 25
                                                },
                                                "current_students_count": {
                                                    "type": "integer",
                                                    "example": 18
                                                },
                                                "schedule": {
                                                    "properties": {
                                                        "days": {
                                                            "type": "array",
                                                            "items": {
                                                                "type": "string"
                                                            },
                                                            "example": [
                                                                "monday",
                                                                "wednesday",
                                                                "friday"
                                                            ]
                                                        },
                                                        "time": {
                                                            "type": "string",
                                                            "example": "14:00"
                                                        },
                                                        "duration_minutes": {
                                                            "type": "integer",
                                                            "example": 90
                                                        },
                                                        "timezone": {
                                                            "type": "string",
                                                            "example": "UTC+7"
                                                        }
                                                    },
                                                    "type": "object"
                                                },
                                                "teacher": {
                                                    "properties": {
                                                        "id": {
                                                            "type": "string",
                                                            "format": "uuid"
                                                        },
                                                        "name": {
                                                            "type": "string",
                                                            "example": "Dr. Sarah Wilson"
                                                        },
                                                        "email": {
                                                            "type": "string",
                                                            "example": "sarah.wilson@school.edu"
                                                        },
                                                        "bio": {
                                                            "type": "string",
                                                            "example": "IELTS expert with 10+ years experience"
                                                        },
                                                        "avatar": {
                                                            "type": "string",
                                                            "example": "https://api.koupii.com/storage/avatars/teacher-1.jpg",
                                                            "nullable": true
                                                        },
                                                        "specializations": {
                                                            "type": "array",
                                                            "items": {
                                                                "type": "string"
                                                            },
                                                            "example": [
                                                                "IELTS",
                                                                "TOEFL",
                                                                "Academic English"
                                                            ]
                                                        },
                                                        "rating": {
                                                            "type": "number",
                                                            "format": "float",
                                                            "example": 4.8
                                                        },
                                                        "total_classes": {
                                                            "type": "integer",
                                                            "example": 12
                                                        },
                                                        "total_students": {
                                                            "type": "integer",
                                                            "example": 245
                                                        }
                                                    },
                                                    "type": "object"
                                                },
                                                "students": {
                                                    "type": "array",
                                                    "items": {
                                                        "properties": {
                                                            "id": {
                                                                "type": "string",
                                                                "format": "uuid"
                                                            },
                                                            "name": {
                                                                "type": "string",
                                                                "example": "Alice Johnson"
                                                            },
                                                            "avatar": {
                                                                "type": "string",
                                                                "nullable": true
                                                            },
                                                            "enrollment_date": {
                                                                "type": "string",
                                                                "format": "date-time"
                                                            },
                                                            "current_level": {
                                                                "type": "string",
                                                                "example": "6.5"
                                                            },
                                                            "target_score": {
                                                                "type": "string",
                                                                "example": "7.0"
                                                            },
                                                            "progress_percentage": {
                                                                "type": "number",
                                                                "format": "float",
                                                                "example": 75.5
                                                            },
                                                            "assignments_completed": {
                                                                "type": "integer",
                                                                "example": 12
                                                            },
                                                            "assignments_total": {
                                                                "type": "integer",
                                                                "example": 15
                                                            },
                                                            "average_score": {
                                                                "type": "number",
                                                                "format": "float",
                                                                "example": 82.3
                                                            },
                                                            "last_active": {
                                                                "type": "string",
                                                                "format": "date-time"
                                                            },
                                                            "status": {
                                                                "type": "string",
                                                                "enum": [
                                                                    "active",
                                                                    "inactive",
                                                                    "suspended"
                                                                ],
                                                                "example": "active"
                                                            }
                                                        },
                                                        "type": "object"
                                                    }
                                                },
                                                "assignments": {
                                                    "type": "array",
                                                    "items": {
                                                        "properties": {
                                                            "id": {
                                                                "type": "string",
                                                                "format": "uuid"
                                                            },
                                                            "title": {
                                                                "type": "string",
                                                                "example": "Academic Writing Task 1"
                                                            },
                                                            "task_type": {
                                                                "type": "string",
                                                                "enum": [
                                                                    "writing",
                                                                    "reading",
                                                                    "listening",
                                                                    "speaking"
                                                                ],
                                                                "example": "writing"
                                                            },
                                                            "due_date": {
                                                                "type": "string",
                                                                "format": "date-time"
                                                            },
                                                            "status": {
                                                                "type": "string",
                                                                "enum": [
                                                                    "active",
                                                                    "completed",
                                                                    "overdue"
                                                                ],
                                                                "example": "active"
                                                            },
                                                            "submissions_count": {
                                                                "type": "integer",
                                                                "example": 15
                                                            },
                                                            "total_students": {
                                                                "type": "integer",
                                                                "example": 18
                                                            },
                                                            "average_score": {
                                                                "type": "number",
                                                                "format": "float",
                                                                "example": 78.5
                                                            }
                                                        },
                                                        "type": "object"
                                                    }
                                                },
                                                "analytics": {
                                                    "properties": {
                                                        "completion_rate": {
                                                            "type": "number",
                                                            "format": "float",
                                                            "example": 87.5
                                                        },
                                                        "average_score": {
                                                            "type": "number",
                                                            "format": "float",
                                                            "example": 78.2
                                                        },
                                                        "improvement_trend": {
                                                            "type": "string",
                                                            "enum": [
                                                                "improving",
                                                                "stable",
                                                                "declining"
                                                            ],
                                                            "example": "improving"
                                                        },
                                                        "most_challenging_task_type": {
                                                            "type": "string",
                                                            "example": "speaking"
                                                        },
                                                        "best_performing_task_type": {
                                                            "type": "string",
                                                            "example": "reading"
                                                        }
                                                    },
                                                    "type": "object"
                                                },
                                                "created_at": {
                                                    "type": "string",
                                                    "format": "date-time"
                                                },
                                                "updated_at": {
                                                    "type": "string",
                                                    "format": "date-time"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "‚ùå Unauthorized",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Unauthenticated."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "‚ùå Forbidden - No access to this class",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "You don't have permission to view this class."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "‚ùå Class not found",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Class not found."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            },
            "delete": {
                "tags": [
                    "Classes"
                ],
                "summary": "üóëÔ∏è Delete Class",
                "description": "Permanently delete a class and all associated data. Teachers can only delete their own classes, administrators can delete any class. This action cannot be undone.",
                "operationId": "deleteClass",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "Class UUID identifier",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid",
                            "example": "0199800b-be72-71ed-91bc-118cbfdadc22"
                        }
                    },
                    {
                        "name": "force",
                        "in": "query",
                        "description": "Force delete even with active assignments",
                        "required": false,
                        "schema": {
                            "type": "boolean",
                            "default": false
                        }
                    },
                    {
                        "name": "archive_data",
                        "in": "query",
                        "description": "Archive student data before deletion",
                        "required": false,
                        "schema": {
                            "type": "boolean",
                            "default": true
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "‚úÖ Class deleted successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Class deleted successfully"
                                        },
                                        "summary": {
                                            "properties": {
                                                "class_id": {
                                                    "type": "string",
                                                    "format": "uuid"
                                                },
                                                "class_name": {
                                                    "type": "string",
                                                    "example": "IELTS Preparation - Advanced"
                                                },
                                                "students_affected": {
                                                    "type": "integer",
                                                    "example": 18
                                                },
                                                "assignments_removed": {
                                                    "type": "integer",
                                                    "example": 24
                                                },
                                                "data_archived": {
                                                    "type": "boolean",
                                                    "example": true
                                                },
                                                "archive_id": {
                                                    "type": "string",
                                                    "format": "uuid",
                                                    "nullable": true
                                                },
                                                "deleted_at": {
                                                    "type": "string",
                                                    "format": "date-time"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "‚ùå Unauthorized",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Unauthenticated."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "‚ùå Forbidden - Cannot delete this class",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "You can only delete your own classes."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "‚ùå Class not found",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Class not found."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "409": {
                        "description": "‚ö†Ô∏è Cannot delete - Active dependencies",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Cannot delete class with active assignments. Use force=true to override."
                                        },
                                        "dependencies": {
                                            "properties": {
                                                "active_assignments": {
                                                    "type": "integer",
                                                    "example": 5
                                                },
                                                "pending_submissions": {
                                                    "type": "integer",
                                                    "example": 12
                                                },
                                                "enrolled_students": {
                                                    "type": "integer",
                                                    "example": 18
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/classes/update/{id}": {
            "post": {
                "tags": [
                    "Classes"
                ],
                "summary": "‚úèÔ∏è Update Class",
                "description": "Update class information. Teachers can only update their own classes, administrators can update any class.",
                "operationId": "updateClass",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "Class UUID identifier",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid",
                            "example": "0199800b-be72-71ed-91bc-118cbfdadc22"
                        }
                    }
                ],
                "requestBody": {
                    "description": "Updated class data",
                    "required": true,
                    "content": {
                        "multipart/form-data": {
                            "schema": {
                                "properties": {
                                    "_method": {
                                        "description": "HTTP method override for Laravel form method spoofing",
                                        "type": "string",
                                        "example": "PATCH"
                                    },
                                    "name": {
                                        "description": "Updated class name",
                                        "type": "string",
                                        "example": "IELTS Preparation - Advanced Plus"
                                    },
                                    "description": {
                                        "type": "string",
                                        "example": "Enhanced IELTS preparation with personalized feedback"
                                    },
                                    "level": {
                                        "type": "string",
                                        "enum": [
                                            "beginner",
                                            "intermediate",
                                            "advanced"
                                        ],
                                        "example": "advanced"
                                    },
                                    "subject": {
                                        "type": "string",
                                        "example": "IELTS"
                                    },
                                    "class_code": {
                                        "type": "string",
                                        "example": "IELTS-ADV-002"
                                    },
                                    "is_active": {
                                        "type": "boolean",
                                        "example": true
                                    },
                                    "max_students": {
                                        "type": "integer",
                                        "maximum": 100,
                                        "minimum": 1,
                                        "example": 30
                                    },
                                    "cover_image": {
                                        "description": "Updated cover image file for the class (JPEG, PNG, max 5MB)",
                                        "type": "string",
                                        "format": "binary"
                                    },
                                    "schedule": {
                                        "description": "JSON string for updated class schedule configuration",
                                        "type": "string",
                                        "example": "updated_schedule_json"
                                    },
                                    "settings": {
                                        "description": "JSON string for updated class behavior settings",
                                        "type": "string",
                                        "example": "updated_settings_json"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "‚úÖ Class updated successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Class updated successfully"
                                        },
                                        "data": {
                                            "properties": {
                                                "id": {
                                                    "type": "string",
                                                    "format": "uuid"
                                                },
                                                "name": {
                                                    "type": "string",
                                                    "example": "IELTS Preparation - Advanced Plus"
                                                },
                                                "description": {
                                                    "type": "string",
                                                    "example": "Enhanced IELTS preparation with personalized feedback"
                                                },
                                                "level": {
                                                    "type": "string",
                                                    "example": "advanced"
                                                },
                                                "subject": {
                                                    "type": "string",
                                                    "example": "IELTS"
                                                },
                                                "class_code": {
                                                    "type": "string",
                                                    "example": "IELTS-ADV-002"
                                                },
                                                "is_active": {
                                                    "type": "boolean",
                                                    "example": true
                                                },
                                                "max_students": {
                                                    "type": "integer",
                                                    "example": 30
                                                },
                                                "current_students_count": {
                                                    "type": "integer",
                                                    "example": 18
                                                },
                                                "updated_at": {
                                                    "type": "string",
                                                    "format": "date-time"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "‚ùå Unauthorized",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Unauthenticated."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "‚ùå Forbidden - Cannot update this class",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "You can only update your own classes."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "‚ùå Class not found",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Class not found."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "409": {
                        "description": "‚ö†Ô∏è Conflict - Duplicate data",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "A class with this name or code already exists."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "‚ùå Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "The given data was invalid."
                                        },
                                        "errors": {
                                            "properties": {
                                                "max_students": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string",
                                                        "example": "Cannot reduce max students below current enrollment count."
                                                    }
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/classes/join": {
            "post": {
                "tags": [
                    "Classes"
                ],
                "summary": "üéì Join Class by Code",
                "description": "Allow students to join a class using the unique class code provided by their teacher.",
                "operationId": "joinClassByCode",
                "requestBody": {
                    "description": "Class code to join",
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "class_code"
                                ],
                                "properties": {
                                    "class_code": {
                                        "description": "Unique class code to join",
                                        "type": "string",
                                        "maxLength": 20,
                                        "minLength": 3,
                                        "example": "ABC123"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "‚úÖ Successfully joined class",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Successfully joined class: IELTS Preparation Advanced"
                                        },
                                        "class": {
                                            "properties": {
                                                "id": {
                                                    "type": "string",
                                                    "format": "uuid",
                                                    "example": "0199800b-be72-71ed-91bc-118cbfdadc22"
                                                },
                                                "name": {
                                                    "type": "string",
                                                    "example": "IELTS Preparation Advanced"
                                                },
                                                "description": {
                                                    "type": "string",
                                                    "example": "Advanced IELTS preparation course"
                                                },
                                                "class_code": {
                                                    "type": "string",
                                                    "example": "ABC123"
                                                },
                                                "teacher": {
                                                    "type": "string",
                                                    "example": "Dr. Sarah Johnson"
                                                },
                                                "student_count": {
                                                    "type": "integer",
                                                    "example": 18
                                                },
                                                "max_students": {
                                                    "type": "integer",
                                                    "example": 25
                                                },
                                                "level": {
                                                    "type": "string",
                                                    "enum": [
                                                        "beginner",
                                                        "intermediate",
                                                        "advanced"
                                                    ],
                                                    "example": "advanced"
                                                },
                                                "subject": {
                                                    "type": "string",
                                                    "example": "IELTS"
                                                },
                                                "is_active": {
                                                    "type": "boolean",
                                                    "example": true
                                                },
                                                "created_at": {
                                                    "type": "string",
                                                    "format": "date-time"
                                                },
                                                "enrollment": {
                                                    "properties": {
                                                        "enrolled_at": {
                                                            "type": "string",
                                                            "format": "date-time"
                                                        },
                                                        "status": {
                                                            "type": "string",
                                                            "enum": [
                                                                "active",
                                                                "pending",
                                                                "suspended"
                                                            ],
                                                            "example": "active"
                                                        }
                                                    },
                                                    "type": "object"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "‚ùå Bad Request",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Class is not accepting new enrollments"
                                        },
                                        "details": {
                                            "type": "string",
                                            "example": "This class has reached maximum capacity or is inactive"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "‚ùå Unauthorized",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Unauthenticated."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "‚ùå Only students can join classes",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Only students can join classes"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "409": {
                        "description": "‚ö†Ô∏è Already enrolled in this class",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "You are already enrolled in this class"
                                        },
                                        "enrollment": {
                                            "properties": {
                                                "enrolled_at": {
                                                    "type": "string",
                                                    "format": "date-time"
                                                },
                                                "status": {
                                                    "type": "string",
                                                    "example": "active"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "‚ùå Invalid class code or validation error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "The given data was invalid."
                                        },
                                        "errors": {
                                            "properties": {
                                                "class_code": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string",
                                                        "example": "Invalid class code or class not found."
                                                    }
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/enrollments": {
            "get": {
                "tags": [
                    "Enrollments"
                ],
                "summary": "Get all enrollments based on user role",
                "description": "Admin sees all enrollments, teacher sees only enrollments in their classes, student sees only their enrolled classes.",
                "operationId": "9acda90d9a567aeb0cd8a370f962f307",
                "responses": {
                    "200": {
                        "description": "List of enrollments",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "array",
                                    "items": {
                                        "properties": {
                                            "id": {
                                                "type": "string",
                                                "example": "d40a0147-493f-4d70-bb4a-d7052e89e921"
                                            },
                                            "class_id": {
                                                "type": "string",
                                                "example": "20d7c432-467b-433a-b035-b43481b5ee85"
                                            },
                                            "student_id": {
                                                "type": "string",
                                                "example": "d2fb93ec-6043-4384-814d-0e48f36aed50"
                                            },
                                            "status": {
                                                "type": "string",
                                                "example": "active"
                                            },
                                            "enrolled_at": {
                                                "type": "string",
                                                "example": "2025-07-17 08:55:35"
                                            },
                                            "created_at": {
                                                "type": "string",
                                                "format": "date-time",
                                                "example": "2025-07-17T08:55:35.000000Z"
                                            },
                                            "updated_at": {
                                                "type": "string",
                                                "format": "date-time",
                                                "example": "2025-07-17T08:55:35.000000Z"
                                            },
                                            "class": {
                                                "properties": {
                                                    "id": {
                                                        "type": "string",
                                                        "example": "20d7c432-467b-433a-b035-b43481b5ee85"
                                                    },
                                                    "teacher_id": {
                                                        "type": "string",
                                                        "example": "598d528e-c734-456e-b77c-7abee4cf92fa"
                                                    },
                                                    "name": {
                                                        "type": "string",
                                                        "example": "Theorytical Class"
                                                    },
                                                    "description": {
                                                        "type": "string",
                                                        "example": "This is theory class"
                                                    },
                                                    "class_code": {
                                                        "type": "string",
                                                        "example": "lkoiun"
                                                    },
                                                    "cover_image": {
                                                        "type": "string",
                                                        "example": "cover.jpg"
                                                    },
                                                    "is_active": {
                                                        "type": "boolean",
                                                        "example": false
                                                    }
                                                },
                                                "type": "object"
                                            },
                                            "student": {
                                                "properties": {
                                                    "id": {
                                                        "type": "string",
                                                        "example": "d2fb93ec-6043-4384-814d-0e48f36aed50"
                                                    },
                                                    "name": {
                                                        "type": "string",
                                                        "example": "Student User 2"
                                                    },
                                                    "email": {
                                                        "type": "string",
                                                        "example": "student2@example.com"
                                                    },
                                                    "role": {
                                                        "type": "string",
                                                        "example": "student"
                                                    }
                                                },
                                                "type": "object"
                                            }
                                        },
                                        "type": "object"
                                    }
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/enrollments/create": {
            "post": {
                "tags": [
                    "Enrollments"
                ],
                "summary": "Enroll student to class",
                "description": "Student enrolls to a class using class_id and class_code.",
                "operationId": "d98302a7f23c9d998c5ba38d3aeb92f6",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "class_code"
                                ],
                                "properties": {
                                    "class_code": {
                                        "type": "string",
                                        "example": "1234567"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Enrolled successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Enrolled successfully"
                                        },
                                        "data": {
                                            "properties": {
                                                "id": {
                                                    "type": "string",
                                                    "example": "d40a0147-493f-4d70-bb4a-d7052e89e921"
                                                },
                                                "class_id": {
                                                    "type": "string",
                                                    "example": "20d7c432-467b-433a-b035-b43481b5ee85"
                                                },
                                                "status": {
                                                    "type": "string",
                                                    "example": "active"
                                                },
                                                "enrolled_at": {
                                                    "type": "string",
                                                    "example": "2025-07-17T08:55:35.710993Z"
                                                },
                                                "created_at": {
                                                    "type": "string",
                                                    "example": "2025-07-17T08:55:35.710993Z"
                                                },
                                                "updated_at": {
                                                    "type": "string",
                                                    "example": "2025-07-17T08:55:35.710993Z"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Invalid class code or validation error"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/enrollments/{id}": {
            "get": {
                "tags": [
                    "Enrollments"
                ],
                "summary": "Get enrollment details",
                "description": "Show enrollment details including class and student info.",
                "operationId": "a790a737b803bad083b0c89ef68d879d",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "Enrollment ID (UUID)",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Enrollment details",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "id": {
                                            "type": "string",
                                            "example": "d40a0147-493f-4d70-bb4a-d7052e89e921"
                                        },
                                        "class_id": {
                                            "type": "string",
                                            "example": "20d7c432-467b-433a-b035-b43481b5ee85"
                                        },
                                        "student_id": {
                                            "type": "string",
                                            "example": "d2fb93ec-6043-4384-814d-0e48f36aed50"
                                        },
                                        "status": {
                                            "type": "string",
                                            "example": "active"
                                        },
                                        "enrolled_at": {
                                            "type": "string",
                                            "example": "2025-07-17 08:55:35"
                                        },
                                        "class": {
                                            "properties": {
                                                "id": {
                                                    "type": "string",
                                                    "example": "20d7c432-467b-433a-b035-b43481b5ee85"
                                                },
                                                "name": {
                                                    "type": "string",
                                                    "example": "Theorytical Class"
                                                }
                                            },
                                            "type": "object"
                                        },
                                        "student": {
                                            "properties": {
                                                "id": {
                                                    "type": "string",
                                                    "example": "d2fb93ec-6043-4384-814d-0e48f36aed50"
                                                },
                                                "name": {
                                                    "type": "string",
                                                    "example": "Student User 2"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Enrollment not found"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/enrollments/update/{id}": {
            "patch": {
                "tags": [
                    "Enrollments"
                ],
                "summary": "Update enrollment status",
                "description": "Admin, teacher, or student can update enrollment (depends on role).",
                "operationId": "0a01558beee4e2f1d44d82a2c6fa0cc5",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "status"
                                ],
                                "properties": {
                                    "class_id": {
                                        "type": "string",
                                        "example": "20d7c432-467b-433a-b035-b43481b5ee85"
                                    },
                                    "status": {
                                        "type": "string",
                                        "example": "inactive"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Enrollment updated successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Enrollment updated successfully"
                                        },
                                        "data": {
                                            "properties": {
                                                "id": {
                                                    "type": "string",
                                                    "example": "d40a0147-493f-4d70-bb4a-d7052e89e921"
                                                },
                                                "status": {
                                                    "type": "string",
                                                    "example": "inactive"
                                                },
                                                "updated_at": {
                                                    "type": "string",
                                                    "format": "date-time",
                                                    "example": "2025-07-17T09:00:46.000000Z"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/enrollments/delete/{id}": {
            "delete": {
                "tags": [
                    "Enrollments"
                ],
                "summary": "Delete enrollment",
                "description": "Admin, teacher, or student can delete enrollment based on role authorization.",
                "operationId": "ac8b66d056a0e9c0baad579afd326bf9",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Enrollment deleted successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Enrollment deleted successfully"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Unauthorized"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/invitations": {
            "get": {
                "tags": [
                    "Invitations"
                ],
                "summary": "Get all invitations based on user role",
                "description": "Admin sees all invitations, teacher sees only invitations in their classes, student sees only invitations sent to them.",
                "operationId": "730ffa7940f3cf6898a9464f080d25bc",
                "responses": {
                    "200": {
                        "description": "List of invitations",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "array",
                                    "items": {
                                        "properties": {
                                            "id": {
                                                "type": "string",
                                                "example": "caccde25-0463-4acf-979e-46fca9b2315a"
                                            },
                                            "class_id": {
                                                "type": "string",
                                                "example": "3d565341-2760-4454-bb36-a89cb2ead1a9"
                                            },
                                            "teacher_id": {
                                                "type": "string",
                                                "example": "571bd78d-4879-44e0-9697-05b6e8bebc5d"
                                            },
                                            "student_id": {
                                                "type": "string",
                                                "example": "d2fb93ec-6043-4384-814d-0e48f36aed50"
                                            },
                                            "email": {
                                                "type": "string",
                                                "example": "student2@example.com"
                                            },
                                            "invitation_token": {
                                                "type": "string",
                                                "example": "ee2df5caeee45080adf83682e6b4c159"
                                            },
                                            "status": {
                                                "type": "string",
                                                "example": "pending"
                                            },
                                            "expires_at": {
                                                "type": "string",
                                                "example": "2025-07-18 09:15:39"
                                            },
                                            "created_at": {
                                                "type": "string",
                                                "format": "date-time",
                                                "example": "2025-07-17T09:15:39.000000Z"
                                            },
                                            "updated_at": {
                                                "type": "string",
                                                "format": "date-time",
                                                "example": "2025-07-17T09:18:42.000000Z"
                                            }
                                        },
                                        "type": "object"
                                    }
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Unauthorized"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/invitations/create": {
            "post": {
                "tags": [
                    "Invitations"
                ],
                "summary": "Send invitation to student",
                "description": "Teacher or admin sends an invitation to a student to join a class.",
                "operationId": "36d1d1930115b8b9518e5dbf24919102",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "class_code",
                                    "email"
                                ],
                                "properties": {
                                    "class_code": {
                                        "type": "string",
                                        "example": "ABCD12345"
                                    },
                                    "email": {
                                        "type": "string",
                                        "example": "student@example.com"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Invitation sent successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Invitation sent successfully"
                                        },
                                        "data": {
                                            "properties": {
                                                "id": {
                                                    "type": "string",
                                                    "example": "caccde25-0463-4acf-979e-46fca9b2315a"
                                                },
                                                "teacher_id": {
                                                    "type": "string",
                                                    "example": "571bd78d-4879-44e0-9697-05b6e8bebc5d"
                                                },
                                                "class_id": {
                                                    "type": "string",
                                                    "example": "3d565341-2760-4454-bb36-a89cb2ead1a9"
                                                },
                                                "student_id": {
                                                    "type": "string",
                                                    "example": "d2fb93ec-6043-4384-814d-0e48f36aed50"
                                                },
                                                "email": {
                                                    "type": "string",
                                                    "example": "student@example.com"
                                                },
                                                "status": {
                                                    "type": "string",
                                                    "example": "pending"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "409": {
                        "description": "Student already enrolled or invitation already sent"
                    },
                    "422": {
                        "description": "Validation error"
                    },
                    "403": {
                        "description": "Unauthorized"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/invitations/accept/{id}": {
            "patch": {
                "tags": [
                    "Invitations"
                ],
                "summary": "Accept invitation",
                "description": "Student accepts the invitation to join a class.",
                "operationId": "27ed4f788e5fd4dfe1720d9260da1aee",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "Invitation ID (UUID)",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Invitation accepted successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Invitation accepted successfully"
                                        },
                                        "data": {
                                            "properties": {
                                                "id": {
                                                    "type": "string",
                                                    "example": "caccde25-0463-4acf-979e-46fca9b2315a"
                                                },
                                                "status": {
                                                    "type": "string",
                                                    "example": "accepted"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Unauthorized - You can only accept your own invitations"
                    },
                    "404": {
                        "description": "Invitation not found"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/invitations/decline/{id}": {
            "patch": {
                "tags": [
                    "Invitations"
                ],
                "summary": "Decline invitation",
                "description": "Student declines the invitation to join a class.",
                "operationId": "439b82b9ac8a9cd884d5f57ae2de7f9e",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "Invitation ID (UUID)",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Invitation declined successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Invitation declined successfully"
                                        },
                                        "data": {
                                            "properties": {
                                                "id": {
                                                    "type": "string",
                                                    "example": "caccde25-0463-4acf-979e-46fca9b2315a"
                                                },
                                                "status": {
                                                    "type": "string",
                                                    "example": "declined"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Unauthorized - You can only decline your own invitations"
                    },
                    "404": {
                        "description": "Invitation not found"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/invitations/update/{id}": {
            "patch": {
                "tags": [
                    "Invitations"
                ],
                "summary": "Update invitation details",
                "description": "Teacher or admin updates invitation details (e.g., change email if wrong person was invited).",
                "operationId": "93e7f8496d0d2c4b7245315b8bc406ab",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "Invitation ID (UUID)",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "class_code",
                                    "email"
                                ],
                                "properties": {
                                    "class_code": {
                                        "type": "string",
                                        "example": "ABCD12345"
                                    },
                                    "email": {
                                        "type": "string",
                                        "example": "newemail@example.com"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Invitation updated successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Invitation updated successfully"
                                        },
                                        "data": {
                                            "properties": {
                                                "id": {
                                                    "type": "string",
                                                    "example": "caccde25-0463-4acf-979e-46fca9b2315a"
                                                },
                                                "email": {
                                                    "type": "string",
                                                    "example": "newemail@example.com"
                                                },
                                                "status": {
                                                    "type": "string",
                                                    "example": "pending"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Unauthorized - You can only update invitations for your own classes"
                    },
                    "404": {
                        "description": "Invitation not found"
                    },
                    "409": {
                        "description": "Student already enrolled or invitation already sent"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/invitations/delete/{id}": {
            "delete": {
                "tags": [
                    "Invitations"
                ],
                "summary": "Delete invitation",
                "description": "Teacher or admin deletes the invitation before it is accepted or declined.",
                "operationId": "11db00174b6d8d67542429fb29546e3e",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "Invitation ID (UUID)",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Invitation deleted successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Invitation deleted successfully"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Unauthorized"
                    },
                    "404": {
                        "description": "Invitation not found"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/classes/{classId}/tests": {
            "get": {
                "tags": [
                    "Classes",
                    "Tests"
                ],
                "summary": "üìù Get All Tests for a Class",
                "description": "Retrieve all tests created for a specific class. Only class teachers can access this.",
                "operationId": "getClassTests",
                "parameters": [
                    {
                        "name": "classId",
                        "in": "path",
                        "description": "Class ID",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        }
                    },
                    {
                        "name": "type",
                        "in": "query",
                        "description": "Filter by test type",
                        "required": false,
                        "schema": {
                            "type": "string",
                            "enum": [
                                "reading",
                                "writing",
                                "listening",
                                "speaking",
                                "mixed"
                            ]
                        }
                    },
                    {
                        "name": "is_published",
                        "in": "query",
                        "description": "Filter by publication status",
                        "required": false,
                        "schema": {
                            "type": "boolean"
                        }
                    },
                    {
                        "name": "per_page",
                        "in": "query",
                        "description": "Number of tests per page",
                        "required": false,
                        "schema": {
                            "type": "integer",
                            "default": 15,
                            "maximum": 50,
                            "minimum": 1
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "‚úÖ Class tests retrieved successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Class tests retrieved successfully"
                                        },
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "properties": {
                                                    "id": {
                                                        "type": "string",
                                                        "format": "uuid"
                                                    },
                                                    "title": {
                                                        "type": "string",
                                                        "example": "IELTS Reading Practice Test 1"
                                                    },
                                                    "description": {
                                                        "type": "string",
                                                        "example": "Comprehensive reading skills assessment"
                                                    },
                                                    "type": {
                                                        "type": "string",
                                                        "example": "reading"
                                                    },
                                                    "difficulty": {
                                                        "type": "string",
                                                        "example": "intermediate"
                                                    },
                                                    "is_published": {
                                                        "type": "boolean",
                                                        "example": true
                                                    },
                                                    "created_at": {
                                                        "type": "string",
                                                        "format": "date-time"
                                                    },
                                                    "statistics": {
                                                        "properties": {
                                                            "total_passages": {
                                                                "type": "integer",
                                                                "example": 3
                                                            },
                                                            "total_questions": {
                                                                "type": "integer",
                                                                "example": 40
                                                            }
                                                        },
                                                        "type": "object"
                                                    }
                                                },
                                                "type": "object"
                                            }
                                        },
                                        "class": {
                                            "properties": {
                                                "id": {
                                                    "type": "string",
                                                    "format": "uuid"
                                                },
                                                "name": {
                                                    "type": "string",
                                                    "example": "IELTS Preparation Advanced"
                                                },
                                                "class_code": {
                                                    "type": "string",
                                                    "example": "ABC123"
                                                },
                                                "student_count": {
                                                    "type": "integer",
                                                    "example": 18
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "‚ùå Unauthorized - not class teacher",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Unauthorized"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "‚ùå Class not found",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Failed to retrieve tests"
                                        },
                                        "error": {
                                            "type": "string"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            },
            "post": {
                "tags": [
                    "Classes",
                    "Tests"
                ],
                "summary": "üÜï Create New Test for Class",
                "description": "Create a new test specifically for this class. Only the class teacher can create tests.",
                "operationId": "createClassTest",
                "parameters": [
                    {
                        "name": "classId",
                        "in": "path",
                        "description": "Class ID",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "title",
                                    "description",
                                    "type",
                                    "difficulty",
                                    "timer_mode"
                                ],
                                "properties": {
                                    "title": {
                                        "type": "string",
                                        "maxLength": 255,
                                        "example": "IELTS Reading Practice Test 1"
                                    },
                                    "description": {
                                        "type": "string",
                                        "example": "Practice test focusing on academic reading skills"
                                    },
                                    "type": {
                                        "type": "string",
                                        "enum": [
                                            "reading",
                                            "writing",
                                            "listening",
                                            "speaking"
                                        ],
                                        "example": "reading"
                                    },
                                    "difficulty": {
                                        "type": "string",
                                        "enum": [
                                            "beginner",
                                            "intermediate",
                                            "advanced"
                                        ],
                                        "example": "intermediate"
                                    },
                                    "test_type": {
                                        "type": "string",
                                        "enum": [
                                            "single",
                                            "final"
                                        ],
                                        "example": "single"
                                    },
                                    "timer_mode": {
                                        "type": "string",
                                        "enum": [
                                            "none",
                                            "countdown",
                                            "countup"
                                        ],
                                        "example": "countdown"
                                    },
                                    "timer_settings": {
                                        "properties": {
                                            "time_limit": {
                                                "description": "Time limit in seconds",
                                                "type": "integer",
                                                "example": 3600
                                            },
                                            "warning_time": {
                                                "description": "Warning time in seconds",
                                                "type": "integer",
                                                "example": 300
                                            }
                                        },
                                        "type": "object"
                                    },
                                    "allow_repetition": {
                                        "type": "boolean",
                                        "example": false
                                    },
                                    "max_repetition_count": {
                                        "type": "integer",
                                        "maximum": 10,
                                        "minimum": 1,
                                        "example": 2
                                    },
                                    "is_public": {
                                        "type": "boolean",
                                        "example": false
                                    },
                                    "is_published": {
                                        "type": "boolean",
                                        "example": false
                                    },
                                    "settings": {
                                        "properties": {
                                            "shuffle_questions": {
                                                "type": "boolean",
                                                "example": false
                                            },
                                            "shuffle_options": {
                                                "type": "boolean",
                                                "example": false
                                            },
                                            "show_results": {
                                                "type": "boolean",
                                                "example": true
                                            }
                                        },
                                        "type": "object"
                                    },
                                    "passages": {
                                        "description": "Array of passages with questions for the test",
                                        "type": "array",
                                        "items": {
                                            "properties": {
                                                "title": {
                                                    "type": "string",
                                                    "example": "Climate Change Passage"
                                                },
                                                "description": {
                                                    "type": "string",
                                                    "example": "Academic text about environmental issues"
                                                },
                                                "audio_file_path": {
                                                    "type": "string",
                                                    "example": "audio/climate-change.mp3"
                                                },
                                                "question_groups": {
                                                    "type": "array",
                                                    "items": {
                                                        "properties": {
                                                            "instruction": {
                                                                "type": "string",
                                                                "example": "Choose the correct answer"
                                                            },
                                                            "questions": {
                                                                "type": "array",
                                                                "items": {
                                                                    "properties": {
                                                                        "question_type": {
                                                                            "type": "string",
                                                                            "example": "multiple_choice"
                                                                        },
                                                                        "question_number": {
                                                                            "type": "number",
                                                                            "example": 1
                                                                        },
                                                                        "question_text": {
                                                                            "type": "string",
                                                                            "example": "What is the main idea of the passage?"
                                                                        },
                                                                        "points_value": {
                                                                            "type": "number",
                                                                            "example": 1
                                                                        },
                                                                        "options": {
                                                                            "type": "array",
                                                                            "items": {
                                                                                "properties": {
                                                                                    "option_key": {
                                                                                        "type": "string",
                                                                                        "example": "A"
                                                                                    },
                                                                                    "option_text": {
                                                                                        "type": "string",
                                                                                        "example": "Climate change is a serious issue"
                                                                                    }
                                                                                },
                                                                                "type": "object"
                                                                            }
                                                                        }
                                                                    },
                                                                    "type": "object"
                                                                }
                                                            }
                                                        },
                                                        "type": "object"
                                                    }
                                                }
                                            },
                                            "type": "object"
                                        }
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "‚úÖ Test created successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Test created successfully for class: IELTS Preparation Advanced"
                                        },
                                        "data": {
                                            "properties": {
                                                "id": {
                                                    "type": "string",
                                                    "format": "uuid"
                                                },
                                                "title": {
                                                    "type": "string",
                                                    "example": "IELTS Reading Practice Test 1"
                                                },
                                                "type": {
                                                    "type": "string",
                                                    "example": "reading"
                                                },
                                                "is_published": {
                                                    "type": "boolean",
                                                    "example": false
                                                }
                                            },
                                            "type": "object"
                                        },
                                        "class": {
                                            "properties": {
                                                "id": {
                                                    "type": "string",
                                                    "format": "uuid"
                                                },
                                                "name": {
                                                    "type": "string",
                                                    "example": "IELTS Preparation Advanced"
                                                },
                                                "class_code": {
                                                    "type": "string",
                                                    "example": "ABC123"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "‚ùå Validation failed",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Failed to create test"
                                        },
                                        "error": {
                                            "type": "string"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/classes/{classId}/tests/{testId}": {
            "get": {
                "tags": [
                    "Classes",
                    "Tests"
                ],
                "summary": "üìä Get Class Test Details",
                "description": "Get detailed information about a specific test within a class including statistics",
                "operationId": "getClassTest",
                "parameters": [
                    {
                        "name": "classId",
                        "in": "path",
                        "description": "Class ID",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        }
                    },
                    {
                        "name": "testId",
                        "in": "path",
                        "description": "Test ID",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "‚úÖ Test details retrieved successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Test details retrieved successfully"
                                        },
                                        "data": {
                                            "properties": {
                                                "id": {
                                                    "type": "string",
                                                    "format": "uuid"
                                                },
                                                "title": {
                                                    "type": "string",
                                                    "example": "IELTS Reading Practice Test 1"
                                                },
                                                "description": {
                                                    "type": "string"
                                                },
                                                "type": {
                                                    "type": "string",
                                                    "example": "reading"
                                                },
                                                "difficulty": {
                                                    "type": "string",
                                                    "example": "intermediate"
                                                },
                                                "is_published": {
                                                    "type": "boolean",
                                                    "example": true
                                                },
                                                "passages": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "object"
                                                    }
                                                },
                                                "class": {
                                                    "properties": {
                                                        "id": {
                                                            "type": "string",
                                                            "format": "uuid"
                                                        },
                                                        "name": {
                                                            "type": "string",
                                                            "example": "IELTS Preparation Advanced"
                                                        },
                                                        "class_code": {
                                                            "type": "string",
                                                            "example": "ABC123"
                                                        }
                                                    },
                                                    "type": "object"
                                                }
                                            },
                                            "type": "object"
                                        },
                                        "statistics": {
                                            "properties": {
                                                "assigned_students": {
                                                    "type": "integer",
                                                    "example": 15
                                                },
                                                "completed": {
                                                    "type": "integer",
                                                    "example": 10
                                                },
                                                "in_progress": {
                                                    "type": "integer",
                                                    "example": 3
                                                },
                                                "not_started": {
                                                    "type": "integer",
                                                    "example": 2
                                                }
                                            },
                                            "type": "object"
                                        },
                                        "class": {
                                            "properties": {
                                                "id": {
                                                    "type": "string",
                                                    "format": "uuid"
                                                },
                                                "name": {
                                                    "type": "string",
                                                    "example": "IELTS Preparation Advanced"
                                                },
                                                "class_code": {
                                                    "type": "string",
                                                    "example": "ABC123"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "‚ùå Test not found",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Test not found"
                                        },
                                        "error": {
                                            "type": "string"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            },
            "put": {
                "tags": [
                    "Classes",
                    "Tests"
                ],
                "summary": "üìù Update Class Test",
                "description": "Update an existing test within a class",
                "operationId": "updateClassTest",
                "parameters": [
                    {
                        "name": "classId",
                        "in": "path",
                        "description": "Class ID",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        }
                    },
                    {
                        "name": "testId",
                        "in": "path",
                        "description": "Test ID",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "properties": {
                                    "title": {
                                        "type": "string",
                                        "example": "Updated Test Title"
                                    },
                                    "description": {
                                        "type": "string",
                                        "example": "Updated test description"
                                    },
                                    "is_published": {
                                        "type": "boolean",
                                        "example": true
                                    },
                                    "timer_mode": {
                                        "type": "string",
                                        "enum": [
                                            "none",
                                            "countdown",
                                            "countup"
                                        ]
                                    },
                                    "timer_settings": {
                                        "properties": {
                                            "time_limit": {
                                                "type": "integer"
                                            },
                                            "warning_time": {
                                                "type": "integer"
                                            }
                                        },
                                        "type": "object"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "‚úÖ Test updated successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Test updated successfully"
                                        },
                                        "data": {
                                            "properties": {
                                                "id": {
                                                    "type": "string",
                                                    "format": "uuid"
                                                },
                                                "title": {
                                                    "type": "string"
                                                },
                                                "is_published": {
                                                    "type": "boolean"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            },
            "delete": {
                "tags": [
                    "Classes",
                    "Tests"
                ],
                "summary": "üóëÔ∏è Delete Class Test",
                "description": "Delete a test from the class. This will also remove all related assignments and student submissions.",
                "operationId": "deleteClassTest",
                "parameters": [
                    {
                        "name": "classId",
                        "in": "path",
                        "description": "Class ID",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        }
                    },
                    {
                        "name": "id",
                        "in": "path",
                        "description": "Test ID",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "‚úÖ Test deleted successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Test deleted successfully from IELTS Preparation Advanced"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "‚ùå Test not found",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Failed to delete test"
                                        },
                                        "error": {
                                            "type": "string"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/classes/{classId}/tests/{testId}/assign": {
            "post": {
                "tags": [
                    "Classes",
                    "Tests"
                ],
                "summary": "üìã Assign Test to All Students in Class",
                "description": "Assign a test to all enrolled students in the class with due date and instructions",
                "operationId": "assignTestToClass",
                "parameters": [
                    {
                        "name": "classId",
                        "in": "path",
                        "description": "Class ID",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        }
                    },
                    {
                        "name": "testId",
                        "in": "path",
                        "description": "Test ID",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "due_date"
                                ],
                                "properties": {
                                    "due_date": {
                                        "description": "Assignment due date",
                                        "type": "string",
                                        "format": "date-time",
                                        "example": "2026-01-15T23:59:59Z"
                                    },
                                    "close_date": {
                                        "description": "Assignment close date (optional)",
                                        "type": "string",
                                        "format": "date-time",
                                        "example": "2026-01-16T23:59:59Z"
                                    },
                                    "title": {
                                        "description": "Custom assignment title",
                                        "type": "string",
                                        "example": "Weekly IELTS Assessment"
                                    },
                                    "description": {
                                        "description": "Assignment instructions",
                                        "type": "string",
                                        "example": "Complete all reading passages and submit answers before due date"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "‚úÖ Test assigned successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Test assigned to all students in IELTS Preparation Advanced"
                                        },
                                        "data": {
                                            "properties": {
                                                "assignment_id": {
                                                    "type": "string",
                                                    "format": "uuid"
                                                },
                                                "test_title": {
                                                    "type": "string",
                                                    "example": "IELTS Reading Practice Test 1"
                                                },
                                                "due_date": {
                                                    "type": "string",
                                                    "format": "date-time"
                                                },
                                                "assigned_to_students": {
                                                    "type": "integer",
                                                    "example": 18
                                                }
                                            },
                                            "type": "object"
                                        },
                                        "class": {
                                            "properties": {
                                                "id": {
                                                    "type": "string",
                                                    "format": "uuid"
                                                },
                                                "name": {
                                                    "type": "string",
                                                    "example": "IELTS Preparation Advanced"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "‚ùå Test must be published or validation failed",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Failed to assign test"
                                        },
                                        "error": {
                                            "type": "string"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/listening/tests": {
            "get": {
                "tags": [
                    "Listening Tests"
                ],
                "summary": "Get all listening tests",
                "description": "Retrieve listening tests based on user role. Admin sees all tests, students see only published tests, teachers see only their own tests.",
                "operationId": "f41a2173e34ee5459fd04236e071ddb8",
                "responses": {
                    "200": {
                        "description": "Listening tests retrieved successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Listening tests retrieved successfully"
                                        },
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "properties": {
                                                    "id": {
                                                        "type": "string",
                                                        "format": "uuid",
                                                        "example": "550e8400-e29b-41d4-a716-446655440000"
                                                    },
                                                    "creator_id": {
                                                        "type": "string",
                                                        "format": "uuid",
                                                        "example": "550e8400-e29b-41d4-a716-446655440001"
                                                    },
                                                    "creator_name": {
                                                        "type": "string",
                                                        "example": "Teacher Name"
                                                    },
                                                    "type": {
                                                        "type": "string",
                                                        "example": "listening"
                                                    },
                                                    "test_type": {
                                                        "type": "string",
                                                        "example": "academic"
                                                    },
                                                    "difficulty": {
                                                        "type": "string",
                                                        "example": "intermediate"
                                                    },
                                                    "title": {
                                                        "type": "string",
                                                        "example": "IELTS Listening Practice Test"
                                                    },
                                                    "description": {
                                                        "type": "string",
                                                        "example": "Test description"
                                                    },
                                                    "timer_mode": {
                                                        "type": "string",
                                                        "example": "test"
                                                    },
                                                    "timer_settings": {
                                                        "type": "object"
                                                    },
                                                    "allow_repetition": {
                                                        "type": "boolean",
                                                        "example": true
                                                    },
                                                    "max_repetition_count": {
                                                        "type": "integer",
                                                        "example": 3
                                                    },
                                                    "is_public": {
                                                        "type": "boolean",
                                                        "example": false
                                                    },
                                                    "is_published": {
                                                        "type": "boolean",
                                                        "example": true
                                                    },
                                                    "settings": {
                                                        "type": "object"
                                                    },
                                                    "created_at": {
                                                        "type": "string",
                                                        "format": "date-time"
                                                    },
                                                    "updated_at": {
                                                        "type": "string",
                                                        "format": "date-time"
                                                    },
                                                    "statistics": {
                                                        "properties": {
                                                            "total_attempts": {
                                                                "type": "integer",
                                                                "example": 15
                                                            },
                                                            "completed_attempts": {
                                                                "type": "integer",
                                                                "example": 12
                                                            },
                                                            "average_score": {
                                                                "type": "number",
                                                                "example": 85.5
                                                            }
                                                        },
                                                        "type": "object"
                                                    }
                                                },
                                                "type": "object"
                                            }
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            },
            "post": {
                "tags": [
                    "Listening Tests"
                ],
                "summary": "Create a new listening test",
                "description": "Create a new listening test with audio segments and questions.",
                "operationId": "16529fcea5ed4d7078479e751ae6054a",
                "requestBody": {
                    "required": true,
                    "content": {
                        "multipart/form-data": {
                            "schema": {
                                "required": [
                                    "title",
                                    "description",
                                    "test_type",
                                    "difficulty"
                                ],
                                "properties": {
                                    "title": {
                                        "type": "string",
                                        "example": "IELTS Listening Test"
                                    },
                                    "description": {
                                        "type": "string",
                                        "example": "A comprehensive listening test"
                                    },
                                    "test_type": {
                                        "type": "string",
                                        "enum": [
                                            "academic",
                                            "general",
                                            "business",
                                            "ielts",
                                            "toefl"
                                        ],
                                        "example": "ielts"
                                    },
                                    "difficulty": {
                                        "type": "string",
                                        "enum": [
                                            "beginner",
                                            "intermediate",
                                            "advanced"
                                        ],
                                        "example": "intermediate"
                                    },
                                    "timer_mode": {
                                        "type": "string",
                                        "enum": [
                                            "none",
                                            "test",
                                            "practice"
                                        ],
                                        "example": "test"
                                    },
                                    "timer_settings": {
                                        "description": "JSON object of timer settings",
                                        "type": "string",
                                        "example": "{\"test_time\":60,\"warning_time\":5}"
                                    },
                                    "allow_repetition": {
                                        "type": "boolean",
                                        "example": true
                                    },
                                    "max_repetition_count": {
                                        "type": "integer",
                                        "example": 3
                                    },
                                    "is_public": {
                                        "type": "boolean",
                                        "example": false
                                    },
                                    "duration_minutes": {
                                        "type": "integer",
                                        "example": 60
                                    },
                                    "passing_score": {
                                        "type": "integer",
                                        "example": 70
                                    },
                                    "audio_files": {
                                        "description": "Upload test audio files",
                                        "type": "array",
                                        "items": {
                                            "type": "string",
                                            "format": "binary"
                                        }
                                    },
                                    "reference_materials": {
                                        "description": "Upload reference materials, transcripts, etc.",
                                        "type": "array",
                                        "items": {
                                            "type": "string",
                                            "format": "binary"
                                        }
                                    },
                                    "test_data": {
                                        "description": "JSON string containing passages, audio segments and questions data",
                                        "type": "string",
                                        "example": "{\"passages\":[],\"audio_segments\":[],\"questions\":[]}"
                                    },
                                    "is_published": {
                                        "type": "boolean",
                                        "example": true
                                    },
                                    "settings": {
                                        "description": "JSON object of test settings",
                                        "type": "string",
                                        "example": "{\"instructions\":\"Listen carefully\",\"audio_format\":\"mp3\",\"audio_speed\":1.0}"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Listening test created successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Listening test created successfully"
                                        },
                                        "test_id": {
                                            "type": "string",
                                            "format": "uuid",
                                            "example": "550e8400-e29b-41d4-a716-446655440000"
                                        },
                                        "data": {
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation error"
                    },
                    "401": {
                        "description": "Unauthorized"
                    },
                    "403": {
                        "description": "Forbidden"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/listening/tests/{id}": {
            "get": {
                "tags": [
                    "Listening Tests"
                ],
                "summary": "Get a specific listening test",
                "description": "Retrieve detailed information about a specific listening test including audio segments and questions.",
                "operationId": "e43d1358776a290057e1c2694b5245bc",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "Listening test ID",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Listening test details retrieved successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "id": {
                                            "type": "string",
                                            "format": "uuid"
                                        },
                                        "creator_id": {
                                            "type": "string",
                                            "format": "uuid"
                                        },
                                        "creator_name": {
                                            "type": "string"
                                        },
                                        "type": {
                                            "type": "string",
                                            "example": "listening"
                                        },
                                        "test_type": {
                                            "type": "string"
                                        },
                                        "difficulty": {
                                            "type": "string"
                                        },
                                        "title": {
                                            "type": "string"
                                        },
                                        "description": {
                                            "type": "string"
                                        },
                                        "timer_mode": {
                                            "type": "string"
                                        },
                                        "timer_settings": {
                                            "type": "object"
                                        },
                                        "allow_repetition": {
                                            "type": "boolean"
                                        },
                                        "max_repetition_count": {
                                            "type": "integer"
                                        },
                                        "is_public": {
                                            "type": "boolean"
                                        },
                                        "is_published": {
                                            "type": "boolean"
                                        },
                                        "settings": {
                                            "type": "object"
                                        },
                                        "audio_segments": {
                                            "type": "array",
                                            "items": {
                                                "properties": {
                                                    "id": {
                                                        "type": "string",
                                                        "format": "uuid"
                                                    },
                                                    "title": {
                                                        "type": "string"
                                                    },
                                                    "audio_url": {
                                                        "type": "string"
                                                    },
                                                    "transcript": {
                                                        "type": "string"
                                                    },
                                                    "duration": {
                                                        "type": "integer"
                                                    },
                                                    "segment_type": {
                                                        "type": "string"
                                                    },
                                                    "difficulty_level": {
                                                        "type": "string"
                                                    }
                                                },
                                                "type": "object"
                                            }
                                        },
                                        "questions": {
                                            "type": "array",
                                            "items": {
                                                "properties": {
                                                    "id": {
                                                        "type": "string",
                                                        "format": "uuid"
                                                    },
                                                    "audio_segment_id": {
                                                        "type": "string",
                                                        "format": "uuid"
                                                    },
                                                    "question_text": {
                                                        "type": "string"
                                                    },
                                                    "question_type": {
                                                        "type": "string"
                                                    },
                                                    "time_range": {
                                                        "type": "object"
                                                    },
                                                    "options": {
                                                        "type": "array",
                                                        "items": {
                                                            "type": "object"
                                                        }
                                                    },
                                                    "correct_answer": {
                                                        "type": "string"
                                                    },
                                                    "explanation": {
                                                        "type": "string"
                                                    },
                                                    "points": {
                                                        "type": "integer"
                                                    }
                                                },
                                                "type": "object"
                                            }
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Test not found"
                    },
                    "401": {
                        "description": "Unauthorized"
                    },
                    "403": {
                        "description": "Forbidden"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            },
            "delete": {
                "tags": [
                    "Listening Tests"
                ],
                "summary": "Delete a listening test",
                "description": "Delete a listening test and all related data. Only test creator or admin can delete.",
                "operationId": "1e1253725260b1e5864e0da8ca98ea1d",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "Listening test ID",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Listening test deleted successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Listening test deleted successfully"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Test not found"
                    },
                    "401": {
                        "description": "Unauthorized"
                    },
                    "403": {
                        "description": "Forbidden"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/listening/tests/{id}/update": {
            "post": {
                "tags": [
                    "Listening Tests"
                ],
                "summary": "Update a listening test",
                "description": "Update an existing listening test with file upload support",
                "operationId": "c8c8774c05ec6488d83e38c2102c6944",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "Listening test ID",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        }
                    },
                    {
                        "name": "_method",
                        "in": "query",
                        "description": "HTTP method override for file uploads",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "example": "PUT"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "multipart/form-data": {
                            "schema": {
                                "properties": {
                                    "title": {
                                        "type": "string",
                                        "example": "Updated IELTS Listening Test"
                                    },
                                    "description": {
                                        "type": "string",
                                        "example": "Updated description"
                                    },
                                    "test_type": {
                                        "type": "string",
                                        "enum": [
                                            "academic",
                                            "general",
                                            "business",
                                            "ielts",
                                            "toefl"
                                        ]
                                    },
                                    "difficulty": {
                                        "type": "string",
                                        "enum": [
                                            "beginner",
                                            "intermediate",
                                            "advanced"
                                        ]
                                    },
                                    "timer_mode": {
                                        "type": "string",
                                        "enum": [
                                            "none",
                                            "test",
                                            "practice"
                                        ]
                                    },
                                    "timer_settings": {
                                        "type": "string",
                                        "example": "{\"test_time\":60,\"warning_time\":5}"
                                    },
                                    "allow_repetition": {
                                        "type": "boolean"
                                    },
                                    "max_repetition_count": {
                                        "type": "integer"
                                    },
                                    "is_public": {
                                        "type": "boolean"
                                    },
                                    "is_published": {
                                        "type": "boolean"
                                    },
                                    "settings": {
                                        "type": "string",
                                        "example": "{\"instructions\":\"Listen carefully\"}"
                                    },
                                    "audio_files": {
                                        "description": "Upload updated test audio files",
                                        "type": "array",
                                        "items": {
                                            "type": "string",
                                            "format": "binary"
                                        }
                                    },
                                    "reference_materials": {
                                        "description": "Upload updated reference materials",
                                        "type": "array",
                                        "items": {
                                            "type": "string",
                                            "format": "binary"
                                        }
                                    },
                                    "test_data": {
                                        "description": "JSON string containing updated test structure",
                                        "type": "string",
                                        "example": "{\"audio_segments\":[],\"questions\":[]}"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Listening test updated successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Listening test updated successfully"
                                        },
                                        "test_id": {
                                            "type": "string",
                                            "format": "uuid"
                                        },
                                        "data": {
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Test not found"
                    },
                    "422": {
                        "description": "Validation error"
                    },
                    "401": {
                        "description": "Unauthorized"
                    },
                    "403": {
                        "description": "Forbidden"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/listening/tests/{id}/toggle-publish": {
            "patch": {
                "tags": [
                    "Listening Tests"
                ],
                "summary": "Toggle publish status of a listening test",
                "description": "Toggle the published status of a listening test. Only test creator or admin can perform this action.",
                "operationId": "ad760a94bd6115786f7fa8c1f6936ce2",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "Listening test ID",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Publish status toggled successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Test published successfully"
                                        },
                                        "is_published": {
                                            "type": "boolean",
                                            "example": true
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Test not found"
                    },
                    "401": {
                        "description": "Unauthorized"
                    },
                    "403": {
                        "description": "Forbidden"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/listening/tests/search": {
            "get": {
                "tags": [
                    "Listening Tests"
                ],
                "summary": "Search listening tests",
                "description": "Search listening tests based on various criteria.",
                "operationId": "c5bb906e59d7fc9fd0bf5759b21d27e1",
                "parameters": [
                    {
                        "name": "title",
                        "in": "query",
                        "description": "Search by test title",
                        "required": false,
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "name": "difficulty",
                        "in": "query",
                        "description": "Filter by difficulty level",
                        "required": false,
                        "schema": {
                            "type": "string",
                            "enum": [
                                "beginner",
                                "intermediate",
                                "advanced"
                            ]
                        }
                    },
                    {
                        "name": "test_type",
                        "in": "query",
                        "description": "Filter by test type",
                        "required": false,
                        "schema": {
                            "type": "string",
                            "enum": [
                                "academic",
                                "general",
                                "business",
                                "ielts",
                                "toefl"
                            ]
                        }
                    },
                    {
                        "name": "creator_id",
                        "in": "query",
                        "description": "Filter by creator ID",
                        "required": false,
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        }
                    },
                    {
                        "name": "is_published",
                        "in": "query",
                        "description": "Filter by published status",
                        "required": false,
                        "schema": {
                            "type": "boolean"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Search results retrieved successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Search results retrieved successfully"
                                        },
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "type": "object"
                                            }
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/listening/answers": {
            "get": {
                "tags": [
                    "Listening Answers"
                ],
                "summary": "Get listening answers",
                "description": "Retrieve student answers for listening questions",
                "operationId": "00ccc1530988c6318d1b7bbc794637e4",
                "parameters": [
                    {
                        "name": "task_id",
                        "in": "query",
                        "description": "Filter by task ID",
                        "required": false,
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        }
                    },
                    {
                        "name": "submission_id",
                        "in": "query",
                        "description": "Filter by submission ID",
                        "required": false,
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Listening answers retrieved successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Listening answers retrieved successfully"
                                        },
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "properties": {
                                                    "id": {
                                                        "type": "string",
                                                        "format": "uuid"
                                                    },
                                                    "question_id": {
                                                        "type": "string",
                                                        "format": "uuid"
                                                    },
                                                    "student_id": {
                                                        "type": "string",
                                                        "format": "uuid"
                                                    },
                                                    "submission_id": {
                                                        "type": "string",
                                                        "format": "uuid"
                                                    },
                                                    "answer_text": {
                                                        "type": "string"
                                                    },
                                                    "is_correct": {
                                                        "type": "boolean"
                                                    },
                                                    "points_earned": {
                                                        "type": "integer"
                                                    },
                                                    "time_taken": {
                                                        "type": "integer"
                                                    },
                                                    "question": {
                                                        "properties": {
                                                            "question_text": {
                                                                "type": "string"
                                                            },
                                                            "question_type": {
                                                                "type": "string"
                                                            },
                                                            "correct_answer": {
                                                                "type": "string"
                                                            }
                                                        },
                                                        "type": "object"
                                                    }
                                                },
                                                "type": "object"
                                            }
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            },
            "post": {
                "tags": [
                    "Listening Answers"
                ],
                "summary": "Submit a listening answer",
                "description": "Submit an answer for a specific listening question",
                "operationId": "48a6f2c9d946c30271ebd8db1d215ab9",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "question_id",
                                    "submission_id",
                                    "answer_text"
                                ],
                                "properties": {
                                    "question_id": {
                                        "type": "string",
                                        "format": "uuid"
                                    },
                                    "submission_id": {
                                        "type": "string",
                                        "format": "uuid"
                                    },
                                    "answer_text": {
                                        "type": "string"
                                    },
                                    "time_taken": {
                                        "description": "Time taken in seconds",
                                        "type": "integer"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Answer submitted successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Answer submitted successfully"
                                        },
                                        "answer_id": {
                                            "type": "string",
                                            "format": "uuid"
                                        },
                                        "is_correct": {
                                            "type": "boolean"
                                        },
                                        "points_earned": {
                                            "type": "integer"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation error"
                    },
                    "403": {
                        "description": "Forbidden"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/listening/answers/{id}": {
            "get": {
                "tags": [
                    "Listening Answers"
                ],
                "summary": "Get a specific listening answer",
                "description": "Retrieve detailed information about a specific listening answer",
                "operationId": "f343fad448429be0f7c81ce0008a9c28",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "Answer ID",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Answer retrieved successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "id": {
                                            "type": "string",
                                            "format": "uuid"
                                        },
                                        "question_id": {
                                            "type": "string",
                                            "format": "uuid"
                                        },
                                        "student_id": {
                                            "type": "string",
                                            "format": "uuid"
                                        },
                                        "submission_id": {
                                            "type": "string",
                                            "format": "uuid"
                                        },
                                        "answer_text": {
                                            "type": "string"
                                        },
                                        "is_correct": {
                                            "type": "boolean"
                                        },
                                        "points_earned": {
                                            "type": "integer"
                                        },
                                        "time_taken": {
                                            "type": "integer"
                                        },
                                        "submitted_at": {
                                            "type": "string",
                                            "format": "date-time"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Answer not found"
                    },
                    "403": {
                        "description": "Forbidden"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/listening/submissions/{submission}/audio/play": {
            "post": {
                "tags": [
                    "Listening Audio"
                ],
                "summary": "Log audio play event",
                "operationId": "48cc994dc291b264477989b6965cb2dd",
                "parameters": [
                    {
                        "name": "submission",
                        "in": "path",
                        "description": "Submission ID",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "properties": {
                                    "audio_segment_id": {
                                        "type": "string",
                                        "format": "uuid"
                                    },
                                    "question_id": {
                                        "type": "string",
                                        "format": "uuid"
                                    },
                                    "start_time": {
                                        "type": "number",
                                        "format": "float"
                                    },
                                    "end_time": {
                                        "type": "number",
                                        "format": "float"
                                    },
                                    "duration": {
                                        "type": "number",
                                        "format": "float"
                                    },
                                    "play_position": {
                                        "type": "number",
                                        "format": "float"
                                    },
                                    "user_action": {
                                        "type": "string",
                                        "enum": [
                                            "play",
                                            "pause",
                                            "seek",
                                            "replay",
                                            "stop"
                                        ]
                                    },
                                    "device_info": {
                                        "properties": {
                                            "volume": {
                                                "type": "number",
                                                "format": "float",
                                                "maximum": 1,
                                                "minimum": 0
                                            },
                                            "playback_rate": {
                                                "type": "number",
                                                "format": "float",
                                                "maximum": 2,
                                                "minimum": 0.25
                                            }
                                        },
                                        "type": "object"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Audio play logged successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "success"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Audio play logged"
                                        },
                                        "data": {
                                            "$ref": "#/components/schemas/ListeningAudioLogResource"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            }
        },
        "/api/v1/listening/submissions/{submission}/audio/logs": {
            "get": {
                "tags": [
                    "Listening Audio"
                ],
                "summary": "Get audio play logs for submission",
                "operationId": "a56bf1b3cacba0dd16cb40768727a83d",
                "parameters": [
                    {
                        "name": "submission",
                        "in": "path",
                        "description": "Submission ID",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        }
                    },
                    {
                        "name": "audio_segment_id",
                        "in": "query",
                        "description": "Filter by audio segment",
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Audio logs retrieved",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "success"
                                        },
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "$ref": "#/components/schemas/ListeningAudioLogResource"
                                            }
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            }
        },
        "/api/v1/listening/audio/segments/{segment}": {
            "get": {
                "tags": [
                    "Listening Audio"
                ],
                "summary": "Get audio segment details",
                "operationId": "c04719df11ba9a64325a679446eabe85",
                "parameters": [
                    {
                        "name": "segment",
                        "in": "path",
                        "description": "Audio segment ID",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Audio segment details",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "success"
                                        },
                                        "data": {
                                            "properties": {
                                                "id": {
                                                    "type": "string",
                                                    "format": "uuid"
                                                },
                                                "passage_id": {
                                                    "type": "string",
                                                    "format": "uuid"
                                                },
                                                "audio_url": {
                                                    "type": "string"
                                                },
                                                "start_time": {
                                                    "type": "number",
                                                    "format": "float"
                                                },
                                                "end_time": {
                                                    "type": "number",
                                                    "format": "float"
                                                },
                                                "duration": {
                                                    "type": "number",
                                                    "format": "float"
                                                },
                                                "transcript": {
                                                    "type": "string"
                                                },
                                                "order": {
                                                    "type": "integer"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            }
        },
        "/api/v1/listening/submissions/{submission}/audio/stats": {
            "get": {
                "tags": [
                    "Listening Audio"
                ],
                "summary": "Get audio play statistics for submission",
                "operationId": "766fcf5f2fe14f39feb3e0611e22ca18",
                "parameters": [
                    {
                        "name": "submission",
                        "in": "path",
                        "description": "Submission ID",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Audio statistics",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "success"
                                        },
                                        "data": {
                                            "$ref": "#/components/schemas/AudioPlayStatsResponse"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            }
        },
        "/api/v1/listening-dashboard/student": {
            "get": {
                "tags": [
                    "Listening Dashboard"
                ],
                "summary": "Get student listening dashboard",
                "description": "Get listening task assignments for student with status and progress",
                "operationId": "d0dc034225725d166970216550468b20",
                "responses": {
                    "200": {
                        "description": "Student dashboard retrieved successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Student dashboard retrieved successfully"
                                        },
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "properties": {
                                                    "task_id": {
                                                        "type": "string",
                                                        "format": "uuid"
                                                    },
                                                    "title": {
                                                        "type": "string",
                                                        "example": "IELTS Listening Practice"
                                                    },
                                                    "description": {
                                                        "type": "string"
                                                    },
                                                    "due_date": {
                                                        "type": "string",
                                                        "format": "date-time"
                                                    },
                                                    "status": {
                                                        "type": "string",
                                                        "enum": [
                                                            "to_do",
                                                            "submitted",
                                                            "reviewed",
                                                            "done"
                                                        ]
                                                    },
                                                    "score": {
                                                        "type": "integer",
                                                        "nullable": true
                                                    },
                                                    "attempt_number": {
                                                        "type": "integer"
                                                    },
                                                    "can_retake": {
                                                        "type": "boolean"
                                                    },
                                                    "is_overdue": {
                                                        "type": "boolean"
                                                    },
                                                    "time_limit_seconds": {
                                                        "type": "integer",
                                                        "nullable": true
                                                    },
                                                    "total_questions": {
                                                        "type": "integer"
                                                    },
                                                    "has_audio": {
                                                        "type": "boolean"
                                                    }
                                                },
                                                "type": "object"
                                            }
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Forbidden - Student only"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/listening-dashboard/teacher": {
            "get": {
                "tags": [
                    "Listening Dashboard"
                ],
                "summary": "Get teacher listening dashboard",
                "description": "Get listening task assignments and submissions for teacher overview",
                "operationId": "07f8ec96b8c43d49a2033234d216c817",
                "responses": {
                    "200": {
                        "description": "Teacher dashboard retrieved successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Teacher dashboard retrieved successfully"
                                        },
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "properties": {
                                                    "task_id": {
                                                        "type": "string",
                                                        "format": "uuid"
                                                    },
                                                    "title": {
                                                        "type": "string"
                                                    },
                                                    "class_name": {
                                                        "type": "string"
                                                    },
                                                    "due_date": {
                                                        "type": "string",
                                                        "format": "date-time"
                                                    },
                                                    "total_submissions": {
                                                        "type": "integer"
                                                    },
                                                    "pending_reviews": {
                                                        "type": "integer"
                                                    },
                                                    "completed_reviews": {
                                                        "type": "integer"
                                                    },
                                                    "average_score": {
                                                        "type": "number",
                                                        "format": "float",
                                                        "nullable": true
                                                    },
                                                    "audio_duration_seconds": {
                                                        "type": "integer",
                                                        "nullable": true
                                                    }
                                                },
                                                "type": "object"
                                            }
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Forbidden - Teacher only"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/listening-tasks/{taskId}/assignment/{assignmentId}": {
            "get": {
                "tags": [
                    "Listening Dashboard"
                ],
                "summary": "Get listening task detail for student",
                "description": "Get detailed listening task with audio and questions for student attempt",
                "operationId": "721dd723c1854282fd6e8468b9f34dad",
                "parameters": [
                    {
                        "name": "taskId",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        }
                    },
                    {
                        "name": "assignmentId",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Listening task detail retrieved successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Listening task detail retrieved successfully"
                                        },
                                        "data": {
                                            "properties": {
                                                "task_id": {
                                                    "type": "string",
                                                    "format": "uuid"
                                                },
                                                "title": {
                                                    "type": "string"
                                                },
                                                "description": {
                                                    "type": "string"
                                                },
                                                "instructions": {
                                                    "type": "string"
                                                },
                                                "audio_file_url": {
                                                    "type": "string"
                                                },
                                                "timer_type": {
                                                    "type": "string"
                                                },
                                                "time_limit_seconds": {
                                                    "type": "integer",
                                                    "nullable": true
                                                },
                                                "can_retake": {
                                                    "type": "boolean"
                                                },
                                                "max_attempts": {
                                                    "type": "integer"
                                                },
                                                "current_attempt": {
                                                    "type": "integer"
                                                },
                                                "questions": {
                                                    "type": "array",
                                                    "items": {
                                                        "properties": {
                                                            "id": {
                                                                "type": "string",
                                                                "format": "uuid"
                                                            },
                                                            "question_type": {
                                                                "type": "string",
                                                                "enum": [
                                                                    "QT1",
                                                                    "QT2",
                                                                    "QT3",
                                                                    "QT4",
                                                                    "QT5",
                                                                    "QT6",
                                                                    "QT7",
                                                                    "QT8",
                                                                    "QT9",
                                                                    "QT10"
                                                                ]
                                                            },
                                                            "question_text": {
                                                                "type": "string"
                                                            },
                                                            "options": {
                                                                "type": "array",
                                                                "items": {
                                                                    "type": "string"
                                                                },
                                                                "nullable": true
                                                            },
                                                            "order": {
                                                                "type": "integer"
                                                            },
                                                            "points": {
                                                                "type": "number"
                                                            }
                                                        },
                                                        "type": "object"
                                                    }
                                                },
                                                "audio_segments": {
                                                    "type": "array",
                                                    "items": {
                                                        "properties": {
                                                            "start_time": {
                                                                "type": "number",
                                                                "format": "float"
                                                            },
                                                            "end_time": {
                                                                "type": "number",
                                                                "format": "float"
                                                            },
                                                            "text": {
                                                                "type": "string"
                                                            }
                                                        },
                                                        "type": "object"
                                                    }
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Task or assignment not found"
                    },
                    "403": {
                        "description": "Access denied"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/listening-submissions/{submissionId}/results": {
            "get": {
                "tags": [
                    "Listening Dashboard"
                ],
                "summary": "Get listening test results with explanations",
                "description": "Get listening test results with audio segments and vocabulary discovery",
                "operationId": "ff31b42a9580ad4db12c2d4108a40859",
                "parameters": [
                    {
                        "name": "submissionId",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Listening test results retrieved successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Listening test results retrieved successfully"
                                        },
                                        "data": {
                                            "properties": {
                                                "submission_id": {
                                                    "type": "string",
                                                    "format": "uuid"
                                                },
                                                "score": {
                                                    "type": "integer"
                                                },
                                                "total_score": {
                                                    "type": "integer"
                                                },
                                                "percentage": {
                                                    "type": "number",
                                                    "format": "float"
                                                },
                                                "status": {
                                                    "type": "string"
                                                },
                                                "completed_at": {
                                                    "type": "string",
                                                    "format": "date-time"
                                                },
                                                "question_results": {
                                                    "type": "array",
                                                    "items": {
                                                        "properties": {
                                                            "question_id": {
                                                                "type": "string",
                                                                "format": "uuid"
                                                            },
                                                            "question_text": {
                                                                "type": "string"
                                                            },
                                                            "student_answer": {
                                                                "type": "string"
                                                            },
                                                            "correct_answer": {
                                                                "type": "string"
                                                            },
                                                            "is_correct": {
                                                                "type": "boolean"
                                                            },
                                                            "points_earned": {
                                                                "type": "number"
                                                            },
                                                            "audio_segment": {
                                                                "properties": {
                                                                    "start_time": {
                                                                        "type": "number"
                                                                    },
                                                                    "end_time": {
                                                                        "type": "number"
                                                                    },
                                                                    "transcript": {
                                                                        "type": "string"
                                                                    }
                                                                },
                                                                "type": "object",
                                                                "nullable": true
                                                            }
                                                        },
                                                        "type": "object"
                                                    }
                                                },
                                                "vocabulary_discovered": {
                                                    "description": "New vocabulary words discovered from this listening",
                                                    "type": "array",
                                                    "items": {
                                                        "properties": {
                                                            "word": {
                                                                "type": "string"
                                                            },
                                                            "definition": {
                                                                "type": "string"
                                                            },
                                                            "context": {
                                                                "type": "string"
                                                            },
                                                            "audio_timestamp": {
                                                                "type": "number",
                                                                "format": "float"
                                                            }
                                                        },
                                                        "type": "object"
                                                    }
                                                },
                                                "audio_file_url": {
                                                    "type": "string"
                                                },
                                                "transcript_available": {
                                                    "type": "boolean"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Submission not found"
                    },
                    "403": {
                        "description": "Access denied"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/listening/reviews": {
            "get": {
                "tags": [
                    "Listening Reviews"
                ],
                "summary": "Get listening reviews",
                "description": "Retrieve reviews for listening submissions",
                "operationId": "ce9e8560c603fe33d53b9f4697c3d791",
                "parameters": [
                    {
                        "name": "task_id",
                        "in": "query",
                        "description": "Filter by task ID",
                        "required": false,
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        }
                    },
                    {
                        "name": "student_id",
                        "in": "query",
                        "description": "Filter by student ID",
                        "required": false,
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Listening reviews retrieved successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Listening reviews retrieved successfully"
                                        },
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "properties": {
                                                    "id": {
                                                        "type": "string",
                                                        "format": "uuid"
                                                    },
                                                    "submission_id": {
                                                        "type": "string",
                                                        "format": "uuid"
                                                    },
                                                    "reviewer_id": {
                                                        "type": "string",
                                                        "format": "uuid"
                                                    },
                                                    "reviewer_name": {
                                                        "type": "string"
                                                    },
                                                    "score": {
                                                        "type": "integer"
                                                    },
                                                    "feedback": {
                                                        "type": "string"
                                                    },
                                                    "reviewed_at": {
                                                        "type": "string",
                                                        "format": "date-time"
                                                    },
                                                    "submission": {
                                                        "properties": {
                                                            "student_name": {
                                                                "type": "string"
                                                            },
                                                            "task_title": {
                                                                "type": "string"
                                                            },
                                                            "submitted_at": {
                                                                "type": "string",
                                                                "format": "date-time"
                                                            }
                                                        },
                                                        "type": "object"
                                                    }
                                                },
                                                "type": "object"
                                            }
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            },
            "post": {
                "tags": [
                    "Listening Reviews"
                ],
                "summary": "Create a listening review",
                "description": "Create a review for a listening submission",
                "operationId": "1d2217d184416ace9a7fd37cfae88482",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "submission_id",
                                    "score",
                                    "feedback"
                                ],
                                "properties": {
                                    "submission_id": {
                                        "type": "string",
                                        "format": "uuid"
                                    },
                                    "score": {
                                        "type": "integer",
                                        "maximum": 100,
                                        "minimum": 0
                                    },
                                    "feedback": {
                                        "type": "string"
                                    },
                                    "detailed_feedback": {
                                        "type": "object"
                                    },
                                    "pronunciation_feedback": {
                                        "type": "object"
                                    },
                                    "comprehension_feedback": {
                                        "type": "object"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Listening review created successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Listening review created successfully"
                                        },
                                        "review_id": {
                                            "type": "string",
                                            "format": "uuid"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation error"
                    },
                    "403": {
                        "description": "Forbidden"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/listening/reviews/{id}": {
            "get": {
                "tags": [
                    "Listening Reviews"
                ],
                "summary": "Get a specific listening review",
                "description": "Retrieve detailed information about a specific listening review",
                "operationId": "ce8b43478022a1211f0764f249ee028c",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "Review ID",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Listening review retrieved successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "id": {
                                            "type": "string",
                                            "format": "uuid"
                                        },
                                        "submission_id": {
                                            "type": "string",
                                            "format": "uuid"
                                        },
                                        "reviewer_id": {
                                            "type": "string",
                                            "format": "uuid"
                                        },
                                        "reviewer_name": {
                                            "type": "string"
                                        },
                                        "score": {
                                            "type": "integer"
                                        },
                                        "feedback": {
                                            "type": "string"
                                        },
                                        "detailed_feedback": {
                                            "type": "object"
                                        },
                                        "reviewed_at": {
                                            "type": "string",
                                            "format": "date-time"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Review not found"
                    },
                    "403": {
                        "description": "Forbidden"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/listening/submissions": {
            "get": {
                "tags": [
                    "Listening Submissions"
                ],
                "summary": "Get listening submissions",
                "operationId": "60438df74117b95667a4b26882175c1d",
                "responses": {
                    "200": {
                        "description": "Submissions retrieved successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Submissions retrieved successfully"
                                        },
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "type": "object"
                                            }
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/listening/tasks/{taskId}/submissions": {
            "post": {
                "tags": [
                    "Listening Submissions"
                ],
                "summary": "Submit listening task",
                "description": "Submit answers and files for a listening task",
                "operationId": "1d4755ed381b97d116cdb19ddadd707b",
                "parameters": [
                    {
                        "name": "taskId",
                        "in": "path",
                        "description": "Listening task ID",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "multipart/form-data": {
                            "schema": {
                                "required": [
                                    "answers"
                                ],
                                "properties": {
                                    "answers": {
                                        "description": "JSON string of answers array",
                                        "type": "string",
                                        "example": "[{\"question_id\":\"uuid\",\"answer\":\"A\",\"selected_option\":\"Option A\"}]"
                                    },
                                    "time_taken_seconds": {
                                        "type": "integer",
                                        "example": 1800
                                    },
                                    "started_at": {
                                        "type": "string",
                                        "format": "date-time",
                                        "example": "2024-01-01T10:00:00Z"
                                    },
                                    "audio_play_counts": {
                                        "description": "JSON object of audio play counts per segment",
                                        "type": "string",
                                        "example": "{\"segment_1\":3,\"segment_2\":2}"
                                    },
                                    "files": {
                                        "description": "Optional additional files (e.g., notes, recordings)",
                                        "type": "array",
                                        "items": {
                                            "type": "string",
                                            "format": "binary"
                                        }
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Submission created successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Listening submission created successfully"
                                        },
                                        "data": {
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Unauthorized access"
                    },
                    "422": {
                        "description": "Validation error"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/listening/submissions/{id}": {
            "get": {
                "tags": [
                    "Listening Submissions"
                ],
                "summary": "Get submission details",
                "operationId": "97513b2f8a8d3f276fe5436ad3e81ace",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Submission retrieved successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Submission retrieved successfully"
                                        },
                                        "data": {
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Submission not found"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/listening/assignments": {
            "get": {
                "tags": [
                    "Listening Task Assignments"
                ],
                "summary": "Get listening task assignments",
                "description": "Retrieve listening task assignments based on user role",
                "operationId": "c36c4ef21401d20975b7995362679e69",
                "parameters": [
                    {
                        "name": "class_id",
                        "in": "query",
                        "description": "Filter by class ID",
                        "required": false,
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        }
                    },
                    {
                        "name": "task_id",
                        "in": "query",
                        "description": "Filter by task ID",
                        "required": false,
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Listening assignments retrieved successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Listening assignments retrieved successfully"
                                        },
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "properties": {
                                                    "id": {
                                                        "type": "string",
                                                        "format": "uuid"
                                                    },
                                                    "task_id": {
                                                        "type": "string",
                                                        "format": "uuid"
                                                    },
                                                    "class_id": {
                                                        "type": "string",
                                                        "format": "uuid"
                                                    },
                                                    "due_date": {
                                                        "type": "string",
                                                        "format": "date-time"
                                                    },
                                                    "assigned_at": {
                                                        "type": "string",
                                                        "format": "date-time"
                                                    },
                                                    "task": {
                                                        "properties": {
                                                            "title": {
                                                                "type": "string"
                                                            },
                                                            "description": {
                                                                "type": "string"
                                                            },
                                                            "difficulty": {
                                                                "type": "string"
                                                            }
                                                        },
                                                        "type": "object"
                                                    },
                                                    "class": {
                                                        "properties": {
                                                            "name": {
                                                                "type": "string"
                                                            },
                                                            "description": {
                                                                "type": "string"
                                                            }
                                                        },
                                                        "type": "object"
                                                    }
                                                },
                                                "type": "object"
                                            }
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            },
            "post": {
                "tags": [
                    "Listening Task Assignments"
                ],
                "summary": "Create a listening task assignment",
                "description": "Assign a listening task to a class",
                "operationId": "82c35653dc59964809107fa413d1c19a",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "task_id",
                                    "class_id"
                                ],
                                "properties": {
                                    "task_id": {
                                        "type": "string",
                                        "format": "uuid"
                                    },
                                    "class_id": {
                                        "type": "string",
                                        "format": "uuid"
                                    },
                                    "due_date": {
                                        "type": "string",
                                        "format": "date-time"
                                    },
                                    "instructions": {
                                        "type": "string"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Listening assignment created successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Listening assignment created successfully"
                                        },
                                        "assignment_id": {
                                            "type": "string",
                                            "format": "uuid"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation error"
                    },
                    "403": {
                        "description": "Forbidden"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/listening/assignments/{id}": {
            "get": {
                "tags": [
                    "Listening Task Assignments"
                ],
                "summary": "Get a specific listening assignment",
                "description": "Retrieve detailed information about a specific listening assignment",
                "operationId": "09d1d431198c0ad683e1bcbb24f4d409",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "Assignment ID",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Listening assignment retrieved successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "id": {
                                            "type": "string",
                                            "format": "uuid"
                                        },
                                        "task_id": {
                                            "type": "string",
                                            "format": "uuid"
                                        },
                                        "class_id": {
                                            "type": "string",
                                            "format": "uuid"
                                        },
                                        "due_date": {
                                            "type": "string",
                                            "format": "date-time"
                                        },
                                        "instructions": {
                                            "type": "string"
                                        },
                                        "assigned_at": {
                                            "type": "string",
                                            "format": "date-time"
                                        },
                                        "submissions_count": {
                                            "type": "integer"
                                        },
                                        "completed_count": {
                                            "type": "integer"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Assignment not found"
                    },
                    "403": {
                        "description": "Forbidden"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            },
            "delete": {
                "tags": [
                    "Listening Task Assignments"
                ],
                "summary": "Delete a listening assignment",
                "description": "Delete a listening task assignment",
                "operationId": "6ccd6ec57165cd8c275c16a8949e55cb",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "Assignment ID",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Listening assignment deleted successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Listening assignment deleted successfully"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Assignment not found"
                    },
                    "403": {
                        "description": "Forbidden"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/listening/tasks": {
            "get": {
                "tags": [
                    "Listening Tasks"
                ],
                "summary": "Get list of listening tasks",
                "description": "Retrieve listening tasks based on user role - Admin sees all, Teacher sees own tasks, Student sees assigned published tasks",
                "operationId": "55665c50e961db1fbb42bb34909ec6b9",
                "responses": {
                    "200": {
                        "description": "Listening tasks retrieved successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Listening tasks retrieved successfully"
                                        },
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "properties": {
                                                    "id": {
                                                        "type": "string",
                                                        "format": "uuid"
                                                    },
                                                    "title": {
                                                        "type": "string"
                                                    },
                                                    "description": {
                                                        "type": "string"
                                                    },
                                                    "is_published": {
                                                        "type": "boolean"
                                                    },
                                                    "difficulty": {
                                                        "type": "string",
                                                        "enum": [
                                                            "beginner",
                                                            "intermediate",
                                                            "advanced"
                                                        ]
                                                    },
                                                    "audio_url": {
                                                        "type": "string"
                                                    },
                                                    "duration": {
                                                        "type": "integer"
                                                    },
                                                    "transcript": {
                                                        "type": "string"
                                                    },
                                                    "time_limit_seconds": {
                                                        "type": "integer",
                                                        "nullable": true
                                                    },
                                                    "created_at": {
                                                        "type": "string",
                                                        "format": "date-time"
                                                    },
                                                    "creator": {
                                                        "properties": {
                                                            "id": {
                                                                "type": "string",
                                                                "format": "uuid"
                                                            },
                                                            "name": {
                                                                "type": "string"
                                                            },
                                                            "email": {
                                                                "type": "string"
                                                            }
                                                        },
                                                        "type": "object"
                                                    },
                                                    "questions": {
                                                        "type": "array",
                                                        "items": {
                                                            "properties": {
                                                                "id": {
                                                                    "type": "string",
                                                                    "format": "uuid"
                                                                },
                                                                "question_text": {
                                                                    "type": "string"
                                                                },
                                                                "question_type": {
                                                                    "type": "string"
                                                                }
                                                            },
                                                            "type": "object"
                                                        }
                                                    }
                                                },
                                                "type": "object"
                                            }
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            },
            "post": {
                "tags": [
                    "Listening Tasks"
                ],
                "summary": "Create a new listening task",
                "description": "Create a new listening task with audio and questions",
                "operationId": "37301443277966b916dfbfb204dd266b",
                "requestBody": {
                    "required": true,
                    "content": {
                        "multipart/form-data": {
                            "schema": {
                                "required": [
                                    "title",
                                    "description"
                                ],
                                "properties": {
                                    "title": {
                                        "type": "string",
                                        "example": "IELTS Listening Practice"
                                    },
                                    "description": {
                                        "type": "string",
                                        "example": "Practice listening comprehension"
                                    },
                                    "audio_file": {
                                        "description": "Upload audio file (mp3, wav, mp4)",
                                        "type": "string",
                                        "format": "binary"
                                    },
                                    "transcript": {
                                        "type": "string",
                                        "example": "Audio transcript text"
                                    },
                                    "duration": {
                                        "type": "integer",
                                        "example": 300
                                    },
                                    "difficulty": {
                                        "type": "string",
                                        "enum": [
                                            "beginner",
                                            "intermediate",
                                            "advanced"
                                        ],
                                        "example": "intermediate"
                                    },
                                    "time_limit_seconds": {
                                        "type": "integer",
                                        "example": 1800,
                                        "nullable": true
                                    },
                                    "is_published": {
                                        "type": "boolean",
                                        "example": false
                                    },
                                    "task_type": {
                                        "type": "string",
                                        "example": "listening_comprehension"
                                    },
                                    "points": {
                                        "type": "integer",
                                        "example": 100
                                    },
                                    "questions": {
                                        "description": "JSON string of questions array",
                                        "type": "string",
                                        "example": "[{\"question_text\":\"What is the main topic?\",\"question_type\":\"multiple_choice\",\"options\":[{\"text\":\"Option A\"},{\"text\":\"Option B\"}],\"correct_answer\":\"A\"}]"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Listening task created successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Listening task created successfully"
                                        },
                                        "task_id": {
                                            "type": "string",
                                            "format": "uuid"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation error"
                    },
                    "403": {
                        "description": "Forbidden"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/listening/tasks/{id}": {
            "get": {
                "tags": [
                    "Listening Tasks"
                ],
                "summary": "Get a specific listening task",
                "description": "Retrieve detailed information about a specific listening task",
                "operationId": "9ce04ad02b415b29889110c6cf9debb1",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "Listening task ID",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Listening task retrieved successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "id": {
                                            "type": "string",
                                            "format": "uuid"
                                        },
                                        "title": {
                                            "type": "string"
                                        },
                                        "description": {
                                            "type": "string"
                                        },
                                        "audio_url": {
                                            "type": "string"
                                        },
                                        "transcript": {
                                            "type": "string"
                                        },
                                        "duration": {
                                            "type": "integer"
                                        },
                                        "difficulty": {
                                            "type": "string"
                                        },
                                        "time_limit_seconds": {
                                            "type": "integer"
                                        },
                                        "is_published": {
                                            "type": "boolean"
                                        },
                                        "questions": {
                                            "type": "array",
                                            "items": {
                                                "type": "object"
                                            }
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Listening task not found"
                    },
                    "403": {
                        "description": "Forbidden"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            },
            "delete": {
                "tags": [
                    "Listening Tasks"
                ],
                "summary": "Delete a listening task",
                "description": "Delete a listening task and all related data",
                "operationId": "aee6a5158825b44cec354ebc1bb81718",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "Listening task ID",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Listening task deleted successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Listening task deleted successfully"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Listening task not found"
                    },
                    "403": {
                        "description": "Forbidden"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/listening-tasks/{id}/update": {
            "post": {
                "tags": [
                    "Listening Tasks"
                ],
                "summary": "Update a listening task",
                "description": "Update an existing listening task",
                "operationId": "f7b09ee198bd9b6a88a905c382e8dd32",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "Listening task ID",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        }
                    },
                    {
                        "name": "_method",
                        "in": "query",
                        "description": "HTTP method override for file uploads",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "example": "PUT"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "multipart/form-data": {
                            "schema": {
                                "properties": {
                                    "title": {
                                        "type": "string",
                                        "example": "Updated Listening Task"
                                    },
                                    "description": {
                                        "type": "string",
                                        "example": "Updated description"
                                    },
                                    "audio_file": {
                                        "description": "Upload new audio file (optional)",
                                        "type": "string",
                                        "format": "binary"
                                    },
                                    "transcript": {
                                        "type": "string",
                                        "example": "Updated transcript"
                                    },
                                    "duration": {
                                        "type": "integer",
                                        "example": 420
                                    },
                                    "difficulty": {
                                        "type": "string",
                                        "enum": [
                                            "beginner",
                                            "intermediate",
                                            "advanced"
                                        ]
                                    },
                                    "time_limit_seconds": {
                                        "type": "integer",
                                        "example": 2100
                                    },
                                    "is_published": {
                                        "type": "boolean",
                                        "example": true
                                    },
                                    "task_type": {
                                        "type": "string",
                                        "example": "listening_comprehension"
                                    },
                                    "points": {
                                        "type": "integer",
                                        "example": 120
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Listening task updated successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Listening task updated successfully"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Listening task not found"
                    },
                    "422": {
                        "description": "Validation error"
                    },
                    "403": {
                        "description": "Forbidden"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/listening/vocabulary": {
            "get": {
                "tags": [
                    "Listening Vocabulary"
                ],
                "summary": "Get vocabulary from listening tasks",
                "description": "Retrieve vocabulary words discovered or learned from listening tasks",
                "operationId": "004fcb156d243f08f3f1c162b817127a",
                "parameters": [
                    {
                        "name": "task_id",
                        "in": "query",
                        "description": "Filter by task ID",
                        "required": false,
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        }
                    },
                    {
                        "name": "difficulty",
                        "in": "query",
                        "description": "Filter by difficulty level",
                        "required": false,
                        "schema": {
                            "type": "string",
                            "enum": [
                                "beginner",
                                "intermediate",
                                "advanced"
                            ]
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Listening vocabulary retrieved successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Listening vocabulary retrieved successfully"
                                        },
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "properties": {
                                                    "id": {
                                                        "type": "string",
                                                        "format": "uuid"
                                                    },
                                                    "word": {
                                                        "type": "string"
                                                    },
                                                    "definition": {
                                                        "type": "string"
                                                    },
                                                    "pronunciation": {
                                                        "type": "string"
                                                    },
                                                    "part_of_speech": {
                                                        "type": "string"
                                                    },
                                                    "difficulty_level": {
                                                        "type": "string"
                                                    },
                                                    "context_sentence": {
                                                        "type": "string"
                                                    },
                                                    "audio_timestamp": {
                                                        "type": "integer"
                                                    },
                                                    "frequency_count": {
                                                        "type": "integer"
                                                    },
                                                    "task": {
                                                        "properties": {
                                                            "id": {
                                                                "type": "string",
                                                                "format": "uuid"
                                                            },
                                                            "title": {
                                                                "type": "string"
                                                            }
                                                        },
                                                        "type": "object"
                                                    }
                                                },
                                                "type": "object"
                                            }
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            },
            "post": {
                "tags": [
                    "Listening Vocabulary"
                ],
                "summary": "Add vocabulary from listening",
                "description": "Add or discover new vocabulary from a listening task",
                "operationId": "4943e828c913d1739a87f3034eb93f54",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "task_id",
                                    "word"
                                ],
                                "properties": {
                                    "task_id": {
                                        "type": "string",
                                        "format": "uuid"
                                    },
                                    "word": {
                                        "type": "string"
                                    },
                                    "definition": {
                                        "type": "string"
                                    },
                                    "pronunciation": {
                                        "type": "string"
                                    },
                                    "part_of_speech": {
                                        "type": "string"
                                    },
                                    "context_sentence": {
                                        "type": "string"
                                    },
                                    "audio_timestamp": {
                                        "type": "integer"
                                    },
                                    "difficulty_level": {
                                        "type": "string",
                                        "enum": [
                                            "beginner",
                                            "intermediate",
                                            "advanced"
                                        ]
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Vocabulary added successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Vocabulary added successfully"
                                        },
                                        "vocabulary_id": {
                                            "type": "string",
                                            "format": "uuid"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation error"
                    },
                    "403": {
                        "description": "Forbidden"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/listening/vocabulary/{id}": {
            "get": {
                "tags": [
                    "Listening Vocabulary"
                ],
                "summary": "Get specific vocabulary entry",
                "description": "Retrieve detailed information about a specific vocabulary entry",
                "operationId": "d3d068fce41eef1f907787441a60211d",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "Vocabulary ID",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Vocabulary retrieved successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "id": {
                                            "type": "string",
                                            "format": "uuid"
                                        },
                                        "word": {
                                            "type": "string"
                                        },
                                        "definition": {
                                            "type": "string"
                                        },
                                        "pronunciation": {
                                            "type": "string"
                                        },
                                        "part_of_speech": {
                                            "type": "string"
                                        },
                                        "difficulty_level": {
                                            "type": "string"
                                        },
                                        "context_sentence": {
                                            "type": "string"
                                        },
                                        "audio_timestamp": {
                                            "type": "integer"
                                        },
                                        "frequency_count": {
                                            "type": "integer"
                                        },
                                        "created_at": {
                                            "type": "string",
                                            "format": "date-time"
                                        },
                                        "related_words": {
                                            "type": "array",
                                            "items": {
                                                "type": "object"
                                            }
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Vocabulary not found"
                    },
                    "403": {
                        "description": "Forbidden"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            },
            "delete": {
                "tags": [
                    "Listening Vocabulary"
                ],
                "summary": "Remove vocabulary entry",
                "description": "Remove a vocabulary entry from listening vocabulary bank",
                "operationId": "d503ef5d0a28e2c4cc1af898a990995a",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "Vocabulary ID",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Vocabulary removed successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Vocabulary removed successfully"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Vocabulary not found"
                    },
                    "403": {
                        "description": "Forbidden"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/reading-tasks": {
            "get": {
                "tags": [
                    "Reading Tasks"
                ],
                "summary": "Get list of reading tasks",
                "description": "Retrieve reading tasks based on user role - Admin sees all, Teacher sees own tasks, Student sees assigned published tasks",
                "operationId": "4ed904243c774281f37ce1ca4afdf94c",
                "responses": {
                    "200": {
                        "description": "Reading tasks retrieved successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Reading tasks retrieved successfully"
                                        },
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "properties": {
                                                    "id": {
                                                        "type": "string",
                                                        "format": "uuid"
                                                    },
                                                    "title": {
                                                        "type": "string"
                                                    },
                                                    "description": {
                                                        "type": "string"
                                                    },
                                                    "instructions": {
                                                        "type": "string"
                                                    },
                                                    "is_published": {
                                                        "type": "boolean"
                                                    },
                                                    "difficulty_level": {
                                                        "type": "string",
                                                        "enum": [
                                                            "beginner",
                                                            "intermediate",
                                                            "advanced"
                                                        ]
                                                    },
                                                    "timer_type": {
                                                        "type": "string",
                                                        "enum": [
                                                            "countdown",
                                                            "countup",
                                                            "no_timer"
                                                        ]
                                                    },
                                                    "time_limit_seconds": {
                                                        "type": "integer",
                                                        "nullable": true
                                                    },
                                                    "passage_text": {
                                                        "type": "string"
                                                    },
                                                    "total_questions": {
                                                        "type": "integer"
                                                    },
                                                    "created_at": {
                                                        "type": "string",
                                                        "format": "date-time"
                                                    }
                                                },
                                                "type": "object"
                                            }
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            },
            "post": {
                "tags": [
                    "Reading Tasks"
                ],
                "summary": "Create a new reading task",
                "description": "Create a new reading task with passages and questions (15 Question Types supported)",
                "operationId": "3c7c60a3383dbfdcdf4695db3e07eb3c",
                "requestBody": {
                    "required": true,
                    "content": {
                        "multipart/form-data": {
                            "schema": {
                                "required": [
                                    "title",
                                    "type",
                                    "difficulty",
                                    "test_type",
                                    "passages"
                                ],
                                "properties": {
                                    "title": {
                                        "type": "string",
                                        "example": "IELTS Reading Practice"
                                    },
                                    "description": {
                                        "type": "string",
                                        "example": "Practice test for IELTS reading section"
                                    },
                                    "instructions": {
                                        "type": "string",
                                        "example": "Read the passages and answer all questions"
                                    },
                                    "type": {
                                        "type": "string",
                                        "enum": [
                                            "reading",
                                            "listening",
                                            "speaking",
                                            "writing"
                                        ],
                                        "example": "reading"
                                    },
                                    "difficulty": {
                                        "type": "string",
                                        "enum": [
                                            "beginner",
                                            "intermediate",
                                            "advanced"
                                        ],
                                        "example": "intermediate"
                                    },
                                    "test_type": {
                                        "type": "string",
                                        "enum": [
                                            "single",
                                            "final"
                                        ],
                                        "example": "single"
                                    },
                                    "timer_mode": {
                                        "type": "string",
                                        "enum": [
                                            "countdown",
                                            "countup",
                                            "none"
                                        ],
                                        "example": "countdown"
                                    },
                                    "timer_settings": {
                                        "type": "string",
                                        "example": "{\"hours\":1,\"minutes\":0,\"seconds\":0}"
                                    },
                                    "allow_repetition": {
                                        "type": "boolean",
                                        "example": true
                                    },
                                    "max_repetition_count": {
                                        "type": "integer",
                                        "example": 3
                                    },
                                    "is_public": {
                                        "type": "boolean",
                                        "example": false
                                    },
                                    "is_published": {
                                        "type": "boolean",
                                        "example": false
                                    },
                                    "settings": {
                                        "type": "string",
                                        "example": "{\"instructions\":\"Read carefully\"}"
                                    },
                                    "passages": {
                                        "description": "JSON string of passages array with nested question groups and questions. Supports 15 Reading Question Types: QT1-Multiple Choice, QT2-Multiple Answer, QT3-True/False/Not Given, QT4-Matching Heading, QT5-Sentence Completion, QT6-Paragraph/Summary Completion, QT7-Yes/No/Not Given, QT8-Matching Information, QT9-Matching Features, QT10-Matching Sentence Ending, QT11-Note Completion, QT12-Table Completion, QT13-Flowchart Completion, QT14-Diagram Label Completion, QT15-Short Answer Question",
                                        "type": "string",
                                        "example": "[{\"title\":\"Reading Passage 1\",\"description\":\"Main passage content\",\"question_groups\":[{\"instruction\":\"Answer questions 1-5\",\"questions\":[{\"question_type\":\"QT1\",\"question_number\":1,\"question_text\":\"What is the main topic?\",\"options\":[{\"option_key\":\"A\",\"option_text\":\"Option A\"},{\"option_key\":\"B\",\"option_text\":\"Option B\"}],\"correct_answers\":[\"A\"],\"breakdown\":{\"explanation\":\"The answer is A because...\"}}]}]}]"
                                    },
                                    "passage_images": {
                                        "description": "Upload images related to the reading passage",
                                        "type": "array",
                                        "items": {
                                            "type": "string",
                                            "format": "binary"
                                        }
                                    },
                                    "reference_materials": {
                                        "description": "Upload additional reference materials",
                                        "type": "array",
                                        "items": {
                                            "type": "string",
                                            "format": "binary"
                                        }
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Reading task created successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Reading task created successfully"
                                        },
                                        "data": {
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation error"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/reading-tasks/{id}": {
            "get": {
                "tags": [
                    "Reading Tasks"
                ],
                "summary": "Get reading task details",
                "operationId": "66a950bd28ff0c855777bf2d7b8fcb3d",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Reading task retrieved successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Reading task retrieved successfully"
                                        },
                                        "data": {
                                            "properties": {
                                                "id": {
                                                    "type": "string",
                                                    "format": "uuid"
                                                },
                                                "title": {
                                                    "type": "string"
                                                },
                                                "description": {
                                                    "type": "string"
                                                },
                                                "instructions": {
                                                    "type": "string"
                                                },
                                                "passages": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "object"
                                                    }
                                                },
                                                "timer_type": {
                                                    "type": "string"
                                                },
                                                "time_limit_seconds": {
                                                    "type": "integer",
                                                    "nullable": true
                                                },
                                                "difficulty": {
                                                    "type": "string"
                                                },
                                                "is_published": {
                                                    "type": "boolean"
                                                },
                                                "total_questions": {
                                                    "type": "integer"
                                                },
                                                "estimated_time": {
                                                    "type": "integer"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Task not found"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            },
            "delete": {
                "tags": [
                    "Reading Tasks"
                ],
                "summary": "Delete reading task",
                "operationId": "f7464e1220c6e6cae414eac32907206b",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Reading task deleted successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Reading task deleted successfully"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Task not found"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/reading-tasks/{id}/update": {
            "post": {
                "tags": [
                    "Reading Tasks"
                ],
                "summary": "Update reading task",
                "operationId": "1988c19d531acbaf8c17689da5ec4f58",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "multipart/form-data": {
                            "schema": {
                                "properties": {
                                    "_method": {
                                        "type": "string",
                                        "enum": [
                                            "PUT"
                                        ],
                                        "example": "PUT"
                                    },
                                    "title": {
                                        "type": "string",
                                        "example": "Updated IELTS Reading Practice"
                                    },
                                    "description": {
                                        "type": "string",
                                        "example": "Updated practice test for IELTS reading section"
                                    },
                                    "type": {
                                        "type": "string",
                                        "enum": [
                                            "reading",
                                            "listening",
                                            "speaking",
                                            "writing"
                                        ],
                                        "example": "reading"
                                    },
                                    "difficulty": {
                                        "type": "string",
                                        "enum": [
                                            "beginner",
                                            "intermediate",
                                            "advanced"
                                        ],
                                        "example": "intermediate"
                                    },
                                    "test_type": {
                                        "type": "string",
                                        "enum": [
                                            "single",
                                            "final"
                                        ],
                                        "example": "single"
                                    },
                                    "timer_mode": {
                                        "type": "string",
                                        "enum": [
                                            "countdown",
                                            "countup",
                                            "none"
                                        ],
                                        "example": "countdown"
                                    },
                                    "timer_settings": {
                                        "type": "string",
                                        "example": "{\"hours\":1,\"minutes\":30,\"seconds\":0}"
                                    },
                                    "allow_repetition": {
                                        "type": "boolean",
                                        "example": true
                                    },
                                    "max_repetition_count": {
                                        "type": "integer",
                                        "example": 3
                                    },
                                    "is_public": {
                                        "type": "boolean",
                                        "example": false
                                    },
                                    "is_published": {
                                        "type": "boolean",
                                        "example": false
                                    },
                                    "settings": {
                                        "type": "string",
                                        "example": "{\"instructions\":\"Read carefully and answer all questions\"}"
                                    },
                                    "passages": {
                                        "description": "JSON string of passages array with nested question groups and questions",
                                        "type": "string",
                                        "example": "[{\"id\":\"existing-uuid\",\"title\":\"Updated Reading Passage\",\"description\":\"Updated passage content\",\"question_groups\":[{\"id\":\"group-uuid\",\"instruction\":\"Answer questions 1-3\",\"questions\":[{\"id\":\"question-uuid\",\"question_type\":\"QT1\",\"question_number\":1,\"question_text\":\"Updated question text?\",\"options\":[{\"option_key\":\"A\",\"option_text\":\"Updated Option A\"},{\"option_key\":\"B\",\"option_text\":\"Updated Option B\"}],\"correct_answers\":[\"A\"],\"breakdown\":{\"explanation\":\"Updated explanation...\"}}]}]}]"
                                    },
                                    "passage_images": {
                                        "description": "Upload updated images for the reading passage",
                                        "type": "array",
                                        "items": {
                                            "type": "string",
                                            "format": "binary"
                                        }
                                    },
                                    "reference_materials": {
                                        "description": "Upload updated reference materials",
                                        "type": "array",
                                        "items": {
                                            "type": "string",
                                            "format": "binary"
                                        }
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Reading task updated successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Reading task updated successfully"
                                        },
                                        "data": {
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Task not found"
                    },
                    "422": {
                        "description": "Validation error"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/reading/submissions/{submissionId}/answers": {
            "post": {
                "tags": [
                    "Reading Answers"
                ],
                "summary": "Submit answer for a question",
                "description": "Submit student's answer for a specific question in the reading test",
                "operationId": "a029d14b3ebacfe729cbe3cec08308f4",
                "parameters": [
                    {
                        "name": "Authorization",
                        "in": "header",
                        "description": "Bearer token. Example: Bearer {access_token}",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "name": "submissionId",
                        "in": "path",
                        "description": "Submission ID",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "properties": {
                                    "question_id": {
                                        "description": "Question ID",
                                        "type": "string",
                                        "format": "uuid"
                                    },
                                    "answer": {
                                        "description": "Student's answer (format depends on question type)",
                                        "oneOf": [
                                            {
                                                "description": "For single choice, text completion, true/false",
                                                "type": "string"
                                            },
                                            {
                                                "description": "For multiple choice, matching",
                                                "type": "array",
                                                "items": {
                                                    "type": "string"
                                                }
                                            },
                                            {
                                                "description": "For complex matching questions",
                                                "type": "object"
                                            }
                                        ]
                                    },
                                    "time_spent_seconds": {
                                        "description": "Time spent on this question",
                                        "type": "integer"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Answer submitted successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Answer submitted successfully"
                                        },
                                        "data": {
                                            "properties": {
                                                "question_id": {
                                                    "type": "string",
                                                    "format": "uuid"
                                                },
                                                "student_answer": {
                                                    "type": "string"
                                                },
                                                "is_correct": {
                                                    "type": "boolean",
                                                    "nullable": true
                                                },
                                                "points_earned": {
                                                    "type": "number",
                                                    "format": "float"
                                                },
                                                "time_spent_seconds": {
                                                    "type": "integer"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Bad request - Invalid answer format"
                    },
                    "401": {
                        "description": "Unauthorized"
                    },
                    "403": {
                        "description": "Forbidden - Not your submission"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/reading/submissions/{submissionId}/submit": {
            "post": {
                "tags": [
                    "Reading Answers"
                ],
                "summary": "Submit the entire test",
                "description": "Submit all answers and complete the reading test",
                "operationId": "8855a889fb112f8374f6ae269de5350e",
                "parameters": [
                    {
                        "name": "Authorization",
                        "in": "header",
                        "description": "Bearer token. Example: Bearer {access_token}",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "name": "submissionId",
                        "in": "path",
                        "description": "Submission ID",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        }
                    }
                ],
                "requestBody": {
                    "required": false,
                    "content": {
                        "application/json": {
                            "schema": {
                                "properties": {
                                    "time_taken_seconds": {
                                        "description": "Total time taken for the test",
                                        "type": "integer"
                                    },
                                    "answers": {
                                        "description": "Any remaining answers to submit",
                                        "type": "array",
                                        "items": {
                                            "properties": {
                                                "question_id": {
                                                    "type": "string",
                                                    "format": "uuid"
                                                },
                                                "answer": {
                                                    "type": "string"
                                                },
                                                "time_spent_seconds": {
                                                    "type": "integer"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Test submitted successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Test submitted successfully"
                                        },
                                        "data": {
                                            "properties": {
                                                "id": {
                                                    "type": "string",
                                                    "format": "uuid"
                                                },
                                                "status": {
                                                    "type": "string",
                                                    "example": "completed"
                                                },
                                                "total_score": {
                                                    "type": "number",
                                                    "format": "float"
                                                },
                                                "percentage": {
                                                    "type": "number",
                                                    "format": "float"
                                                },
                                                "grade": {
                                                    "type": "string"
                                                },
                                                "total_correct": {
                                                    "type": "integer"
                                                },
                                                "total_incorrect": {
                                                    "type": "integer"
                                                },
                                                "total_unanswered": {
                                                    "type": "integer"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Bad request - Test already submitted"
                    },
                    "401": {
                        "description": "Unauthorized"
                    },
                    "403": {
                        "description": "Forbidden - Not your submission"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/reading/submissions/{submissionId}/results": {
            "get": {
                "tags": [
                    "Reading Answers"
                ],
                "summary": "Get test results with explanations",
                "description": "Retrieve test results including highlights and explanations for completed tests",
                "operationId": "9747628857a0b11a94b57c63e2ec4a40",
                "parameters": [
                    {
                        "name": "Authorization",
                        "in": "header",
                        "description": "Bearer token. Example: Bearer {access_token}",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "name": "submissionId",
                        "in": "path",
                        "description": "Submission ID",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Test results retrieved successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "properties": {
                                                "submission_summary": {
                                                    "properties": {
                                                        "total_score": {
                                                            "type": "number",
                                                            "format": "float"
                                                        },
                                                        "percentage": {
                                                            "type": "number",
                                                            "format": "float"
                                                        },
                                                        "grade": {
                                                            "type": "string"
                                                        },
                                                        "total_correct": {
                                                            "type": "integer"
                                                        },
                                                        "total_incorrect": {
                                                            "type": "integer"
                                                        },
                                                        "time_taken": {
                                                            "type": "integer"
                                                        }
                                                    },
                                                    "type": "object"
                                                },
                                                "question_results": {
                                                    "type": "array",
                                                    "items": {
                                                        "properties": {
                                                            "question_id": {
                                                                "type": "string",
                                                                "format": "uuid"
                                                            },
                                                            "question_text": {
                                                                "type": "string"
                                                            },
                                                            "question_type": {
                                                                "type": "string"
                                                            },
                                                            "student_answer": {
                                                                "type": "string"
                                                            },
                                                            "correct_answer": {
                                                                "type": "string"
                                                            },
                                                            "is_correct": {
                                                                "type": "boolean"
                                                            },
                                                            "points_earned": {
                                                                "type": "number",
                                                                "format": "float"
                                                            },
                                                            "highlights": {
                                                                "description": "Text highlights with explanations",
                                                                "type": "array",
                                                                "items": {
                                                                    "properties": {
                                                                        "text": {
                                                                            "type": "string"
                                                                        },
                                                                        "explanation": {
                                                                            "type": "string"
                                                                        },
                                                                        "color": {
                                                                            "type": "string"
                                                                        },
                                                                        "start_position": {
                                                                            "type": "integer"
                                                                        },
                                                                        "end_position": {
                                                                            "type": "integer"
                                                                        }
                                                                    },
                                                                    "type": "object"
                                                                }
                                                            }
                                                        },
                                                        "type": "object"
                                                    }
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Bad request - Test not completed"
                    },
                    "401": {
                        "description": "Unauthorized"
                    },
                    "403": {
                        "description": "Forbidden - Not your submission"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/reading-dashboard/student": {
            "get": {
                "tags": [
                    "Reading Dashboard"
                ],
                "summary": "Get student reading dashboard",
                "description": "Retrieve reading dashboard data for students",
                "operationId": "973d32322ec353691b1e42c1f762c12b",
                "responses": {
                    "200": {
                        "description": "Student reading dashboard retrieved successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Student reading dashboard retrieved successfully"
                                        },
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "properties": {
                                                    "test_id": {
                                                        "type": "string",
                                                        "format": "uuid"
                                                    },
                                                    "title": {
                                                        "type": "string"
                                                    },
                                                    "description": {
                                                        "type": "string"
                                                    },
                                                    "difficulty": {
                                                        "type": "string",
                                                        "enum": [
                                                            "beginner",
                                                            "intermediate",
                                                            "advanced"
                                                        ]
                                                    },
                                                    "status": {
                                                        "type": "string",
                                                        "enum": [
                                                            "not_started",
                                                            "in_progress",
                                                            "completed"
                                                        ]
                                                    },
                                                    "score": {
                                                        "type": "integer",
                                                        "nullable": true
                                                    },
                                                    "attempt_count": {
                                                        "type": "integer"
                                                    },
                                                    "last_attempt": {
                                                        "type": "string",
                                                        "format": "date-time",
                                                        "nullable": true
                                                    },
                                                    "time_spent": {
                                                        "type": "integer",
                                                        "nullable": true
                                                    },
                                                    "passages_count": {
                                                        "type": "integer"
                                                    },
                                                    "questions_count": {
                                                        "type": "integer"
                                                    }
                                                },
                                                "type": "object"
                                            }
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Forbidden - Student only"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/reading-dashboard/teacher": {
            "get": {
                "tags": [
                    "Reading Dashboard"
                ],
                "summary": "Get teacher reading dashboard",
                "description": "Retrieve reading dashboard data for teachers",
                "operationId": "c29e681ad265965dec460f6b33e5f9bb",
                "responses": {
                    "200": {
                        "description": "Teacher reading dashboard retrieved successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Teacher reading dashboard retrieved successfully"
                                        },
                                        "data": {
                                            "properties": {
                                                "total_tests": {
                                                    "type": "integer"
                                                },
                                                "published_tests": {
                                                    "type": "integer"
                                                },
                                                "draft_tests": {
                                                    "type": "integer"
                                                },
                                                "total_submissions": {
                                                    "type": "integer"
                                                },
                                                "pending_reviews": {
                                                    "type": "integer"
                                                },
                                                "average_score": {
                                                    "type": "number",
                                                    "nullable": true
                                                },
                                                "recent_tests": {
                                                    "type": "array",
                                                    "items": {
                                                        "properties": {
                                                            "id": {
                                                                "type": "string",
                                                                "format": "uuid"
                                                            },
                                                            "title": {
                                                                "type": "string"
                                                            },
                                                            "submissions_count": {
                                                                "type": "integer"
                                                            },
                                                            "average_score": {
                                                                "type": "number",
                                                                "nullable": true
                                                            },
                                                            "created_at": {
                                                                "type": "string",
                                                                "format": "date-time"
                                                            }
                                                        },
                                                        "type": "object"
                                                    }
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Forbidden - Teacher/Admin only"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/reading-dashboard/analytics": {
            "get": {
                "tags": [
                    "Reading Dashboard"
                ],
                "summary": "Get reading analytics",
                "description": "Retrieve detailed analytics for reading tests",
                "operationId": "08d572c1e8463a8dc07fba3956a410c6",
                "responses": {
                    "200": {
                        "description": "Reading analytics retrieved successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Reading analytics retrieved successfully"
                                        },
                                        "data": {
                                            "properties": {
                                                "completion_rate": {
                                                    "type": "number"
                                                },
                                                "average_time": {
                                                    "type": "integer"
                                                },
                                                "difficulty_breakdown": {
                                                    "type": "object"
                                                },
                                                "performance_trends": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "object"
                                                    }
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Forbidden"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/reading/reviews": {
            "get": {
                "tags": [
                    "Reading Reviews"
                ],
                "summary": "Get reading test reviews",
                "description": "Retrieve reviews for reading test submissions",
                "operationId": "b8f884ffd9315b42458b0ec7abc1bb49",
                "parameters": [
                    {
                        "name": "test_id",
                        "in": "query",
                        "description": "Filter by test ID",
                        "required": false,
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        }
                    },
                    {
                        "name": "student_id",
                        "in": "query",
                        "description": "Filter by student ID",
                        "required": false,
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Reading reviews retrieved successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Reading reviews retrieved successfully"
                                        },
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "properties": {
                                                    "id": {
                                                        "type": "string",
                                                        "format": "uuid"
                                                    },
                                                    "submission_id": {
                                                        "type": "string",
                                                        "format": "uuid"
                                                    },
                                                    "reviewer_id": {
                                                        "type": "string",
                                                        "format": "uuid"
                                                    },
                                                    "reviewer_name": {
                                                        "type": "string"
                                                    },
                                                    "score": {
                                                        "type": "integer"
                                                    },
                                                    "feedback": {
                                                        "type": "string"
                                                    },
                                                    "reviewed_at": {
                                                        "type": "string",
                                                        "format": "date-time"
                                                    },
                                                    "submission": {
                                                        "properties": {
                                                            "student_name": {
                                                                "type": "string"
                                                            },
                                                            "test_title": {
                                                                "type": "string"
                                                            },
                                                            "submitted_at": {
                                                                "type": "string",
                                                                "format": "date-time"
                                                            }
                                                        },
                                                        "type": "object"
                                                    }
                                                },
                                                "type": "object"
                                            }
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            },
            "post": {
                "tags": [
                    "Reading Reviews"
                ],
                "summary": "Create a reading review",
                "description": "Create a review for a reading test submission",
                "operationId": "8e31e50b0788d45ac169f9ace611faf1",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "submission_id",
                                    "score",
                                    "feedback"
                                ],
                                "properties": {
                                    "submission_id": {
                                        "type": "string",
                                        "format": "uuid"
                                    },
                                    "score": {
                                        "type": "integer",
                                        "maximum": 100,
                                        "minimum": 0
                                    },
                                    "feedback": {
                                        "type": "string"
                                    },
                                    "detailed_feedback": {
                                        "type": "object"
                                    },
                                    "suggestions": {
                                        "type": "string"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Reading review created successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Reading review created successfully"
                                        },
                                        "review_id": {
                                            "type": "string",
                                            "format": "uuid"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation error"
                    },
                    "403": {
                        "description": "Forbidden"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/reading/reviews/{id}": {
            "get": {
                "tags": [
                    "Reading Reviews"
                ],
                "summary": "Get a specific reading review",
                "description": "Retrieve detailed information about a specific reading review",
                "operationId": "977ef3a1771b82cae51f11dab9886e52",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "Review ID",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Reading review retrieved successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "id": {
                                            "type": "string",
                                            "format": "uuid"
                                        },
                                        "submission_id": {
                                            "type": "string",
                                            "format": "uuid"
                                        },
                                        "reviewer_id": {
                                            "type": "string",
                                            "format": "uuid"
                                        },
                                        "reviewer_name": {
                                            "type": "string"
                                        },
                                        "score": {
                                            "type": "integer"
                                        },
                                        "feedback": {
                                            "type": "string"
                                        },
                                        "detailed_feedback": {
                                            "type": "object"
                                        },
                                        "suggestions": {
                                            "type": "string"
                                        },
                                        "reviewed_at": {
                                            "type": "string",
                                            "format": "date-time"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Review not found"
                    },
                    "403": {
                        "description": "Forbidden"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            },
            "put": {
                "tags": [
                    "Reading Reviews"
                ],
                "summary": "Update a reading review",
                "description": "Update an existing reading review",
                "operationId": "4f0b8a23a06e6ba2982bc530bf8cdd00",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "Review ID",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "properties": {
                                    "score": {
                                        "type": "integer",
                                        "maximum": 100,
                                        "minimum": 0
                                    },
                                    "feedback": {
                                        "type": "string"
                                    },
                                    "detailed_feedback": {
                                        "type": "object"
                                    },
                                    "suggestions": {
                                        "type": "string"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Reading review updated successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Reading review updated successfully"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Review not found"
                    },
                    "422": {
                        "description": "Validation error"
                    },
                    "403": {
                        "description": "Forbidden"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/reading-tasks/{taskId}/submissions": {
            "get": {
                "tags": [
                    "Reading Submissions"
                ],
                "summary": "Get submissions for a reading task",
                "description": "Retrieve all submissions for a specific reading task (Teacher view)",
                "operationId": "43166cbf76e5120b06b3e73001df4934",
                "parameters": [
                    {
                        "name": "taskId",
                        "in": "path",
                        "description": "Task ID",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Submissions retrieved successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Reading submissions retrieved successfully"
                                        },
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "properties": {
                                                    "id": {
                                                        "type": "string",
                                                        "format": "uuid"
                                                    },
                                                    "task_id": {
                                                        "type": "string",
                                                        "format": "uuid"
                                                    },
                                                    "student_id": {
                                                        "type": "string",
                                                        "format": "uuid"
                                                    },
                                                    "student_name": {
                                                        "type": "string"
                                                    },
                                                    "status": {
                                                        "type": "string",
                                                        "enum": [
                                                            "to_do",
                                                            "in_progress",
                                                            "submitted",
                                                            "reviewed"
                                                        ]
                                                    },
                                                    "score": {
                                                        "type": "integer",
                                                        "nullable": true
                                                    },
                                                    "total_score": {
                                                        "type": "integer"
                                                    },
                                                    "percentage": {
                                                        "type": "number",
                                                        "format": "float",
                                                        "nullable": true
                                                    },
                                                    "attempt_number": {
                                                        "type": "integer"
                                                    },
                                                    "time_taken_seconds": {
                                                        "type": "integer",
                                                        "nullable": true
                                                    },
                                                    "submitted_at": {
                                                        "type": "string",
                                                        "format": "date-time",
                                                        "nullable": true
                                                    },
                                                    "created_at": {
                                                        "type": "string",
                                                        "format": "date-time"
                                                    }
                                                },
                                                "type": "object"
                                            }
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Forbidden"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            },
            "post": {
                "tags": [
                    "Reading Submissions"
                ],
                "summary": "Submit reading test answers",
                "description": "Submit answers for a reading test (Student only) - Supports all 15 Question Types",
                "operationId": "d8fe522ac10721b902ef6ebc59662b7f",
                "parameters": [
                    {
                        "name": "taskId",
                        "in": "path",
                        "description": "Reading Task ID",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        }
                    }
                ],
                "requestBody": {
                    "description": "Reading test answers for 15 Question Types: QT1-Multiple Choice, QT2-Multiple Answer, QT3-True/False/Not Given, QT4-Matching Heading, QT5-Sentence Completion, QT6-Paragraph/Summary Completion, QT7-Yes/No/Not Given, QT8-Matching Information, QT9-Matching Features, QT10-Matching Sentence Ending, QT11-Note Completion, QT12-Table Completion, QT13-Flowchart Completion, QT14-Diagram Label Completion, QT15-Short Answer Question",
                    "required": true,
                    "content": {
                        "multipart/form-data": {
                            "schema": {
                                "required": [
                                    "answers"
                                ],
                                "properties": {
                                    "answers": {
                                        "description": "JSON string of answers array for each question",
                                        "type": "string",
                                        "example": "[{\"question_id\":\"uuid\",\"answer\":\"A\",\"question_type\":\"QT1\"},{\"question_id\":\"uuid2\",\"answer\":\"True\",\"question_type\":\"QT3\"}]"
                                    },
                                    "time_taken_seconds": {
                                        "description": "Total time taken to complete the test",
                                        "type": "integer",
                                        "example": 3600
                                    },
                                    "assignment_id": {
                                        "description": "Assignment ID",
                                        "type": "string",
                                        "format": "uuid"
                                    },
                                    "supporting_files": {
                                        "description": "Upload supporting files, notes, or work sheets (optional)",
                                        "type": "array",
                                        "items": {
                                            "type": "string",
                                            "format": "binary"
                                        }
                                    },
                                    "note_files": {
                                        "description": "Upload handwritten notes or additional materials (optional)",
                                        "type": "array",
                                        "items": {
                                            "type": "string",
                                            "format": "binary"
                                        }
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Reading submission created successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Reading test submitted successfully"
                                        },
                                        "data": {
                                            "properties": {
                                                "submission_id": {
                                                    "type": "string",
                                                    "format": "uuid"
                                                },
                                                "score": {
                                                    "type": "integer"
                                                },
                                                "total_score": {
                                                    "type": "integer"
                                                },
                                                "percentage": {
                                                    "type": "number",
                                                    "format": "float"
                                                },
                                                "status": {
                                                    "type": "string"
                                                },
                                                "auto_graded": {
                                                    "type": "boolean",
                                                    "example": true
                                                },
                                                "can_retake": {
                                                    "type": "boolean"
                                                },
                                                "next_attempt_available_at": {
                                                    "type": "string",
                                                    "format": "date-time",
                                                    "nullable": true
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation error"
                    },
                    "403": {
                        "description": "Forbidden - Student only or assignment not available"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/reading-submissions/{id}": {
            "get": {
                "tags": [
                    "Reading Submissions"
                ],
                "summary": "Get submission details",
                "description": "Get detailed submission with answers and grading information",
                "operationId": "5f1255da7141b529745ab216a38b155c",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "Submission ID",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Submission details retrieved successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Reading submission details retrieved successfully"
                                        },
                                        "data": {
                                            "properties": {
                                                "id": {
                                                    "type": "string",
                                                    "format": "uuid"
                                                },
                                                "task_id": {
                                                    "type": "string",
                                                    "format": "uuid"
                                                },
                                                "student_id": {
                                                    "type": "string",
                                                    "format": "uuid"
                                                },
                                                "status": {
                                                    "type": "string"
                                                },
                                                "score": {
                                                    "type": "integer"
                                                },
                                                "total_score": {
                                                    "type": "integer"
                                                },
                                                "percentage": {
                                                    "type": "number",
                                                    "format": "float"
                                                },
                                                "attempt_number": {
                                                    "type": "integer"
                                                },
                                                "time_taken_seconds": {
                                                    "type": "integer"
                                                },
                                                "submitted_at": {
                                                    "type": "string",
                                                    "format": "date-time"
                                                },
                                                "answers": {
                                                    "type": "array",
                                                    "items": {
                                                        "properties": {
                                                            "question_id": {
                                                                "type": "string",
                                                                "format": "uuid"
                                                            },
                                                            "question_text": {
                                                                "type": "string"
                                                            },
                                                            "student_answer": {
                                                                "type": "string"
                                                            },
                                                            "correct_answer": {
                                                                "type": "string"
                                                            },
                                                            "is_correct": {
                                                                "type": "boolean"
                                                            },
                                                            "points_earned": {
                                                                "type": "number"
                                                            },
                                                            "feedback": {
                                                                "type": "string",
                                                                "nullable": true
                                                            }
                                                        },
                                                        "type": "object"
                                                    }
                                                },
                                                "task_info": {
                                                    "properties": {
                                                        "title": {
                                                            "type": "string"
                                                        },
                                                        "passage_text": {
                                                            "type": "string"
                                                        }
                                                    },
                                                    "type": "object"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Submission not found"
                    },
                    "403": {
                        "description": "Access denied"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/reading-submissions/{id}/retake": {
            "post": {
                "tags": [
                    "Reading Submissions"
                ],
                "summary": "Start retake attempt",
                "description": "Start a new attempt for reading test retake",
                "operationId": "c1b35433ca142654ec6aa272fd3ea8a9",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "Original Submission ID",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Retake started successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Reading test retake started"
                                        },
                                        "data": {
                                            "properties": {
                                                "new_submission_id": {
                                                    "type": "string",
                                                    "format": "uuid"
                                                },
                                                "attempt_number": {
                                                    "type": "integer"
                                                },
                                                "remaining_attempts": {
                                                    "type": "integer"
                                                },
                                                "started_at": {
                                                    "type": "string",
                                                    "format": "date-time"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Retake not allowed"
                    },
                    "404": {
                        "description": "Submission not found"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/reading-assignments": {
            "get": {
                "tags": [
                    "Reading Assignments"
                ],
                "summary": "Get reading task assignments",
                "description": "Get reading task assignments for teachers and students",
                "operationId": "6a278d39959a6f38ccdb0474becd6352",
                "responses": {
                    "200": {
                        "description": "Reading assignments retrieved successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Reading assignments retrieved successfully"
                                        },
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "properties": {
                                                    "id": {
                                                        "type": "string",
                                                        "format": "uuid"
                                                    },
                                                    "task_id": {
                                                        "type": "string",
                                                        "format": "uuid"
                                                    },
                                                    "class_id": {
                                                        "type": "string",
                                                        "format": "uuid"
                                                    },
                                                    "due_date": {
                                                        "type": "string",
                                                        "format": "date-time"
                                                    },
                                                    "allow_retake": {
                                                        "type": "boolean"
                                                    },
                                                    "max_attempts": {
                                                        "type": "integer"
                                                    },
                                                    "assigned_at": {
                                                        "type": "string",
                                                        "format": "date-time"
                                                    },
                                                    "task_title": {
                                                        "type": "string"
                                                    },
                                                    "class_name": {
                                                        "type": "string"
                                                    }
                                                },
                                                "type": "object"
                                            }
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            },
            "post": {
                "tags": [
                    "Reading Assignments"
                ],
                "summary": "Assign reading task to class",
                "description": "Assign a reading task to a class (Teacher only)",
                "operationId": "c900bf31ec524f8b982ec2d409012597",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "properties": {
                                    "task_id": {
                                        "description": "Reading task to assign",
                                        "type": "string",
                                        "format": "uuid"
                                    },
                                    "class_id": {
                                        "description": "Class to assign to",
                                        "type": "string",
                                        "format": "uuid"
                                    },
                                    "due_date": {
                                        "description": "Assignment due date",
                                        "type": "string",
                                        "format": "date-time"
                                    },
                                    "allow_retake": {
                                        "description": "Allow students to retake",
                                        "type": "boolean"
                                    },
                                    "max_attempts": {
                                        "description": "Maximum attempts allowed",
                                        "type": "integer",
                                        "example": 3
                                    },
                                    "instructions": {
                                        "description": "Additional instructions for this assignment",
                                        "type": "string",
                                        "nullable": true
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Reading task assigned successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Reading task assigned to class successfully"
                                        },
                                        "data": {
                                            "properties": {
                                                "assignment_id": {
                                                    "type": "string",
                                                    "format": "uuid"
                                                },
                                                "students_assigned": {
                                                    "type": "integer"
                                                },
                                                "due_date": {
                                                    "type": "string",
                                                    "format": "date-time"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation error"
                    },
                    "403": {
                        "description": "Forbidden - Teacher only"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/reading-assignments/{id}": {
            "get": {
                "tags": [
                    "Reading Assignments"
                ],
                "summary": "Get assignment details",
                "operationId": "48677abe48f950c6b07f1c637e1611ab",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Assignment details retrieved successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Assignment details retrieved successfully"
                                        },
                                        "data": {
                                            "properties": {
                                                "id": {
                                                    "type": "string",
                                                    "format": "uuid"
                                                },
                                                "task_id": {
                                                    "type": "string",
                                                    "format": "uuid"
                                                },
                                                "class_id": {
                                                    "type": "string",
                                                    "format": "uuid"
                                                },
                                                "due_date": {
                                                    "type": "string",
                                                    "format": "date-time"
                                                },
                                                "allow_retake": {
                                                    "type": "boolean"
                                                },
                                                "max_attempts": {
                                                    "type": "integer"
                                                },
                                                "task": {
                                                    "properties": {
                                                        "title": {
                                                            "type": "string"
                                                        },
                                                        "description": {
                                                            "type": "string"
                                                        },
                                                        "difficulty_level": {
                                                            "type": "string"
                                                        },
                                                        "total_questions": {
                                                            "type": "integer"
                                                        }
                                                    },
                                                    "type": "object"
                                                },
                                                "progress": {
                                                    "properties": {
                                                        "total_students": {
                                                            "type": "integer"
                                                        },
                                                        "submitted": {
                                                            "type": "integer"
                                                        },
                                                        "pending": {
                                                            "type": "integer"
                                                        },
                                                        "reviewed": {
                                                            "type": "integer"
                                                        }
                                                    },
                                                    "type": "object"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Assignment not found"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            },
            "put": {
                "tags": [
                    "Reading Assignments"
                ],
                "summary": "Update assignment",
                "operationId": "b7c27f7f4c052d7dc5fe3c84e4df77a3",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "properties": {
                                    "due_date": {
                                        "type": "string",
                                        "format": "date-time"
                                    },
                                    "allow_retake": {
                                        "type": "boolean"
                                    },
                                    "max_attempts": {
                                        "type": "integer"
                                    },
                                    "instructions": {
                                        "type": "string",
                                        "nullable": true
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Assignment updated successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Reading assignment updated successfully"
                                        },
                                        "data": {
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Assignment not found"
                    },
                    "422": {
                        "description": "Validation error"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            },
            "delete": {
                "tags": [
                    "Reading Assignments"
                ],
                "summary": "Delete assignment",
                "operationId": "1fbd4fbaf4a083136c68d59df2c338cc",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Assignment deleted successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Reading assignment deleted successfully"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Assignment not found"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/reading-tests": {
            "post": {
                "tags": [
                    "Reading Tests"
                ],
                "summary": "Create a new reading task",
                "description": "Create a new reading task with passage and questions (15 Question Types supported)",
                "operationId": "39f98a8a0d14f9168e8d29c661c5d3cb",
                "requestBody": {
                    "required": true,
                    "content": {
                        "multipart/form-data": {
                            "schema": {
                                "required": [
                                    "title",
                                    "type",
                                    "difficulty",
                                    "test_type",
                                    "passages"
                                ],
                                "properties": {
                                    "title": {
                                        "type": "string",
                                        "example": "IELTS Reading Practice"
                                    },
                                    "description": {
                                        "type": "string",
                                        "example": "Practice test for IELTS reading section"
                                    },
                                    "type": {
                                        "type": "string",
                                        "enum": [
                                            "reading",
                                            "listening",
                                            "speaking",
                                            "writing"
                                        ],
                                        "example": "reading"
                                    },
                                    "difficulty": {
                                        "type": "string",
                                        "enum": [
                                            "beginner",
                                            "intermediate",
                                            "advanced"
                                        ],
                                        "example": "intermediate"
                                    },
                                    "test_type": {
                                        "type": "string",
                                        "enum": [
                                            "single",
                                            "final"
                                        ],
                                        "example": "single"
                                    },
                                    "timer_mode": {
                                        "type": "string",
                                        "enum": [
                                            "countdown",
                                            "countup",
                                            "none"
                                        ],
                                        "example": "countdown"
                                    },
                                    "timer_settings": {
                                        "type": "string",
                                        "example": "{\"hours\":1,\"minutes\":0,\"seconds\":0}"
                                    },
                                    "allow_repetition": {
                                        "type": "boolean",
                                        "example": true
                                    },
                                    "max_repetition_count": {
                                        "type": "integer",
                                        "example": 3
                                    },
                                    "is_public": {
                                        "type": "boolean",
                                        "example": false
                                    },
                                    "is_published": {
                                        "type": "boolean",
                                        "example": false
                                    },
                                    "settings": {
                                        "type": "string",
                                        "example": "{\"instructions\":\"Read carefully\"}"
                                    },
                                    "passage_images": {
                                        "description": "Upload images related to the reading passage",
                                        "type": "array",
                                        "items": {
                                            "type": "string",
                                            "format": "binary"
                                        }
                                    },
                                    "reference_materials": {
                                        "description": "Upload additional reference materials",
                                        "type": "array",
                                        "items": {
                                            "type": "string",
                                            "format": "binary"
                                        }
                                    },
                                    "passages": {
                                        "description": "JSON string of passages array with nested question groups and questions. Supports 15 Reading Question Types: QT1-Multiple Choice, QT2-Multiple Answer, QT3-True/False/Not Given, QT4-Matching Heading, QT5-Sentence Completion, QT6-Paragraph/Summary Completion, QT7-Yes/No/Not Given, QT8-Matching Information, QT9-Matching Features, QT10-Matching Sentence Ending, QT11-Note Completion, QT12-Table Completion, QT13-Flowchart Completion, QT14-Diagram Label Completion, QT15-Short Answer Question",
                                        "type": "string",
                                        "example": "[{\"title\":\"Reading Passage 1\",\"description\":\"Main passage content\",\"question_groups\":[{\"instruction\":\"Answer questions 1-5\",\"questions\":[{\"question_type\":\"QT1\",\"question_number\":1,\"question_text\":\"What is the main topic?\",\"options\":[{\"option_key\":\"A\",\"option_text\":\"Option A\"},{\"option_key\":\"B\",\"option_text\":\"Option B\"}],\"correct_answers\":[\"A\"],\"breakdown\":{\"explanation\":\"The answer is A because...\"}}]}]}]"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Reading test created successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Reading test created successfully"
                                        },
                                        "data": {
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation error"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/reading-tests/{id}": {
            "get": {
                "tags": [
                    "Reading Tests"
                ],
                "summary": "Get reading test details",
                "operationId": "21c504e5661de8d771df8b89311bb543",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Reading test retrieved successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Reading test retrieved successfully"
                                        },
                                        "data": {
                                            "properties": {
                                                "id": {
                                                    "type": "string",
                                                    "format": "uuid"
                                                },
                                                "title": {
                                                    "type": "string"
                                                },
                                                "description": {
                                                    "type": "string"
                                                },
                                                "instructions": {
                                                    "type": "string"
                                                },
                                                "passage_text": {
                                                    "type": "string"
                                                },
                                                "timer_type": {
                                                    "type": "string"
                                                },
                                                "time_limit_seconds": {
                                                    "type": "integer",
                                                    "nullable": true
                                                },
                                                "questions": {
                                                    "type": "array",
                                                    "items": {
                                                        "properties": {
                                                            "id": {
                                                                "type": "string",
                                                                "format": "uuid"
                                                            },
                                                            "question_type": {
                                                                "type": "string"
                                                            },
                                                            "question_text": {
                                                                "type": "string"
                                                            },
                                                            "options": {
                                                                "type": "array",
                                                                "items": {
                                                                    "type": "string"
                                                                },
                                                                "nullable": true
                                                            },
                                                            "order": {
                                                                "type": "integer"
                                                            },
                                                            "explanation": {
                                                                "type": "string",
                                                                "nullable": true
                                                            }
                                                        },
                                                        "type": "object"
                                                    }
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Task not found"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            },
            "delete": {
                "tags": [
                    "Reading Tests"
                ],
                "summary": "Delete reading test",
                "operationId": "46c544dbd4c04eaeaf1266d9cad8fe23",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Reading test deleted successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Reading test deleted successfully"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Test not found"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/reading-tests/{id}/update": {
            "post": {
                "tags": [
                    "Reading Tests"
                ],
                "summary": "Update reading test",
                "operationId": "f2b3d3a8a50e416932802f5a88a6749f",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "multipart/form-data": {
                            "schema": {
                                "properties": {
                                    "_method": {
                                        "type": "string",
                                        "enum": [
                                            "PUT"
                                        ],
                                        "example": "PUT"
                                    },
                                    "title": {
                                        "type": "string",
                                        "example": "Updated IELTS Reading Practice"
                                    },
                                    "description": {
                                        "type": "string",
                                        "example": "Updated practice test for IELTS reading section"
                                    },
                                    "type": {
                                        "type": "string",
                                        "enum": [
                                            "reading",
                                            "listening",
                                            "speaking",
                                            "writing"
                                        ],
                                        "example": "reading"
                                    },
                                    "difficulty": {
                                        "type": "string",
                                        "enum": [
                                            "beginner",
                                            "intermediate",
                                            "advanced"
                                        ],
                                        "example": "intermediate"
                                    },
                                    "test_type": {
                                        "type": "string",
                                        "enum": [
                                            "single",
                                            "final"
                                        ],
                                        "example": "single"
                                    },
                                    "timer_mode": {
                                        "type": "string",
                                        "enum": [
                                            "countdown",
                                            "countup",
                                            "none"
                                        ],
                                        "example": "countdown"
                                    },
                                    "timer_settings": {
                                        "type": "string",
                                        "example": "{\"hours\":1,\"minutes\":30,\"seconds\":0}"
                                    },
                                    "allow_repetition": {
                                        "type": "boolean",
                                        "example": true
                                    },
                                    "max_repetition_count": {
                                        "type": "integer",
                                        "example": 3
                                    },
                                    "is_public": {
                                        "type": "boolean",
                                        "example": false
                                    },
                                    "is_published": {
                                        "type": "boolean",
                                        "example": false
                                    },
                                    "settings": {
                                        "type": "string",
                                        "example": "{\"instructions\":\"Read carefully and answer all questions\"}"
                                    },
                                    "passages": {
                                        "description": "JSON string of passages array with nested question groups and questions",
                                        "type": "string",
                                        "example": "[{\"id\":\"existing-uuid\",\"title\":\"Updated Reading Passage\",\"description\":\"Updated passage content\",\"question_groups\":[{\"id\":\"group-uuid\",\"instruction\":\"Answer questions 1-3\",\"questions\":[{\"id\":\"question-uuid\",\"question_type\":\"QT1\",\"question_number\":1,\"question_text\":\"Updated question text?\",\"options\":[{\"option_key\":\"A\",\"option_text\":\"Updated Option A\"},{\"option_key\":\"B\",\"option_text\":\"Updated Option B\"}],\"correct_answers\":[\"A\"],\"breakdown\":{\"explanation\":\"Updated explanation...\"}}]}]}]"
                                    },
                                    "passage_images": {
                                        "description": "Upload updated images for the reading passage",
                                        "type": "array",
                                        "items": {
                                            "type": "string",
                                            "format": "binary"
                                        }
                                    },
                                    "reference_materials": {
                                        "description": "Upload updated reference materials",
                                        "type": "array",
                                        "items": {
                                            "type": "string",
                                            "format": "binary"
                                        }
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Reading test updated successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Reading test updated successfully"
                                        },
                                        "data": {
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Task not found"
                    },
                    "422": {
                        "description": "Validation error"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/reading-tasks/{id}/publish": {
            "post": {
                "tags": [
                    "Reading Tasks"
                ],
                "summary": "Publish reading task",
                "operationId": "0daee9e55471ec015e5c976d90ff4d57",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Reading task published successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Reading task published successfully"
                                        },
                                        "data": {
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Task not found"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/reading/tests": {
            "get": {
                "tags": [
                    "Reading Tests"
                ],
                "summary": "Get all reading tests",
                "description": "Retrieve reading tests based on user role. Admin sees all tests, students see only published tests, teachers see only their own tests.",
                "operationId": "1449357cd966972a840334cb2f094ecb",
                "responses": {
                    "200": {
                        "description": "Reading tests retrieved successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Reading tests retrieved successfully"
                                        },
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "properties": {
                                                    "id": {
                                                        "type": "string",
                                                        "format": "uuid",
                                                        "example": "550e8400-e29b-41d4-a716-446655440000"
                                                    },
                                                    "creator_id": {
                                                        "type": "string",
                                                        "format": "uuid",
                                                        "example": "550e8400-e29b-41d4-a716-446655440001"
                                                    },
                                                    "creator_name": {
                                                        "type": "string",
                                                        "example": "Teacher Name"
                                                    },
                                                    "test_type": {
                                                        "type": "string",
                                                        "example": "academic"
                                                    },
                                                    "type": {
                                                        "type": "string",
                                                        "example": "reading"
                                                    },
                                                    "difficulty": {
                                                        "type": "string",
                                                        "example": "intermediate"
                                                    },
                                                    "title": {
                                                        "type": "string",
                                                        "example": "Reading Comprehension Test"
                                                    },
                                                    "description": {
                                                        "type": "string",
                                                        "example": "Test description"
                                                    },
                                                    "timer_mode": {
                                                        "type": "string",
                                                        "example": "test"
                                                    },
                                                    "timer_settings": {
                                                        "type": "object"
                                                    },
                                                    "allow_repetition": {
                                                        "type": "boolean",
                                                        "example": true
                                                    },
                                                    "max_repetition_count": {
                                                        "type": "integer",
                                                        "example": 3
                                                    },
                                                    "is_public": {
                                                        "type": "boolean",
                                                        "example": false
                                                    },
                                                    "is_published": {
                                                        "type": "boolean",
                                                        "example": true
                                                    },
                                                    "settings": {
                                                        "type": "object"
                                                    },
                                                    "created_at": {
                                                        "type": "string",
                                                        "format": "date-time"
                                                    },
                                                    "updated_at": {
                                                        "type": "string",
                                                        "format": "date-time"
                                                    },
                                                    "passages": {
                                                        "type": "array",
                                                        "items": {
                                                            "type": "object"
                                                        }
                                                    }
                                                },
                                                "type": "object"
                                            }
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/reading/create": {
            "post": {
                "tags": [
                    "Reading Tests"
                ],
                "summary": "Create a new reading test",
                "description": "Create a new reading test with passages and questions.",
                "operationId": "63aa2b65f8b97017e55dcb3a9c579129",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "title",
                                    "description",
                                    "test_type",
                                    "difficulty",
                                    "passages"
                                ],
                                "properties": {
                                    "title": {
                                        "type": "string",
                                        "example": "Reading Test 1"
                                    },
                                    "description": {
                                        "type": "string",
                                        "example": "A comprehensive reading test"
                                    },
                                    "test_type": {
                                        "type": "string",
                                        "enum": [
                                            "academic",
                                            "general"
                                        ],
                                        "example": "academic"
                                    },
                                    "difficulty": {
                                        "type": "string",
                                        "enum": [
                                            "beginner",
                                            "intermediate",
                                            "advanced"
                                        ],
                                        "example": "intermediate"
                                    },
                                    "timer_mode": {
                                        "type": "string",
                                        "enum": [
                                            "test",
                                            "passage",
                                            "question"
                                        ],
                                        "example": "test"
                                    },
                                    "timer_settings": {
                                        "type": "object",
                                        "example": {
                                            "test_time": 60
                                        }
                                    },
                                    "allow_repetition": {
                                        "type": "boolean",
                                        "example": true
                                    },
                                    "max_repetition_count": {
                                        "type": "integer",
                                        "example": 3
                                    },
                                    "is_public": {
                                        "type": "boolean",
                                        "example": false
                                    },
                                    "is_published": {
                                        "type": "boolean",
                                        "example": true
                                    },
                                    "settings": {
                                        "type": "object",
                                        "example": []
                                    },
                                    "passages": {
                                        "type": "array",
                                        "items": {
                                            "properties": {
                                                "title": {
                                                    "type": "string",
                                                    "example": "Passage 1"
                                                },
                                                "description": {
                                                    "type": "string",
                                                    "example": "Passage description"
                                                },
                                                "content": {
                                                    "type": "string",
                                                    "example": "Passage content text..."
                                                }
                                            },
                                            "type": "object"
                                        }
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Reading test created successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Reading test created successfully"
                                        },
                                        "test_id": {
                                            "type": "string",
                                            "format": "uuid",
                                            "example": "550e8400-e29b-41d4-a716-446655440000"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation error"
                    },
                    "401": {
                        "description": "Unauthorized"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/reading/tests/{id}": {
            "get": {
                "tags": [
                    "Reading Tests"
                ],
                "summary": "Get a specific reading test",
                "description": "Retrieve a specific reading test with all its passages and questions.",
                "operationId": "0aced292ef95c2e9ed803a6e1ab088d9",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "Test ID (UUID)",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Test retrieved successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "id": {
                                            "type": "string",
                                            "format": "uuid",
                                            "example": "550e8400-e29b-41d4-a716-446655440000"
                                        },
                                        "creator_id": {
                                            "type": "string",
                                            "format": "uuid"
                                        },
                                        "creator_name": {
                                            "type": "string",
                                            "example": "Teacher Name"
                                        },
                                        "title": {
                                            "type": "string",
                                            "example": "Reading Test 1"
                                        },
                                        "description": {
                                            "type": "string",
                                            "example": "Test description"
                                        },
                                        "test_type": {
                                            "type": "string",
                                            "example": "academic"
                                        },
                                        "difficulty": {
                                            "type": "string",
                                            "example": "intermediate"
                                        },
                                        "is_published": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "passages": {
                                            "type": "array",
                                            "items": {
                                                "properties": {
                                                    "passage_id": {
                                                        "type": "string",
                                                        "format": "uuid"
                                                    },
                                                    "title": {
                                                        "type": "string"
                                                    },
                                                    "description": {
                                                        "type": "string"
                                                    },
                                                    "content": {
                                                        "type": "string"
                                                    },
                                                    "question_groups": {
                                                        "type": "array",
                                                        "items": {
                                                            "type": "object"
                                                        }
                                                    }
                                                },
                                                "type": "object"
                                            }
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Test not found or unauthorized access"
                    },
                    "401": {
                        "description": "Unauthorized"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/reading/update/{id}": {
            "post": {
                "tags": [
                    "Reading Tests"
                ],
                "summary": "Update a reading test",
                "description": "Update an existing reading test. Only the creator or admin can update.",
                "operationId": "266cbb18ca314714da639cfd3de76b40",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "Test ID (UUID)",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "properties": {
                                    "title": {
                                        "type": "string",
                                        "example": "Updated Reading Test"
                                    },
                                    "description": {
                                        "type": "string",
                                        "example": "Updated description"
                                    },
                                    "test_type": {
                                        "type": "string",
                                        "enum": [
                                            "academic",
                                            "general"
                                        ],
                                        "example": "academic"
                                    },
                                    "difficulty": {
                                        "type": "string",
                                        "enum": [
                                            "beginner",
                                            "intermediate",
                                            "advanced"
                                        ],
                                        "example": "advanced"
                                    },
                                    "timer_mode": {
                                        "type": "string",
                                        "enum": [
                                            "test",
                                            "passage",
                                            "question"
                                        ],
                                        "example": "test"
                                    },
                                    "timer_settings": {
                                        "type": "object"
                                    },
                                    "allow_repetition": {
                                        "type": "boolean",
                                        "example": false
                                    },
                                    "max_repetition_count": {
                                        "type": "integer",
                                        "example": 1
                                    },
                                    "is_public": {
                                        "type": "boolean",
                                        "example": true
                                    },
                                    "is_published": {
                                        "type": "boolean",
                                        "example": true
                                    },
                                    "settings": {
                                        "type": "object"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Test updated successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Test updated"
                                        },
                                        "test_id": {
                                            "type": "string",
                                            "format": "uuid",
                                            "example": "550e8400-e29b-41d4-a716-446655440000"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Test not found"
                    },
                    "403": {
                        "description": "Unauthorized"
                    },
                    "422": {
                        "description": "Validation error"
                    },
                    "500": {
                        "description": "Update failed"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/reading/delete/passage/{id}": {
            "delete": {
                "tags": [
                    "Reading Tests"
                ],
                "summary": "Delete a passage",
                "description": "Delete a specific passage from a reading test.",
                "operationId": "d5fb93161ec9ebbe02af637df92a508a",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "Passage ID (UUID)",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Passage deleted successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Passage deleted successfully"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Passage not found"
                    },
                    "403": {
                        "description": "Unauthorized"
                    },
                    "401": {
                        "description": "Unauthorized"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/reading/delete/question/{id}": {
            "delete": {
                "tags": [
                    "Reading Tests"
                ],
                "summary": "Delete a question",
                "description": "Delete a specific question from a reading test. May also delete the question group if it becomes empty.",
                "operationId": "18e97be0226f68119c5c239edbea77c4",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "Question ID (UUID)",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Question deleted successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Question deleted successfully"
                                        },
                                        "group_deleted": {
                                            "type": "boolean",
                                            "example": false
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Question not found"
                    },
                    "403": {
                        "description": "Unauthorized"
                    },
                    "401": {
                        "description": "Unauthorized"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/reading/delete/{id}": {
            "delete": {
                "tags": [
                    "Reading Tests"
                ],
                "summary": "Delete a reading test",
                "description": "Delete an entire reading test including all passages, questions, and associated images. Only the creator or admin can delete.",
                "operationId": "8e28762bfd70c4df39de7cbab99bd97c",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "Test ID (UUID)",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Test deleted successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Test deleted successfully"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Test not found"
                    },
                    "403": {
                        "description": "Unauthorized"
                    },
                    "401": {
                        "description": "Unauthorized"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/reading/submissions/{submissionId}/vocabularies": {
            "get": {
                "tags": [
                    "Reading Vocabulary"
                ],
                "summary": "Get discovered vocabularies",
                "description": "Retrieve vocabularies discovered from a completed reading test",
                "operationId": "e3852bd29c8a2857f03b9fdba8416b7e",
                "parameters": [
                    {
                        "name": "submissionId",
                        "in": "path",
                        "description": "Submission ID",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Discovered vocabularies retrieved successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "properties": {
                                                    "id": {
                                                        "type": "string",
                                                        "format": "uuid"
                                                    },
                                                    "vocabulary_id": {
                                                        "type": "string",
                                                        "format": "uuid"
                                                    },
                                                    "discovered_at": {
                                                        "type": "string",
                                                        "format": "date-time"
                                                    },
                                                    "is_saved": {
                                                        "type": "boolean"
                                                    },
                                                    "vocabulary": {
                                                        "properties": {
                                                            "id": {
                                                                "type": "string",
                                                                "format": "uuid"
                                                            },
                                                            "word": {
                                                                "type": "string"
                                                            },
                                                            "translation": {
                                                                "type": "string"
                                                            },
                                                            "spelling": {
                                                                "type": "string"
                                                            },
                                                            "explanation": {
                                                                "type": "string"
                                                            },
                                                            "audio_url": {
                                                                "type": "string",
                                                                "nullable": true
                                                            }
                                                        },
                                                        "type": "object"
                                                    }
                                                },
                                                "type": "object"
                                            }
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized"
                    },
                    "403": {
                        "description": "Forbidden - Not your submission"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/reading/vocabulary/save": {
            "post": {
                "tags": [
                    "Reading Vocabulary"
                ],
                "summary": "Save vocabulary to personal bank",
                "description": "Save a discovered vocabulary word to the student's personal vocabulary bank",
                "operationId": "6767e2c243a7dc9b6104221050396ff0",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "properties": {
                                    "vocabulary_id": {
                                        "description": "Vocabulary ID to save",
                                        "type": "string",
                                        "format": "uuid"
                                    },
                                    "test_id": {
                                        "description": "Test where vocabulary was discovered",
                                        "type": "string",
                                        "format": "uuid"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Vocabulary saved successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Vocabulary saved to your bank"
                                        },
                                        "data": {
                                            "properties": {
                                                "id": {
                                                    "type": "string",
                                                    "format": "uuid"
                                                },
                                                "vocabulary_id": {
                                                    "type": "string",
                                                    "format": "uuid"
                                                },
                                                "is_mastered": {
                                                    "type": "boolean"
                                                },
                                                "practice_count": {
                                                    "type": "integer"
                                                },
                                                "mastery_level": {
                                                    "type": "string"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Bad request - Vocabulary not discovered or already saved"
                    },
                    "401": {
                        "description": "Unauthorized"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/reading/vocabulary/bank": {
            "get": {
                "tags": [
                    "Reading Vocabulary"
                ],
                "summary": "Get student's vocabulary bank",
                "description": "Retrieve the student's personal vocabulary bank with filtering options",
                "operationId": "c2a9267efaa63a6d6f87ba252a824566",
                "parameters": [
                    {
                        "name": "mastery_level",
                        "in": "query",
                        "description": "Filter by mastery level",
                        "schema": {
                            "type": "string",
                            "enum": [
                                "new",
                                "beginner",
                                "advanced",
                                "mastered"
                            ]
                        }
                    },
                    {
                        "name": "search",
                        "in": "query",
                        "description": "Search in word or translation",
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "name": "category_id",
                        "in": "query",
                        "description": "Filter by category",
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        }
                    },
                    {
                        "name": "per_page",
                        "in": "query",
                        "description": "Number of items per page",
                        "schema": {
                            "type": "integer",
                            "default": 20
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Vocabulary bank retrieved successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "properties": {
                                                "current_page": {
                                                    "type": "integer"
                                                },
                                                "per_page": {
                                                    "type": "integer"
                                                },
                                                "total": {
                                                    "type": "integer"
                                                },
                                                "data": {
                                                    "type": "array",
                                                    "items": {
                                                        "properties": {
                                                            "id": {
                                                                "type": "string",
                                                                "format": "uuid"
                                                            },
                                                            "vocabulary_id": {
                                                                "type": "string",
                                                                "format": "uuid"
                                                            },
                                                            "is_mastered": {
                                                                "type": "boolean"
                                                            },
                                                            "practice_count": {
                                                                "type": "integer"
                                                            },
                                                            "mastery_level": {
                                                                "type": "string"
                                                            },
                                                            "last_practiced_at": {
                                                                "type": "string",
                                                                "format": "date-time",
                                                                "nullable": true
                                                            },
                                                            "vocabulary": {
                                                                "properties": {
                                                                    "word": {
                                                                        "type": "string"
                                                                    },
                                                                    "translation": {
                                                                        "type": "string"
                                                                    },
                                                                    "explanation": {
                                                                        "type": "string"
                                                                    },
                                                                    "audio_url": {
                                                                        "type": "string",
                                                                        "nullable": true
                                                                    }
                                                                },
                                                                "type": "object"
                                                            }
                                                        },
                                                        "type": "object"
                                                    }
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/reading/vocabulary/practice": {
            "post": {
                "tags": [
                    "Reading Vocabulary"
                ],
                "summary": "Practice vocabulary",
                "description": "Record a vocabulary practice session",
                "operationId": "db10a442482c784ee069bdc555b898a8",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "properties": {
                                    "vocabulary_id": {
                                        "description": "Vocabulary ID to practice",
                                        "type": "string",
                                        "format": "uuid"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Practice session recorded successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Practice session recorded"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Bad request - Vocabulary not in your bank"
                    },
                    "401": {
                        "description": "Unauthorized"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/speaking/student/dashboard": {
            "get": {
                "tags": [
                    "Speaking Dashboard"
                ],
                "summary": "Get student speaking dashboard",
                "description": "Get speaking assignments for student dashboard",
                "operationId": "16e222114eb8ab02ca4ef2563ae09dca",
                "responses": {
                    "200": {
                        "description": "Dashboard data retrieved successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "type": "object"
                                            }
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/speaking/teacher/dashboard": {
            "get": {
                "tags": [
                    "Speaking Dashboard"
                ],
                "summary": "Get teacher speaking dashboard",
                "description": "Get speaking assignments for teacher dashboard",
                "operationId": "0b5eacc5fedef950474a33678b7791cc",
                "responses": {
                    "200": {
                        "description": "Dashboard data retrieved successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "type": "object"
                                            }
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/speaking/assignments/{assignmentId}/detail": {
            "get": {
                "tags": [
                    "Speaking Dashboard"
                ],
                "summary": "Get speaking task detail",
                "operationId": "a6d97cf5c4bfeba43aab21f6487391c9",
                "parameters": [
                    {
                        "name": "assignmentId",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Task detail retrieved successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Assignment not found"
                    },
                    "403": {
                        "description": "Access denied"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/speaking/submissions": {
            "get": {
                "tags": [
                    "Speaking Submissions"
                ],
                "summary": "Get speaking submissions",
                "description": "Retrieve speaking submissions based on user role",
                "operationId": "ed7b1fa8e3009a7440bf2d4628ed3483",
                "parameters": [
                    {
                        "name": "test_id",
                        "in": "query",
                        "description": "Filter by test ID",
                        "required": false,
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        }
                    },
                    {
                        "name": "status",
                        "in": "query",
                        "description": "Filter by status",
                        "required": false,
                        "schema": {
                            "type": "string",
                            "enum": [
                                "to_do",
                                "in_progress",
                                "submitted",
                                "reviewed"
                            ]
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Speaking submissions retrieved successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "properties": {
                                                    "id": {
                                                        "type": "string",
                                                        "format": "uuid"
                                                    },
                                                    "test_id": {
                                                        "type": "string",
                                                        "format": "uuid"
                                                    },
                                                    "student_id": {
                                                        "type": "string",
                                                        "format": "uuid"
                                                    },
                                                    "status": {
                                                        "type": "string",
                                                        "enum": [
                                                            "to_do",
                                                            "in_progress",
                                                            "submitted",
                                                            "reviewed"
                                                        ]
                                                    },
                                                    "score": {
                                                        "type": "integer",
                                                        "nullable": true
                                                    },
                                                    "attempt_number": {
                                                        "type": "integer"
                                                    },
                                                    "total_duration_seconds": {
                                                        "type": "integer",
                                                        "nullable": true
                                                    },
                                                    "submitted_at": {
                                                        "type": "string",
                                                        "format": "date-time",
                                                        "nullable": true
                                                    },
                                                    "created_at": {
                                                        "type": "string",
                                                        "format": "date-time"
                                                    }
                                                },
                                                "type": "object"
                                            }
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/speaking/tests/{test}/start": {
            "post": {
                "tags": [
                    "Speaking Submissions"
                ],
                "summary": "Start speaking test",
                "description": "Start a new speaking test submission",
                "operationId": "616d3c150df5deb8d97c378643f59f03",
                "parameters": [
                    {
                        "name": "test",
                        "in": "path",
                        "description": "Speaking test ID",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "multipart/form-data": {
                            "schema": {
                                "properties": {
                                    "assignment_id": {
                                        "description": "Assignment ID (optional)",
                                        "type": "string",
                                        "format": "uuid"
                                    },
                                    "practice_mode": {
                                        "description": "Whether this is a practice session",
                                        "type": "boolean",
                                        "example": false
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Speaking test started successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Speaking test started successfully"
                                        },
                                        "data": {
                                            "properties": {
                                                "submission_id": {
                                                    "type": "string",
                                                    "format": "uuid"
                                                },
                                                "status": {
                                                    "type": "string",
                                                    "example": "in_progress"
                                                },
                                                "started_at": {
                                                    "type": "string",
                                                    "format": "date-time"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Bad request"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/speaking/submissions/{submission}/upload-recording": {
            "post": {
                "tags": [
                    "Speaking Submissions"
                ],
                "summary": "Upload speaking recording",
                "description": "Upload audio recording for a specific question in the speaking test",
                "operationId": "369b08ab65d3c3fb9136948f2469f216",
                "parameters": [
                    {
                        "name": "submission",
                        "in": "path",
                        "description": "Speaking submission ID",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "multipart/form-data": {
                            "schema": {
                                "required": [
                                    "question_id",
                                    "audio_file"
                                ],
                                "properties": {
                                    "question_id": {
                                        "description": "Speaking question ID",
                                        "type": "string",
                                        "format": "uuid"
                                    },
                                    "audio_file": {
                                        "description": "Audio recording file (mp3, wav, m4a) - Max 50MB",
                                        "type": "string",
                                        "format": "binary"
                                    },
                                    "duration_seconds": {
                                        "description": "Recording duration in seconds",
                                        "type": "integer",
                                        "example": 120
                                    },
                                    "recording_started_at": {
                                        "description": "When recording started",
                                        "type": "string",
                                        "format": "date-time"
                                    },
                                    "recording_ended_at": {
                                        "description": "When recording ended",
                                        "type": "string",
                                        "format": "date-time"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Recording uploaded successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Recording uploaded successfully"
                                        },
                                        "data": {
                                            "properties": {
                                                "recording_id": {
                                                    "type": "string",
                                                    "format": "uuid"
                                                },
                                                "file_path": {
                                                    "type": "string"
                                                },
                                                "duration_seconds": {
                                                    "type": "integer"
                                                },
                                                "file_size_bytes": {
                                                    "type": "integer"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation error - Invalid file format or size"
                    },
                    "403": {
                        "description": "Forbidden - Cannot update this submission"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/speaking/submissions/{submission}/submit": {
            "post": {
                "tags": [
                    "Speaking Submissions"
                ],
                "summary": "Submit speaking test",
                "description": "Submit the completed speaking test for review",
                "operationId": "519c1d85f2911100ff6d623de6a37196",
                "parameters": [
                    {
                        "name": "submission",
                        "in": "path",
                        "description": "Speaking submission ID",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        }
                    }
                ],
                "requestBody": {
                    "required": false,
                    "content": {
                        "multipart/form-data": {
                            "schema": {
                                "properties": {
                                    "final_notes": {
                                        "description": "Any final notes or comments",
                                        "type": "string"
                                    },
                                    "additional_files": {
                                        "description": "Additional supporting files (optional)",
                                        "type": "array",
                                        "items": {
                                            "type": "string",
                                            "format": "binary"
                                        }
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Speaking test submitted successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Speaking test submitted successfully"
                                        },
                                        "data": {
                                            "properties": {
                                                "submission_id": {
                                                    "type": "string",
                                                    "format": "uuid"
                                                },
                                                "status": {
                                                    "type": "string",
                                                    "example": "submitted"
                                                },
                                                "submitted_at": {
                                                    "type": "string",
                                                    "format": "date-time"
                                                },
                                                "total_duration_seconds": {
                                                    "type": "integer"
                                                },
                                                "recording_count": {
                                                    "type": "integer"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Bad request - Missing recordings or invalid state"
                    },
                    "403": {
                        "description": "Forbidden"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/speaking/submissions/{submission}": {
            "get": {
                "tags": [
                    "Speaking Submissions"
                ],
                "summary": "Get submission details",
                "description": "Get detailed speaking submission information including recordings",
                "operationId": "88ef80af42e71eb799a8208c091add20",
                "parameters": [
                    {
                        "name": "submission",
                        "in": "path",
                        "description": "Speaking submission ID",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Submission retrieved successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "properties": {
                                                "id": {
                                                    "type": "string",
                                                    "format": "uuid"
                                                },
                                                "test_id": {
                                                    "type": "string",
                                                    "format": "uuid"
                                                },
                                                "status": {
                                                    "type": "string"
                                                },
                                                "score": {
                                                    "type": "integer",
                                                    "nullable": true
                                                },
                                                "attempt_number": {
                                                    "type": "integer"
                                                },
                                                "recordings": {
                                                    "type": "array",
                                                    "items": {
                                                        "properties": {
                                                            "id": {
                                                                "type": "string",
                                                                "format": "uuid"
                                                            },
                                                            "question_id": {
                                                                "type": "string",
                                                                "format": "uuid"
                                                            },
                                                            "file_path": {
                                                                "type": "string"
                                                            },
                                                            "duration_seconds": {
                                                                "type": "integer"
                                                            },
                                                            "uploaded_at": {
                                                                "type": "string",
                                                                "format": "date-time"
                                                            }
                                                        },
                                                        "type": "object"
                                                    }
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Submission not found"
                    },
                    "403": {
                        "description": "Forbidden"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/speaking-tasks": {
            "get": {
                "tags": [
                    "Speaking Tasks"
                ],
                "summary": "Get list of speaking tasks",
                "description": "Retrieve speaking tasks based on user role",
                "operationId": "15a2a1700254753204eea8dbbcd50940",
                "parameters": [
                    {
                        "name": "Authorization",
                        "in": "header",
                        "description": "Bearer token",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Speaking tasks retrieved successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Speaking tasks retrieved successfully"
                                        },
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "properties": {
                                                    "id": {
                                                        "type": "string",
                                                        "format": "uuid"
                                                    },
                                                    "title": {
                                                        "type": "string"
                                                    },
                                                    "description": {
                                                        "type": "string"
                                                    },
                                                    "is_published": {
                                                        "type": "boolean"
                                                    },
                                                    "difficulty": {
                                                        "type": "string",
                                                        "enum": [
                                                            "beginner",
                                                            "intermediate",
                                                            "advanced"
                                                        ]
                                                    },
                                                    "timer_type": {
                                                        "type": "string",
                                                        "enum": [
                                                            "countdown",
                                                            "countup",
                                                            "none"
                                                        ]
                                                    },
                                                    "time_limit_seconds": {
                                                        "type": "integer",
                                                        "nullable": true
                                                    },
                                                    "created_at": {
                                                        "type": "string",
                                                        "format": "date-time"
                                                    }
                                                },
                                                "type": "object"
                                            }
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            },
            "post": {
                "tags": [
                    "Speaking Tasks"
                ],
                "summary": "Create a new speaking task",
                "operationId": "2a576973ffe62f37cd3c4d9af8c55363",
                "requestBody": {
                    "required": true,
                    "content": {
                        "multipart/form-data": {
                            "schema": {
                                "required": [
                                    "title",
                                    "description"
                                ],
                                "properties": {
                                    "title": {
                                        "type": "string",
                                        "example": "Speaking Test"
                                    },
                                    "description": {
                                        "type": "string",
                                        "example": "Description of speaking test"
                                    },
                                    "instructions": {
                                        "type": "string",
                                        "example": "Instructions for speaking test"
                                    },
                                    "difficulty": {
                                        "type": "string",
                                        "enum": [
                                            "beginner",
                                            "intermediate",
                                            "advanced"
                                        ],
                                        "example": "intermediate"
                                    },
                                    "timer_type": {
                                        "type": "string",
                                        "enum": [
                                            "countdown",
                                            "countup",
                                            "none"
                                        ],
                                        "example": "countdown"
                                    },
                                    "time_limit_seconds": {
                                        "type": "integer",
                                        "example": 300,
                                        "nullable": true
                                    },
                                    "task_type": {
                                        "type": "string",
                                        "example": "presentation"
                                    },
                                    "points": {
                                        "type": "integer",
                                        "example": 100
                                    },
                                    "is_published": {
                                        "type": "boolean",
                                        "example": false
                                    },
                                    "prompt_audio": {
                                        "description": "Upload audio prompt file (optional)",
                                        "type": "string",
                                        "format": "binary"
                                    },
                                    "reference_materials": {
                                        "description": "Upload reference materials (images, documents, etc.)",
                                        "type": "array",
                                        "items": {
                                            "type": "string",
                                            "format": "binary"
                                        }
                                    },
                                    "questions": {
                                        "description": "JSON string of questions array",
                                        "type": "string",
                                        "example": "[{\"question_text\":\"Describe your hometown\",\"time_limit\":60}]"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Speaking task created successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Speaking task created successfully"
                                        },
                                        "data": {
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation error"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/speaking-tasks/{id}": {
            "get": {
                "tags": [
                    "Speaking Tasks"
                ],
                "summary": "Get speaking task details",
                "operationId": "56775c4d003046570b271793490b4614",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Speaking task retrieved successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Speaking task retrieved successfully"
                                        },
                                        "data": {
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Task not found"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            },
            "delete": {
                "tags": [
                    "Speaking Tasks"
                ],
                "summary": "Delete speaking task",
                "operationId": "08ab855f9193fa648de18a35dde2ef14",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Speaking task deleted successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Speaking task deleted successfully"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Task not found"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/speaking-tasks/{id}/update": {
            "post": {
                "tags": [
                    "Speaking Tasks"
                ],
                "summary": "Update speaking task",
                "operationId": "9b51fe2b89cdc7506e2918ee097c7453",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "properties": {
                                    "title": {
                                        "type": "string"
                                    },
                                    "description": {
                                        "type": "string"
                                    },
                                    "instructions": {
                                        "type": "string"
                                    },
                                    "difficulty": {
                                        "type": "string",
                                        "enum": [
                                            "beginner",
                                            "intermediate",
                                            "advanced"
                                        ]
                                    },
                                    "timer_type": {
                                        "type": "string",
                                        "enum": [
                                            "countdown",
                                            "countup",
                                            "none"
                                        ]
                                    },
                                    "time_limit_seconds": {
                                        "type": "integer",
                                        "nullable": true
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Speaking task updated successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Speaking task updated successfully"
                                        },
                                        "data": {
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Task not found"
                    },
                    "422": {
                        "description": "Validation error"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/tests": {
            "get": {
                "tags": [
                    "Tests"
                ],
                "summary": "Get list of tests",
                "description": "Retrieve paginated list of tests created by the authenticated user",
                "operationId": "309b5d905c82b039e33635205f62cb15",
                "parameters": [
                    {
                        "name": "type",
                        "in": "query",
                        "description": "Filter by test type",
                        "required": false,
                        "schema": {
                            "type": "string",
                            "enum": [
                                "reading",
                                "listening",
                                "speaking",
                                "writing"
                            ]
                        }
                    },
                    {
                        "name": "difficulty",
                        "in": "query",
                        "description": "Filter by difficulty level",
                        "required": false,
                        "schema": {
                            "type": "string",
                            "enum": [
                                "beginner",
                                "intermediate",
                                "advanced"
                            ]
                        }
                    },
                    {
                        "name": "is_published",
                        "in": "query",
                        "description": "Filter by published status",
                        "required": false,
                        "schema": {
                            "type": "boolean"
                        }
                    },
                    {
                        "name": "search",
                        "in": "query",
                        "description": "Search by test title",
                        "required": false,
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "name": "per_page",
                        "in": "query",
                        "description": "Number of items per page (default: 15)",
                        "required": false,
                        "schema": {
                            "type": "integer",
                            "maximum": 100,
                            "minimum": 1
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Tests retrieved successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "properties": {
                                                    "id": {
                                                        "type": "string",
                                                        "format": "uuid"
                                                    },
                                                    "title": {
                                                        "type": "string"
                                                    },
                                                    "description": {
                                                        "type": "string"
                                                    },
                                                    "type": {
                                                        "type": "string",
                                                        "enum": [
                                                            "reading",
                                                            "listening",
                                                            "speaking",
                                                            "writing"
                                                        ]
                                                    },
                                                    "difficulty": {
                                                        "type": "string",
                                                        "enum": [
                                                            "beginner",
                                                            "intermediate",
                                                            "advanced"
                                                        ]
                                                    },
                                                    "is_published": {
                                                        "type": "boolean"
                                                    },
                                                    "created_at": {
                                                        "type": "string",
                                                        "format": "date-time"
                                                    },
                                                    "updated_at": {
                                                        "type": "string",
                                                        "format": "date-time"
                                                    }
                                                },
                                                "type": "object"
                                            }
                                        },
                                        "meta": {
                                            "properties": {
                                                "total": {
                                                    "type": "integer"
                                                },
                                                "count": {
                                                    "type": "integer"
                                                },
                                                "per_page": {
                                                    "type": "integer"
                                                },
                                                "current_page": {
                                                    "type": "integer"
                                                },
                                                "total_pages": {
                                                    "type": "integer"
                                                }
                                            },
                                            "type": "object"
                                        },
                                        "links": {
                                            "properties": {
                                                "first": {
                                                    "type": "string"
                                                },
                                                "last": {
                                                    "type": "string"
                                                },
                                                "prev": {
                                                    "type": "string",
                                                    "nullable": true
                                                },
                                                "next": {
                                                    "type": "string",
                                                    "nullable": true
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized"
                    },
                    "500": {
                        "description": "Server error"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            },
            "post": {
                "tags": [
                    "Tests"
                ],
                "summary": "Create a new test",
                "description": "Create a comprehensive test with passages, question groups, and questions",
                "operationId": "f02a2896b998f78380b1a1fbbf476a03",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "title",
                                    "type",
                                    "difficulty"
                                ],
                                "properties": {
                                    "title": {
                                        "type": "string",
                                        "maxLength": 255,
                                        "example": "IELTS Reading Practice Test"
                                    },
                                    "description": {
                                        "type": "string",
                                        "maxLength": 1000,
                                        "example": "Comprehensive reading test with 3 passages"
                                    },
                                    "type": {
                                        "type": "string",
                                        "enum": [
                                            "reading",
                                            "listening",
                                            "speaking",
                                            "writing"
                                        ],
                                        "example": "reading"
                                    },
                                    "difficulty": {
                                        "type": "string",
                                        "enum": [
                                            "beginner",
                                            "intermediate",
                                            "advanced"
                                        ],
                                        "example": "intermediate"
                                    },
                                    "test_type": {
                                        "type": "string",
                                        "enum": [
                                            "single",
                                            "final"
                                        ],
                                        "example": "single"
                                    },
                                    "timer_mode": {
                                        "type": "string",
                                        "enum": [
                                            "countdown",
                                            "countup",
                                            "none"
                                        ],
                                        "example": "countdown"
                                    },
                                    "timer_settings": {
                                        "description": "Timer configuration settings",
                                        "properties": {
                                            "time_limit": {
                                                "description": "Time limit in seconds",
                                                "type": "integer",
                                                "example": 3600
                                            },
                                            "warning_time": {
                                                "description": "Warning time before end in seconds",
                                                "type": "integer",
                                                "example": 300
                                            }
                                        },
                                        "type": "object"
                                    },
                                    "allow_repetition": {
                                        "type": "boolean",
                                        "example": false
                                    },
                                    "max_repetition_count": {
                                        "type": "integer",
                                        "maximum": 10,
                                        "minimum": 0,
                                        "example": 2
                                    },
                                    "is_public": {
                                        "type": "boolean",
                                        "example": false
                                    },
                                    "is_published": {
                                        "type": "boolean",
                                        "example": true
                                    },
                                    "settings": {
                                        "description": "Test configuration settings",
                                        "properties": {
                                            "shuffle_questions": {
                                                "description": "Whether to shuffle questions",
                                                "type": "boolean",
                                                "example": false
                                            },
                                            "shuffle_options": {
                                                "description": "Whether to shuffle answer options",
                                                "type": "boolean",
                                                "example": false
                                            },
                                            "show_results": {
                                                "description": "Whether to show results after completion",
                                                "type": "boolean",
                                                "example": true
                                            }
                                        },
                                        "type": "object"
                                    },
                                    "passages": {
                                        "description": "Array of reading/listening passages with questions",
                                        "type": "array",
                                        "items": {
                                            "properties": {
                                                "title": {
                                                    "type": "string",
                                                    "maxLength": 255,
                                                    "example": "Reading Passage 1"
                                                },
                                                "description": {
                                                    "type": "string",
                                                    "example": "Climate change article"
                                                },
                                                "transcript_type": {
                                                    "type": "string",
                                                    "enum": [
                                                        "descriptive",
                                                        "conversation"
                                                    ],
                                                    "example": "descriptive"
                                                },
                                                "audio_file_path": {
                                                    "description": "Path to audio file for listening passages",
                                                    "type": "string"
                                                },
                                                "question_groups": {
                                                    "type": "array",
                                                    "items": {
                                                        "properties": {
                                                            "instruction": {
                                                                "type": "string",
                                                                "example": "Answer the following questions"
                                                            },
                                                            "questions": {
                                                                "type": "array",
                                                                "items": {
                                                                    "properties": {
                                                                        "question_type": {
                                                                            "type": "string",
                                                                            "enum": [
                                                                                "multiple_choice",
                                                                                "true_false",
                                                                                "fill_blank",
                                                                                "short_answer"
                                                                            ],
                                                                            "example": "multiple_choice"
                                                                        },
                                                                        "question_number": {
                                                                            "type": "integer",
                                                                            "example": 1
                                                                        },
                                                                        "question_text": {
                                                                            "type": "string",
                                                                            "example": "What is the main topic?"
                                                                        },
                                                                        "points_value": {
                                                                            "type": "number",
                                                                            "minimum": 0,
                                                                            "example": 2
                                                                        },
                                                                        "correct_answers": {
                                                                            "type": "array",
                                                                            "items": {
                                                                                "type": "string"
                                                                            },
                                                                            "example": [
                                                                                "A"
                                                                            ]
                                                                        },
                                                                        "options": {
                                                                            "type": "array",
                                                                            "items": {
                                                                                "properties": {
                                                                                    "option_key": {
                                                                                        "type": "string",
                                                                                        "example": "A"
                                                                                    },
                                                                                    "option_text": {
                                                                                        "type": "string",
                                                                                        "example": "Climate"
                                                                                    }
                                                                                },
                                                                                "type": "object"
                                                                            }
                                                                        }
                                                                    },
                                                                    "type": "object"
                                                                }
                                                            }
                                                        },
                                                        "type": "object"
                                                    }
                                                }
                                            },
                                            "type": "object"
                                        }
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Test created successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Test created successfully"
                                        },
                                        "data": {
                                            "properties": {
                                                "id": {
                                                    "type": "string",
                                                    "format": "uuid"
                                                },
                                                "title": {
                                                    "type": "string"
                                                },
                                                "type": {
                                                    "type": "string"
                                                },
                                                "difficulty": {
                                                    "type": "string"
                                                },
                                                "created_at": {
                                                    "type": "string",
                                                    "format": "date-time"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation error"
                    },
                    "401": {
                        "description": "Unauthorized"
                    },
                    "500": {
                        "description": "Server error"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/tests/{id}": {
            "get": {
                "tags": [
                    "Tests"
                ],
                "summary": "Get test details",
                "description": "Retrieve detailed information about a specific test including all questions",
                "operationId": "300250b4aaa3df2ea333ca5f846e0fd0",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "Test ID",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Test details retrieved successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "data": {
                                            "properties": {
                                                "id": {
                                                    "type": "string",
                                                    "format": "uuid"
                                                },
                                                "title": {
                                                    "type": "string"
                                                },
                                                "description": {
                                                    "type": "string"
                                                },
                                                "type": {
                                                    "type": "string"
                                                },
                                                "difficulty": {
                                                    "type": "string"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Test not found"
                    },
                    "401": {
                        "description": "Unauthorized"
                    },
                    "500": {
                        "description": "Server error"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            },
            "put": {
                "tags": [
                    "Tests"
                ],
                "summary": "Update test",
                "description": "Update test information (only creator can update)",
                "operationId": "7b849b5e29dc06b0e0c2eb2665f94a0e",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "Test ID",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "multipart/form-data": {
                            "schema": {
                                "properties": {
                                    "title": {
                                        "type": "string",
                                        "maxLength": 255,
                                        "example": "Updated Test Title"
                                    },
                                    "description": {
                                        "type": "string",
                                        "maxLength": 1000,
                                        "example": "Updated description"
                                    },
                                    "type": {
                                        "type": "string",
                                        "enum": [
                                            "reading",
                                            "listening",
                                            "speaking",
                                            "writing"
                                        ]
                                    },
                                    "difficulty": {
                                        "type": "string",
                                        "enum": [
                                            "beginner",
                                            "intermediate",
                                            "advanced"
                                        ]
                                    },
                                    "test_type": {
                                        "type": "string",
                                        "enum": [
                                            "single",
                                            "final"
                                        ]
                                    },
                                    "timer_mode": {
                                        "type": "string",
                                        "enum": [
                                            "countdown",
                                            "countup",
                                            "none"
                                        ]
                                    },
                                    "timer_settings": {
                                        "description": "JSON string of timer settings",
                                        "type": "string"
                                    },
                                    "allow_repetition": {
                                        "type": "boolean"
                                    },
                                    "max_repetition_count": {
                                        "type": "integer",
                                        "maximum": 10,
                                        "minimum": 0
                                    },
                                    "is_public": {
                                        "type": "boolean"
                                    },
                                    "is_published": {
                                        "type": "boolean"
                                    },
                                    "settings": {
                                        "description": "JSON string of test settings",
                                        "type": "string"
                                    },
                                    "passages": {
                                        "description": "JSON string of passages array with questions",
                                        "type": "string",
                                        "example": "[{\"title\":\"Updated Reading Passage\",\"description\":\"Updated content\",\"transcript_type\":\"descriptive\",\"question_groups\":[{\"instruction\":\"Answer the updated questions\",\"questions\":[{\"question_type\":\"multiple_choice\",\"question_number\":1,\"question_text\":\"Updated question text?\",\"points_value\":3,\"options\":[{\"option_key\":\"A\",\"option_text\":\"Option A\"},{\"option_key\":\"B\",\"option_text\":\"Option B\"}],\"correct_answers\":[\"A\"]}]}]}]"
                                    },
                                    "audio_files": {
                                        "description": "Upload new audio files for listening passages",
                                        "type": "array",
                                        "items": {
                                            "type": "string",
                                            "format": "binary"
                                        }
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Test updated successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Test updated successfully"
                                        },
                                        "data": {
                                            "properties": {
                                                "id": {
                                                    "type": "string",
                                                    "format": "uuid"
                                                },
                                                "title": {
                                                    "type": "string"
                                                },
                                                "type": {
                                                    "type": "string"
                                                },
                                                "difficulty": {
                                                    "type": "string"
                                                },
                                                "updated_at": {
                                                    "type": "string",
                                                    "format": "date-time"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Unauthorized to update this test"
                    },
                    "404": {
                        "description": "Test not found"
                    },
                    "422": {
                        "description": "Validation error"
                    },
                    "500": {
                        "description": "Server error"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            },
            "delete": {
                "tags": [
                    "Tests"
                ],
                "summary": "Delete test",
                "description": "Delete a test (only creator can delete)",
                "operationId": "0773b48ae1d43b7ad0f6572853c48b68",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "Test ID",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Test deleted successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Test deleted successfully"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Unauthorized to delete this test"
                    },
                    "404": {
                        "description": "Test not found"
                    },
                    "500": {
                        "description": "Server error"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/tests/{id}/duplicate": {
            "post": {
                "tags": [
                    "Tests"
                ],
                "summary": "Duplicate test",
                "description": "Create a copy of an existing test with all its content",
                "operationId": "174a7e2c46671b7e3d2b3db3a8619a91",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "Test ID to duplicate",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Test duplicated successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Test duplicated successfully"
                                        },
                                        "data": {
                                            "properties": {
                                                "id": {
                                                    "type": "string",
                                                    "format": "uuid"
                                                },
                                                "title": {
                                                    "type": "string"
                                                },
                                                "type": {
                                                    "type": "string"
                                                },
                                                "difficulty": {
                                                    "type": "string"
                                                },
                                                "created_at": {
                                                    "type": "string",
                                                    "format": "date-time"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Test not found"
                    },
                    "500": {
                        "description": "Server error"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/assignments/{id}/submit": {
            "post": {
                "tags": [
                    "Test Submissions"
                ],
                "summary": "Submit assignment answers",
                "description": "Submit student answers for a specific assignment and calculate scores",
                "operationId": "072c6e66029450d813f52bb841b3dfcf",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "Assignment ID",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "answers"
                                ],
                                "properties": {
                                    "answers": {
                                        "description": "Array of student answers",
                                        "type": "array",
                                        "items": {
                                            "required": [
                                                "question_id",
                                                "answer"
                                            ],
                                            "properties": {
                                                "question_id": {
                                                    "type": "string",
                                                    "format": "uuid",
                                                    "example": "550e8400-e29b-41d4-a716-446655440000"
                                                },
                                                "answer": {
                                                    "description": "Student's answer (can be string, array, or object depending on question type)",
                                                    "oneOf": [
                                                        {
                                                            "type": "string",
                                                            "example": "greenhouse_gases"
                                                        },
                                                        {
                                                            "type": "array",
                                                            "items": {
                                                                "type": "string"
                                                            }
                                                        },
                                                        {
                                                            "type": "object"
                                                        }
                                                    ]
                                                },
                                                "time_taken": {
                                                    "description": "Time spent on question in seconds",
                                                    "type": "integer",
                                                    "example": 45,
                                                    "nullable": true
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "total_time_taken": {
                                        "description": "Total time spent on assignment in seconds",
                                        "type": "integer",
                                        "example": 1800,
                                        "nullable": true
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Assignment submitted successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Assignment submitted successfully"
                                        },
                                        "data": {
                                            "properties": {
                                                "assignment_id": {
                                                    "type": "string",
                                                    "format": "uuid"
                                                },
                                                "student_assignment_id": {
                                                    "type": "string",
                                                    "format": "uuid"
                                                },
                                                "result_id": {
                                                    "type": "string",
                                                    "format": "uuid"
                                                },
                                                "test_id": {
                                                    "type": "string",
                                                    "format": "uuid"
                                                },
                                                "student_id": {
                                                    "type": "string",
                                                    "format": "uuid"
                                                },
                                                "total_score": {
                                                    "type": "number",
                                                    "example": 75.5
                                                },
                                                "max_score": {
                                                    "type": "number",
                                                    "example": 100
                                                },
                                                "percentage": {
                                                    "type": "number",
                                                    "example": 75.5
                                                },
                                                "total_questions": {
                                                    "type": "integer",
                                                    "example": 40
                                                },
                                                "correct_answers": {
                                                    "type": "integer",
                                                    "example": 30
                                                },
                                                "incorrect_answers": {
                                                    "type": "integer",
                                                    "example": 10
                                                },
                                                "submitted_at": {
                                                    "type": "string",
                                                    "format": "date-time"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "No test associated with assignment"
                    },
                    "403": {
                        "description": "Not assigned to this assignment or already completed"
                    },
                    "422": {
                        "description": "Validation error"
                    },
                    "500": {
                        "description": "Server error"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/assignments/{id}/results": {
            "get": {
                "tags": [
                    "Test Submissions"
                ],
                "summary": "Get assignment results",
                "description": "Retrieve student's results for a specific assignment",
                "operationId": "b9cafb23851936bc8e8083dc32c22cf2",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "Assignment ID",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Assignment results retrieved successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "data": {
                                            "properties": {
                                                "assignment": {
                                                    "properties": {
                                                        "id": {
                                                            "type": "string",
                                                            "format": "uuid"
                                                        },
                                                        "title": {
                                                            "type": "string"
                                                        },
                                                        "description": {
                                                            "type": "string"
                                                        },
                                                        "due_date": {
                                                            "type": "string",
                                                            "format": "date-time",
                                                            "nullable": true
                                                        }
                                                    },
                                                    "type": "object"
                                                },
                                                "submissions": {
                                                    "type": "array",
                                                    "items": {
                                                        "properties": {
                                                            "assignment_id": {
                                                                "type": "string",
                                                                "format": "uuid"
                                                            },
                                                            "student_assignment_id": {
                                                                "type": "string",
                                                                "format": "uuid"
                                                            },
                                                            "result_id": {
                                                                "type": "string",
                                                                "format": "uuid"
                                                            },
                                                            "total_score": {
                                                                "type": "number"
                                                            },
                                                            "percentage": {
                                                                "type": "number"
                                                            },
                                                            "total_correct": {
                                                                "type": "integer"
                                                            },
                                                            "total_incorrect": {
                                                                "type": "integer"
                                                            },
                                                            "total_unanswered": {
                                                                "type": "integer"
                                                            },
                                                            "completed_at": {
                                                                "type": "string",
                                                                "format": "date-time"
                                                            },
                                                            "answers": {
                                                                "type": "array",
                                                                "items": {
                                                                    "properties": {
                                                                        "question_id": {
                                                                            "type": "string",
                                                                            "format": "uuid"
                                                                        },
                                                                        "question_text": {
                                                                            "type": "string"
                                                                        },
                                                                        "question_type": {
                                                                            "type": "string"
                                                                        },
                                                                        "student_answer": {
                                                                            "type": "string"
                                                                        },
                                                                        "correct_answer": {
                                                                            "type": "object"
                                                                        },
                                                                        "is_correct": {
                                                                            "type": "boolean"
                                                                        },
                                                                        "points_earned": {
                                                                            "type": "number"
                                                                        },
                                                                        "max_points": {
                                                                            "type": "number"
                                                                        },
                                                                        "time_spent": {
                                                                            "type": "integer",
                                                                            "nullable": true
                                                                        }
                                                                    },
                                                                    "type": "object"
                                                                }
                                                            }
                                                        },
                                                        "type": "object"
                                                    }
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "No completed submissions found"
                    },
                    "500": {
                        "description": "Server error"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/tests/{id}/attempt": {
            "get": {
                "tags": [
                    "Test Submissions"
                ],
                "summary": "Start test attempt",
                "description": "Get test content for student to attempt (for practice tests or public tests)",
                "operationId": "19611993cde36adf87116f7431a7fc77",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "Test ID",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Test attempt data retrieved successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "data": {
                                            "properties": {
                                                "test": {
                                                    "properties": {
                                                        "id": {
                                                            "type": "string",
                                                            "format": "uuid"
                                                        },
                                                        "title": {
                                                            "type": "string"
                                                        },
                                                        "description": {
                                                            "type": "string"
                                                        },
                                                        "type": {
                                                            "type": "string",
                                                            "enum": [
                                                                "reading",
                                                                "listening",
                                                                "speaking",
                                                                "writing"
                                                            ]
                                                        },
                                                        "difficulty": {
                                                            "type": "string",
                                                            "enum": [
                                                                "beginner",
                                                                "intermediate",
                                                                "advanced"
                                                            ]
                                                        },
                                                        "timer_mode": {
                                                            "type": "string",
                                                            "enum": [
                                                                "countdown",
                                                                "countup",
                                                                "none"
                                                            ]
                                                        },
                                                        "timer_settings": {
                                                            "type": "object"
                                                        },
                                                        "allow_repetition": {
                                                            "type": "boolean"
                                                        },
                                                        "max_repetition_count": {
                                                            "type": "integer",
                                                            "nullable": true
                                                        }
                                                    },
                                                    "type": "object"
                                                },
                                                "passages": {
                                                    "type": "array",
                                                    "items": {
                                                        "properties": {
                                                            "id": {
                                                                "type": "string",
                                                                "format": "uuid"
                                                            },
                                                            "title": {
                                                                "type": "string"
                                                            },
                                                            "description": {
                                                                "type": "string"
                                                            },
                                                            "audio_file_path": {
                                                                "type": "string",
                                                                "nullable": true
                                                            },
                                                            "transcript": {
                                                                "type": "object",
                                                                "nullable": true
                                                            },
                                                            "question_groups": {
                                                                "type": "array",
                                                                "items": {
                                                                    "properties": {
                                                                        "id": {
                                                                            "type": "string",
                                                                            "format": "uuid"
                                                                        },
                                                                        "instruction": {
                                                                            "type": "string"
                                                                        },
                                                                        "questions": {
                                                                            "type": "array",
                                                                            "items": {
                                                                                "properties": {
                                                                                    "id": {
                                                                                        "type": "string",
                                                                                        "format": "uuid"
                                                                                    },
                                                                                    "question_type": {
                                                                                        "type": "string"
                                                                                    },
                                                                                    "question_number": {
                                                                                        "type": "number"
                                                                                    },
                                                                                    "question_text": {
                                                                                        "type": "string"
                                                                                    },
                                                                                    "question_data": {
                                                                                        "type": "object"
                                                                                    },
                                                                                    "points_value": {
                                                                                        "type": "number"
                                                                                    },
                                                                                    "options": {
                                                                                        "type": "array",
                                                                                        "items": {
                                                                                            "properties": {
                                                                                                "id": {
                                                                                                    "type": "string",
                                                                                                    "format": "uuid"
                                                                                                },
                                                                                                "option_key": {
                                                                                                    "type": "string"
                                                                                                },
                                                                                                "option_text": {
                                                                                                    "type": "string"
                                                                                                }
                                                                                            },
                                                                                            "type": "object"
                                                                                        }
                                                                                    }
                                                                                },
                                                                                "type": "object"
                                                                            }
                                                                        }
                                                                    },
                                                                    "type": "object"
                                                                }
                                                            }
                                                        },
                                                        "type": "object"
                                                    }
                                                },
                                                "attempt_info": {
                                                    "properties": {
                                                        "can_attempt": {
                                                            "type": "boolean"
                                                        },
                                                        "attempts_used": {
                                                            "type": "integer"
                                                        },
                                                        "max_attempts": {
                                                            "type": "integer",
                                                            "nullable": true
                                                        }
                                                    },
                                                    "type": "object"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Test repetition not allowed or max attempts reached"
                    },
                    "404": {
                        "description": "Test not found"
                    },
                    "500": {
                        "description": "Server error"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/user/password/change-password": {
            "patch": {
                "tags": [
                    "Password"
                ],
                "summary": "Change user password",
                "description": "Change the authenticated user's password. Requires the current password and a new one. CSRF protection via XSRF-TOKEN and Referer header.",
                "operationId": "changeUserPassword",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "current_password",
                                    "new_password",
                                    "new_password_confirmation"
                                ],
                                "properties": {
                                    "current_password": {
                                        "type": "string",
                                        "example": "Password123!"
                                    },
                                    "new_password": {
                                        "type": "string",
                                        "format": "password",
                                        "example": "Passwordkece123!"
                                    },
                                    "new_password_confirmation": {
                                        "type": "string",
                                        "format": "password",
                                        "example": "Passwordkece123!"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Password changed successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Password changed successfully."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation failed",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "The given data was invalid."
                                        },
                                        "errors": {
                                            "type": "object",
                                            "example": {
                                                "current_password": [
                                                    "Current password is incorrect"
                                                ],
                                                "new_password": [
                                                    "The new password must be at least 8 characters."
                                                ]
                                            }
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthenticated or current password incorrect",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Unauthenticated."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/profile": {
            "get": {
                "tags": [
                    "Profile"
                ],
                "summary": "Get current user profile",
                "description": "Retrieve profile information for the authenticated user.",
                "operationId": "e0b0c0978f156994e685f904d67404ac",
                "parameters": [
                    {
                        "name": "Authorization",
                        "in": "header",
                        "description": "Bearer token. Example: Bearer {access_token}",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Current user profile data",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "id": {
                                            "type": "string",
                                            "format": "uuid",
                                            "example": "d2fb93ec-6043-4384-814d-0e48f36aed50"
                                        },
                                        "name": {
                                            "type": "string",
                                            "example": "Fika"
                                        },
                                        "email": {
                                            "type": "string",
                                            "example": "student2@example.com"
                                        },
                                        "role": {
                                            "type": "string",
                                            "example": "student"
                                        },
                                        "avatar": {
                                            "type": "string",
                                            "example": "https://api-koupii.magercoding.com/storage/avatar/6887cfd4a9ec8.png",
                                            "nullable": true
                                        },
                                        "bio": {
                                            "type": "string",
                                            "example": "Student from Informatics"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized"
                    },
                    "404": {
                        "description": "User not found",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "User not found"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/profile/{id}": {
            "get": {
                "tags": [
                    "Profile"
                ],
                "summary": "Get user details by ID",
                "description": "Retrieve public details of a user by their ID.",
                "operationId": "8346b8f38dcb67038b5d783b9938d6ec",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "User ID (UUID)",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        }
                    },
                    {
                        "name": "Authorization",
                        "in": "header",
                        "description": "Bearer token. Example: Bearer {access_token}",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "User found",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "name": {
                                            "type": "string",
                                            "example": "Teacher 1"
                                        },
                                        "email": {
                                            "type": "string",
                                            "example": "teacher1@example.com"
                                        },
                                        "role": {
                                            "type": "string",
                                            "example": "teacher"
                                        },
                                        "avatar": {
                                            "type": "string",
                                            "example": "http://localhost:8000/storage/avatar/68da7f36cac36.JPG",
                                            "nullable": true
                                        },
                                        "bio": {
                                            "type": "string",
                                            "example": "Lorem ipsum dolor sit amet"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "User not found",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "User not found"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/profile/update": {
            "post": {
                "tags": [
                    "Profile"
                ],
                "summary": "Update user profile",
                "description": "Update authenticated user's profile including name, email, role, avatar, and bio.",
                "operationId": "0f9bb9cdef25170d7c4ba9f32ace9d1f",
                "parameters": [
                    {
                        "name": "_method",
                        "in": "query",
                        "description": "Override HTTP method for PATCH requests",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "example": "PATCH"
                        }
                    },
                    {
                        "name": "Authorization",
                        "in": "header",
                        "description": "Bearer token. Example: Bearer {access_token}",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "multipart/form-data": {
                            "schema": {
                                "required": [
                                    "name",
                                    "email",
                                    "role"
                                ],
                                "properties": {
                                    "name": {
                                        "type": "string",
                                        "example": "Fika"
                                    },
                                    "email": {
                                        "type": "string",
                                        "format": "email",
                                        "example": "student2@example.com"
                                    },
                                    "role": {
                                        "type": "string",
                                        "enum": [
                                            "student",
                                            "teacher",
                                            "admin"
                                        ],
                                        "example": "student"
                                    },
                                    "bio": {
                                        "type": "string",
                                        "example": "Lorem ipsum dolor sit amet"
                                    },
                                    "avatar": {
                                        "description": "User avatar image file",
                                        "type": "string",
                                        "format": "binary"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "User updated successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "User updated successfully"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthenticated"
                    },
                    "422": {
                        "description": "Validation errors",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "errors": {
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Server error"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/profile/destroy": {
            "delete": {
                "tags": [
                    "Profile"
                ],
                "summary": "Delete user profile",
                "description": "Delete the authenticated user's account, including avatar file if present.",
                "operationId": "9f28bfca7a1c4630772412a3ff0bfeea",
                "parameters": [
                    {
                        "name": "Authorization",
                        "in": "header",
                        "description": "Bearer token. Example: Bearer {access_token}",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "User deleted successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "User deleted successfully"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthenticated"
                    },
                    "404": {
                        "description": "User not found",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "User not found"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Server error"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/change-password": {
            "patch": {
                "tags": [
                    "User"
                ],
                "summary": "Change user password",
                "description": "Change the authenticated user's password.",
                "operationId": "b174343edc98904cef30870ab948b0b2",
                "parameters": [
                    {
                        "name": "Authorization",
                        "in": "header",
                        "description": "Bearer token. Example: Bearer {access_token}",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "current_password",
                                    "password",
                                    "password_confirmation"
                                ],
                                "properties": {
                                    "current_password": {
                                        "type": "string",
                                        "format": "password",
                                        "example": "oldpassword123"
                                    },
                                    "password": {
                                        "type": "string",
                                        "format": "password",
                                        "example": "newpassword123"
                                    },
                                    "password_confirmation": {
                                        "type": "string",
                                        "format": "password",
                                        "example": "newpassword123"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Password changed successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Password changed successfully"
                                        },
                                        "access_token": {
                                            "type": "string",
                                            "example": "1|abcdef1234567890"
                                        },
                                        "token_type": {
                                            "type": "string",
                                            "example": "Bearer"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Current password is incorrect"
                    },
                    "422": {
                        "description": "Validation error"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/vocab/categories": {
            "get": {
                "tags": [
                    "Vocabulary Categories"
                ],
                "summary": "Get all vocabulary categories",
                "description": "Returns a list of all vocabulary categories.",
                "operationId": "37e66738792adbdf19177b4143aac2c5",
                "responses": {
                    "200": {
                        "description": "List of vocabulary categories",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "array",
                                    "items": {
                                        "properties": {
                                            "id": {
                                                "type": "string",
                                                "example": "uuid-string"
                                            },
                                            "name": {
                                                "type": "string",
                                                "example": "nouns"
                                            },
                                            "color_code": {
                                                "type": "string",
                                                "example": "#FF0000"
                                            },
                                            "created_at": {
                                                "type": "string",
                                                "example": "2025-07-15T07:19:54.000000Z"
                                            },
                                            "updated_at": {
                                                "type": "string",
                                                "example": "2025-07-15T07:19:54.000000Z"
                                            }
                                        },
                                        "type": "object"
                                    }
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/vocab/categories/create": {
            "post": {
                "tags": [
                    "Vocabulary Categories"
                ],
                "summary": "Create a new vocabulary category",
                "description": "Adds a new vocabulary category. Requires authentication.",
                "operationId": "0c0155820350c7c04cc8e1dc8d585858",
                "requestBody": {
                    "required": true,
                    "content": {
                        "multipart/form-data": {
                            "schema": {
                                "required": [
                                    "name"
                                ],
                                "properties": {
                                    "name": {
                                        "type": "string",
                                        "example": "nouns"
                                    },
                                    "color_code": {
                                        "type": "string",
                                        "example": "#FF0000"
                                    },
                                    "icon_image": {
                                        "description": "Upload category icon image (jpg, png, svg)",
                                        "type": "string",
                                        "format": "binary"
                                    },
                                    "description": {
                                        "type": "string",
                                        "example": "Category for noun words"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Category created successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Category created successfully"
                                        },
                                        "data": {
                                            "properties": {
                                                "id": {
                                                    "type": "string",
                                                    "example": "uuid-string"
                                                },
                                                "name": {
                                                    "type": "string",
                                                    "example": "nouns"
                                                },
                                                "color_code": {
                                                    "type": "string",
                                                    "example": "#FF0000"
                                                },
                                                "created_at": {
                                                    "type": "string",
                                                    "example": "2025-07-15T07:19:54.000000Z"
                                                },
                                                "updated_at": {
                                                    "type": "string",
                                                    "example": "2025-07-15T07:19:54.000000Z"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation failed"
                    },
                    "500": {
                        "description": "Server error"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/vocab/categories/{id}": {
            "get": {
                "tags": [
                    "Vocabulary Categories"
                ],
                "summary": "Get a specific vocabulary category",
                "description": "Retrieve details of a specific category by its ID.",
                "operationId": "de5592ef4cdf2a9cd5d6c685ee1f0b0a",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "UUID of the category",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "example": "uuid-string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Category retrieved successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "id": {
                                            "type": "string",
                                            "example": "uuid-string"
                                        },
                                        "name": {
                                            "type": "string",
                                            "example": "nouns"
                                        },
                                        "color_code": {
                                            "type": "string",
                                            "example": "#FF0000"
                                        },
                                        "created_at": {
                                            "type": "string",
                                            "example": "2025-07-15T07:19:54.000000Z"
                                        },
                                        "updated_at": {
                                            "type": "string",
                                            "example": "2025-07-15T07:19:54.000000Z"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Category not found"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            },
            "delete": {
                "tags": [
                    "Vocabulary Categories"
                ],
                "summary": "Delete a vocabulary category",
                "description": "Delete a category by its UUID.",
                "operationId": "77409c25c9289f10f53e3de71988fce1",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "UUID of the category",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "example": "uuid-string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Category deleted successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Category deleted successfully"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Category not found"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/vocab/categories/update/{id}": {
            "post": {
                "tags": [
                    "Vocabulary Categories"
                ],
                "summary": "Update an existing vocabulary category",
                "description": "Update a vocabulary category's name or description.",
                "operationId": "cb8d6d53ca20765271b6f90a89d40dd2",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "UUID of the category",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "example": "uuid-string"
                        }
                    },
                    {
                        "name": "_method",
                        "in": "query",
                        "description": "HTTP method override for file uploads",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "example": "PATCH"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "multipart/form-data": {
                            "schema": {
                                "required": [
                                    "name"
                                ],
                                "properties": {
                                    "name": {
                                        "type": "string",
                                        "example": "verb"
                                    },
                                    "color_code": {
                                        "type": "string",
                                        "example": "#FFA000"
                                    },
                                    "icon_image": {
                                        "description": "Upload category icon image (jpg, png, svg)",
                                        "type": "string",
                                        "format": "binary"
                                    },
                                    "description": {
                                        "type": "string",
                                        "example": "Category for verb words"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Category created successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Category created successfully"
                                        },
                                        "data": {
                                            "properties": {
                                                "id": {
                                                    "type": "string",
                                                    "example": "uuid-string"
                                                },
                                                "name": {
                                                    "type": "string",
                                                    "example": "verb"
                                                },
                                                "color_code": {
                                                    "type": "string",
                                                    "example": "#FFA000"
                                                },
                                                "created_at": {
                                                    "type": "string",
                                                    "example": "2025-07-15T07:19:54.000000Z"
                                                },
                                                "updated_at": {
                                                    "type": "string",
                                                    "example": "2025-07-15T07:19:54.000000Z"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Category not found"
                    },
                    "422": {
                        "description": "Validation failed"
                    },
                    "500": {
                        "description": "Server error"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/vocab/vocabularies": {
            "get": {
                "tags": [
                    "Vocabulary"
                ],
                "summary": "Get all vocabularies",
                "description": "Returns a list of all vocabulary entries.",
                "operationId": "c432b54cbc322a1ebb36c467c4cbf9e9",
                "responses": {
                    "200": {
                        "description": "List of vocabulary entries",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "array",
                                    "items": {
                                        "properties": {
                                            "id": {
                                                "type": "string",
                                                "example": "uuid-string"
                                            },
                                            "teacher_id": {
                                                "type": "string",
                                                "example": "uuid-teacher"
                                            },
                                            "category_id": {
                                                "type": "string",
                                                "example": "uuid-category"
                                            },
                                            "word": {
                                                "type": "string",
                                                "example": "Elephant"
                                            },
                                            "translation": {
                                                "type": "string",
                                                "example": "Gajah"
                                            },
                                            "spelling": {
                                                "type": "string",
                                                "example": "Ààel…ôf…ônt"
                                            },
                                            "explanation": {
                                                "type": "string",
                                                "example": "A large mammal with trunk."
                                            },
                                            "audio_file_path": {
                                                "type": "string",
                                                "example": "/storage/audio/688cb485b0b72.mp3"
                                            },
                                            "is_public": {
                                                "type": "boolean",
                                                "example": true
                                            },
                                            "created_at": {
                                                "type": "string",
                                                "example": "2025-08-01T10:00:00Z"
                                            },
                                            "updated_at": {
                                                "type": "string",
                                                "example": "2025-08-01T10:00:00Z"
                                            },
                                            "is_bookmarked": {
                                                "type": "boolean",
                                                "example": false
                                            },
                                            "teacher": {
                                                "properties": {
                                                    "id": {
                                                        "type": "string",
                                                        "format": "uuid",
                                                        "example": "571bd78d-4879-44e0-9697-05b6e8bebc5d"
                                                    },
                                                    "name": {
                                                        "type": "string",
                                                        "example": "Teacher User 1"
                                                    }
                                                },
                                                "type": "object"
                                            },
                                            "category": {
                                                "properties": {
                                                    "id": {
                                                        "type": "string",
                                                        "format": "uuid",
                                                        "example": "01985aba-6229-7398-8eb3-aec300a712a0"
                                                    },
                                                    "name": {
                                                        "type": "string",
                                                        "example": "Noun"
                                                    },
                                                    "color_code": {
                                                        "type": "string",
                                                        "example": "#FFC107"
                                                    }
                                                },
                                                "type": "object"
                                            }
                                        },
                                        "type": "object"
                                    }
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/vocab/create": {
            "post": {
                "tags": [
                    "Vocabulary"
                ],
                "summary": "Create a new vocabulary entry",
                "description": "Adds a new vocabulary entry to the system.",
                "operationId": "a29c99246c8122412f6ea3b7f32ca6a7",
                "requestBody": {
                    "required": true,
                    "content": {
                        "multipart/form-data": {
                            "schema": {
                                "required": [
                                    "category_id",
                                    "word",
                                    "translation",
                                    "is_public"
                                ],
                                "properties": {
                                    "category_id": {
                                        "type": "string",
                                        "example": "uuid-category"
                                    },
                                    "word": {
                                        "type": "string",
                                        "example": "Elephant"
                                    },
                                    "translation": {
                                        "type": "string",
                                        "example": "Gajah"
                                    },
                                    "spelling": {
                                        "type": "string",
                                        "example": "Ààel…ôf…ônt"
                                    },
                                    "explanation": {
                                        "type": "string",
                                        "example": "A large mammal with trunk."
                                    },
                                    "audio_file_path": {
                                        "type": "file",
                                        "example": "elephant.mp3"
                                    },
                                    "is_public": {
                                        "type": "boolean",
                                        "example": 1
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Vocabulary created successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Vocabulary created successfully"
                                        },
                                        "data": {
                                            "properties": {
                                                "id": {
                                                    "type": "string",
                                                    "example": "uuid-string"
                                                },
                                                "teacher_id": {
                                                    "type": "string",
                                                    "example": "uuid-teacher"
                                                },
                                                "category_id": {
                                                    "type": "string",
                                                    "example": "uuid-category"
                                                },
                                                "word": {
                                                    "type": "string",
                                                    "example": "Elephant"
                                                },
                                                "translation": {
                                                    "type": "string",
                                                    "example": "Gajah"
                                                },
                                                "spelling": {
                                                    "type": "string",
                                                    "example": "Ààel…ôf…ônt"
                                                },
                                                "explanation": {
                                                    "type": "string",
                                                    "example": "A large mammal with trunk."
                                                },
                                                "audio_file_path": {
                                                    "type": "string",
                                                    "example": "/storage/audio/688cb485b0b72.mp3"
                                                },
                                                "is_public": {
                                                    "type": "boolean",
                                                    "example": 1
                                                },
                                                "created_at": {
                                                    "type": "string",
                                                    "example": "2025-08-01T10:00:00Z"
                                                },
                                                "updated_at": {
                                                    "type": "string",
                                                    "example": "2025-08-01T10:00:00Z"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation failed"
                    },
                    "500": {
                        "description": "Server error"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/vocab/{id}": {
            "get": {
                "tags": [
                    "Vocabulary"
                ],
                "summary": "Get a specific vocabulary entry",
                "description": "Retrieve details of a vocabulary entry by its ID.",
                "operationId": "df60fcf58379515a4b46e99fdc5d6e7e",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "UUID of the vocabulary",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "example": "uuid-string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Vocabulary retrieved successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "id": {
                                            "type": "string",
                                            "example": "uuid-string"
                                        },
                                        "teacher_id": {
                                            "type": "string",
                                            "example": "uuid-teacher"
                                        },
                                        "category_id": {
                                            "type": "string",
                                            "example": "uuid-category"
                                        },
                                        "word": {
                                            "type": "string",
                                            "example": "Elephant"
                                        },
                                        "translation": {
                                            "type": "string",
                                            "example": "Gajah"
                                        },
                                        "spelling": {
                                            "type": "string",
                                            "example": "Ààel…ôf…ônt"
                                        },
                                        "explanation": {
                                            "type": "string",
                                            "example": "A large mammal with trunk."
                                        },
                                        "audio_file_path": {
                                            "type": "string",
                                            "example": "/storage/audio/688cb485b0b72.mp3"
                                        },
                                        "is_public": {
                                            "type": "boolean",
                                            "example": 1
                                        },
                                        "created_at": {
                                            "type": "string",
                                            "example": "2025-08-01T10:00:00Z"
                                        },
                                        "updated_at": {
                                            "type": "string",
                                            "example": "2025-08-01T10:00:00Z"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Vocabulary not found"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/vocab/update/{id}": {
            "post": {
                "tags": [
                    "Vocabulary"
                ],
                "summary": "Update a vocabulary entry",
                "description": "Updates an existing vocabulary entry.",
                "operationId": "226ae58ae50a04da45222669bb62db30",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "UUID of the vocabulary",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "example": "uuid-string"
                        }
                    },
                    {
                        "name": "_method",
                        "in": "query",
                        "description": "Override HTTP method for PATCH requests",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "example": "PATCH"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "multipart/form-data": {
                            "schema": {
                                "properties": {
                                    "category_id": {
                                        "type": "string",
                                        "example": "uuid-category"
                                    },
                                    "word": {
                                        "type": "string",
                                        "example": "Elephant Updated"
                                    },
                                    "translation": {
                                        "type": "string",
                                        "example": "Gajah Besar"
                                    },
                                    "spelling": {
                                        "type": "string",
                                        "example": "Ààel…ôf…ônt"
                                    },
                                    "explanation": {
                                        "type": "string",
                                        "example": "Updated explanation"
                                    },
                                    "audio_file_path": {
                                        "type": "file",
                                        "example": "elephant-new.mp3"
                                    },
                                    "is_public": {
                                        "type": "boolean",
                                        "example": 0
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Vocabulary updated successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Vocabulary updated successfully"
                                        },
                                        "data": {
                                            "properties": {
                                                "id": {
                                                    "type": "string",
                                                    "example": "uuid-string"
                                                },
                                                "teacher_id": {
                                                    "type": "string",
                                                    "example": "uuid-teacher"
                                                },
                                                "category_id": {
                                                    "type": "string",
                                                    "example": "uuid-category"
                                                },
                                                "word": {
                                                    "type": "string",
                                                    "example": "Elephant Updated"
                                                },
                                                "translation": {
                                                    "type": "string",
                                                    "example": "Gajah Besar"
                                                },
                                                "spelling": {
                                                    "type": "string",
                                                    "example": "Ààel…ôf…ônt"
                                                },
                                                "explanation": {
                                                    "type": "string",
                                                    "example": "Updated explanation"
                                                },
                                                "audio_file_path": {
                                                    "type": "string",
                                                    "example": "/storage/audio/688cb485b0b72.mp3"
                                                },
                                                "is_public": {
                                                    "type": "boolean",
                                                    "example": 0
                                                },
                                                "created_at": {
                                                    "type": "string",
                                                    "example": "2025-08-01T10:00:00Z"
                                                },
                                                "updated_at": {
                                                    "type": "string",
                                                    "example": "2025-08-01T10:00:00Z"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Vocabulary not found"
                    },
                    "422": {
                        "description": "Validation failed"
                    },
                    "500": {
                        "description": "Server error"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/vocab/delete/{id}": {
            "delete": {
                "tags": [
                    "Vocabulary"
                ],
                "summary": "Delete a vocabulary entry",
                "description": "Deletes a vocabulary entry by its UUID.",
                "operationId": "3b37df1afb2d09334eb0b75dc9703cde",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "UUID of the vocabulary",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "example": "uuid-string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Vocabulary deleted successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Vocabulary deleted successfully"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Vocabulary not found"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/vocab/{id}/bookmark": {
            "post": {
                "tags": [
                    "Vocabulary"
                ],
                "summary": "Toggle vocabulary bookmark",
                "description": "Toggle the bookmark status of a vocabulary entry for the authenticated user.",
                "operationId": "2f02bc0d41dc5c2699ef015a2f366948",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "ID of the vocabulary",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "example": "123"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Bookmark toggled successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Vocabulary bookmarked."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Vocabulary not found",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "error": {
                                            "type": "string",
                                            "example": "Vocabulary not found"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/writing-dashboard/student": {
            "get": {
                "tags": [
                    "Writing Dashboard"
                ],
                "summary": "Get student dashboard",
                "description": "Retrieve dashboard data for students",
                "operationId": "b37137eb0e4602ce9dfd613862935baf",
                "responses": {
                    "200": {
                        "description": "Student dashboard retrieved successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Student dashboard retrieved successfully"
                                        },
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "properties": {
                                                    "task_id": {
                                                        "type": "string",
                                                        "format": "uuid"
                                                    },
                                                    "title": {
                                                        "type": "string"
                                                    },
                                                    "description": {
                                                        "type": "string"
                                                    },
                                                    "due_date": {
                                                        "type": "string",
                                                        "format": "date-time"
                                                    },
                                                    "status": {
                                                        "type": "string",
                                                        "enum": [
                                                            "to_do",
                                                            "submitted",
                                                            "reviewed",
                                                            "done"
                                                        ]
                                                    },
                                                    "score": {
                                                        "type": "integer",
                                                        "nullable": true
                                                    },
                                                    "attempt_number": {
                                                        "type": "integer"
                                                    },
                                                    "can_retake": {
                                                        "type": "boolean"
                                                    },
                                                    "is_overdue": {
                                                        "type": "boolean"
                                                    }
                                                },
                                                "type": "object"
                                            }
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Forbidden - Student only"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/writing-dashboard/teacher": {
            "get": {
                "tags": [
                    "Writing Dashboard"
                ],
                "summary": "Get teacher dashboard",
                "description": "Retrieve dashboard data for teachers",
                "operationId": "61513f0b5114d48f201fb1d5f253dac6",
                "responses": {
                    "200": {
                        "description": "Teacher dashboard retrieved successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Teacher dashboard retrieved successfully"
                                        },
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "properties": {
                                                    "task_id": {
                                                        "type": "string",
                                                        "format": "uuid"
                                                    },
                                                    "title": {
                                                        "type": "string"
                                                    },
                                                    "total_submissions": {
                                                        "type": "integer"
                                                    },
                                                    "pending_reviews": {
                                                        "type": "integer"
                                                    },
                                                    "reviewed_submissions": {
                                                        "type": "integer"
                                                    },
                                                    "average_score": {
                                                        "type": "number",
                                                        "format": "float"
                                                    },
                                                    "assigned_classes": {
                                                        "type": "integer"
                                                    }
                                                },
                                                "type": "object"
                                            }
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Forbidden - Teacher/Admin only"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/writing-dashboard/admin": {
            "get": {
                "tags": [
                    "Writing Dashboard"
                ],
                "summary": "Get admin dashboard",
                "description": "Retrieve dashboard data for admins",
                "operationId": "ce82726e608b090955ffc4fefbd7778f",
                "responses": {
                    "200": {
                        "description": "Admin dashboard retrieved successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Admin dashboard retrieved successfully"
                                        },
                                        "data": {
                                            "properties": {
                                                "statistics": {
                                                    "properties": {
                                                        "total_tasks": {
                                                            "type": "integer"
                                                        },
                                                        "published_tasks": {
                                                            "type": "integer"
                                                        },
                                                        "total_submissions": {
                                                            "type": "integer"
                                                        },
                                                        "pending_reviews": {
                                                            "type": "integer"
                                                        },
                                                        "average_score": {
                                                            "type": "number",
                                                            "format": "float"
                                                        }
                                                    },
                                                    "type": "object"
                                                },
                                                "recent_tasks": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "object"
                                                    }
                                                },
                                                "top_teachers": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "object"
                                                    }
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Forbidden - Admin only"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/writing-tasks/{taskId}/submissions/{submissionId}/review": {
            "post": {
                "tags": [
                    "Writing Reviews"
                ],
                "summary": "Review a student submission",
                "description": "Provide feedback and score for a student's writing submission",
                "operationId": "46eb6016faa48f63b92673eb660428be",
                "parameters": [
                    {
                        "name": "taskId",
                        "in": "path",
                        "description": "Writing task ID",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        }
                    },
                    {
                        "name": "submissionId",
                        "in": "path",
                        "description": "Writing submission ID",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "properties": {
                                    "score": {
                                        "type": "integer",
                                        "maximum": 100,
                                        "minimum": 0,
                                        "example": 85
                                    },
                                    "comments": {
                                        "type": "string",
                                        "example": "Good structure but needs improvement in grammar"
                                    },
                                    "detailed_feedback": {
                                        "properties": {
                                            "grammar": {
                                                "type": "integer",
                                                "maximum": 100,
                                                "minimum": 0,
                                                "example": 75
                                            },
                                            "vocabulary": {
                                                "type": "integer",
                                                "maximum": 100,
                                                "minimum": 0,
                                                "example": 90
                                            },
                                            "structure": {
                                                "type": "integer",
                                                "maximum": 100,
                                                "minimum": 0,
                                                "example": 85
                                            },
                                            "content": {
                                                "type": "integer",
                                                "maximum": 100,
                                                "minimum": 0,
                                                "example": 80
                                            }
                                        },
                                        "type": "object"
                                    },
                                    "corrections": {
                                        "type": "array",
                                        "items": {
                                            "properties": {
                                                "original": {
                                                    "type": "string",
                                                    "example": "They was happy"
                                                },
                                                "corrected": {
                                                    "type": "string",
                                                    "example": "They were happy"
                                                },
                                                "type": {
                                                    "type": "string",
                                                    "example": "grammar"
                                                },
                                                "explanation": {
                                                    "type": "string",
                                                    "example": "Subject-verb agreement error"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "suggestions": {
                                        "type": "string",
                                        "example": "Try to vary your sentence structure more"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Submission reviewed successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Submission reviewed successfully"
                                        },
                                        "data": {
                                            "properties": {
                                                "submission": {
                                                    "properties": {
                                                        "id": {
                                                            "type": "string",
                                                            "format": "uuid"
                                                        },
                                                        "status": {
                                                            "type": "string",
                                                            "example": "reviewed"
                                                        },
                                                        "score": {
                                                            "type": "integer",
                                                            "example": 85
                                                        }
                                                    },
                                                    "type": "object"
                                                },
                                                "review": {
                                                    "properties": {
                                                        "id": {
                                                            "type": "string",
                                                            "format": "uuid"
                                                        },
                                                        "score": {
                                                            "type": "integer",
                                                            "example": 85
                                                        },
                                                        "comments": {
                                                            "type": "string"
                                                        },
                                                        "reviewed_at": {
                                                            "type": "string",
                                                            "format": "date-time"
                                                        }
                                                    },
                                                    "type": "object"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Unauthorized"
                    },
                    "404": {
                        "description": "Submission not found"
                    },
                    "500": {
                        "description": "Failed to review submission"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/writing-reviews/pending": {
            "get": {
                "tags": [
                    "Writing Reviews"
                ],
                "summary": "Get pending reviews",
                "description": "Retrieve submissions that need to be reviewed by the teacher",
                "operationId": "058286397630eddd98c81a1eeee16ddc",
                "responses": {
                    "200": {
                        "description": "Pending reviews retrieved successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Pending reviews retrieved successfully"
                                        },
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "properties": {
                                                    "id": {
                                                        "type": "string",
                                                        "format": "uuid"
                                                    },
                                                    "writing_task_id": {
                                                        "type": "string",
                                                        "format": "uuid"
                                                    },
                                                    "student_id": {
                                                        "type": "string",
                                                        "format": "uuid"
                                                    },
                                                    "status": {
                                                        "type": "string",
                                                        "example": "submitted"
                                                    },
                                                    "submitted_at": {
                                                        "type": "string",
                                                        "format": "date-time"
                                                    },
                                                    "time_taken_seconds": {
                                                        "type": "integer"
                                                    },
                                                    "student": {
                                                        "properties": {
                                                            "id": {
                                                                "type": "string",
                                                                "format": "uuid"
                                                            },
                                                            "name": {
                                                                "type": "string"
                                                            },
                                                            "email": {
                                                                "type": "string"
                                                            }
                                                        },
                                                        "type": "object"
                                                    },
                                                    "writingTask": {
                                                        "properties": {
                                                            "id": {
                                                                "type": "string",
                                                                "format": "uuid"
                                                            },
                                                            "title": {
                                                                "type": "string"
                                                            },
                                                            "difficulty": {
                                                                "type": "string"
                                                            }
                                                        },
                                                        "type": "object"
                                                    }
                                                },
                                                "type": "object"
                                            }
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized"
                    },
                    "500": {
                        "description": "Server error"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/writing-reviews/bulk": {
            "post": {
                "tags": [
                    "Writing Reviews"
                ],
                "summary": "Bulk review submissions",
                "description": "Review multiple submissions at once",
                "operationId": "7cbbcceff938396b9ef751a4a77c05de",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "properties": {
                                    "reviews": {
                                        "type": "array",
                                        "items": {
                                            "properties": {
                                                "submission_id": {
                                                    "type": "string",
                                                    "format": "uuid",
                                                    "example": "123e4567-e89b-12d3-a456-426614174000"
                                                },
                                                "score": {
                                                    "type": "integer",
                                                    "maximum": 100,
                                                    "minimum": 0,
                                                    "example": 85
                                                },
                                                "comments": {
                                                    "type": "string",
                                                    "example": "Good work overall"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Bulk review completed successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Bulk review completed successfully"
                                        },
                                        "data": {
                                            "properties": {
                                                "successful_reviews": {
                                                    "type": "integer",
                                                    "example": 5
                                                },
                                                "failed_reviews": {
                                                    "type": "integer",
                                                    "example": 0
                                                },
                                                "results": {
                                                    "type": "array",
                                                    "items": {
                                                        "properties": {
                                                            "submission_id": {
                                                                "type": "string",
                                                                "format": "uuid"
                                                            },
                                                            "status": {
                                                                "type": "string",
                                                                "enum": [
                                                                    "success",
                                                                    "failed"
                                                                ]
                                                            },
                                                            "message": {
                                                                "type": "string"
                                                            }
                                                        },
                                                        "type": "object"
                                                    }
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation error"
                    },
                    "500": {
                        "description": "Failed to complete bulk review"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/writing-tasks/{taskId}/submissions": {
            "get": {
                "tags": [
                    "Writing Submissions"
                ],
                "summary": "Get submissions for a task",
                "description": "Retrieve all submissions for a specific writing task (Teacher view)",
                "operationId": "6b9ef7077a2c17da27ff080b8ed74f18",
                "parameters": [
                    {
                        "name": "taskId",
                        "in": "path",
                        "description": "Task ID",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Submissions retrieved successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Submissions retrieved successfully"
                                        },
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "properties": {
                                                    "id": {
                                                        "type": "string",
                                                        "format": "uuid"
                                                    },
                                                    "test_id": {
                                                        "type": "string",
                                                        "format": "uuid"
                                                    },
                                                    "student_id": {
                                                        "type": "string",
                                                        "format": "uuid"
                                                    },
                                                    "student_name": {
                                                        "type": "string"
                                                    },
                                                    "status": {
                                                        "type": "string",
                                                        "enum": [
                                                            "to_do",
                                                            "in_progress",
                                                            "submitted",
                                                            "reviewed"
                                                        ]
                                                    },
                                                    "score": {
                                                        "type": "integer",
                                                        "nullable": true
                                                    },
                                                    "attempt_number": {
                                                        "type": "integer"
                                                    },
                                                    "submitted_at": {
                                                        "type": "string",
                                                        "format": "date-time",
                                                        "nullable": true
                                                    },
                                                    "created_at": {
                                                        "type": "string",
                                                        "format": "date-time"
                                                    }
                                                },
                                                "type": "object"
                                            }
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Forbidden"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            },
            "post": {
                "tags": [
                    "Writing Submissions"
                ],
                "summary": "Submit student writing",
                "description": "Submit a writing assignment (Student only)",
                "operationId": "2121e32ebff6941c0e29007a96d2c45e",
                "parameters": [
                    {
                        "name": "taskId",
                        "in": "path",
                        "description": "Task ID",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "multipart/form-data": {
                            "schema": {
                                "required": [
                                    "content"
                                ],
                                "properties": {
                                    "content": {
                                        "type": "string",
                                        "example": "My essay content goes here..."
                                    },
                                    "files": {
                                        "description": "Maximum 5 files, each up to 10MB",
                                        "type": "array",
                                        "items": {
                                            "type": "string",
                                            "format": "binary"
                                        }
                                    },
                                    "time_taken_seconds": {
                                        "type": "integer",
                                        "example": 1800
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Writing submitted successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Writing submitted successfully"
                                        },
                                        "data": {
                                            "properties": {
                                                "id": {
                                                    "type": "string",
                                                    "format": "uuid"
                                                },
                                                "test_id": {
                                                    "type": "string",
                                                    "format": "uuid"
                                                },
                                                "student_id": {
                                                    "type": "string",
                                                    "format": "uuid"
                                                },
                                                "status": {
                                                    "type": "string",
                                                    "enum": [
                                                        "to_do",
                                                        "in_progress",
                                                        "submitted",
                                                        "reviewed"
                                                    ]
                                                },
                                                "attempt_number": {
                                                    "type": "integer"
                                                },
                                                "submitted_at": {
                                                    "type": "string",
                                                    "format": "date-time",
                                                    "nullable": true
                                                },
                                                "created_at": {
                                                    "type": "string",
                                                    "format": "date-time"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation error"
                    },
                    "404": {
                        "description": "Task not found or unauthorized"
                    }
                }
            }
        },
        "/api/v1/writing-tasks/{taskId}/submissions/draft": {
            "post": {
                "tags": [
                    "Writing Submissions"
                ],
                "summary": "Save draft",
                "description": "Auto-save draft functionality (Student only)",
                "operationId": "d9080412b08d0540f74882a53650db5f",
                "parameters": [
                    {
                        "name": "taskId",
                        "in": "path",
                        "description": "Task ID",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "content"
                                ],
                                "properties": {
                                    "content": {
                                        "type": "string",
                                        "example": "Draft content..."
                                    },
                                    "files": {
                                        "type": "array",
                                        "items": {
                                            "type": "string"
                                        }
                                    },
                                    "time_taken_seconds": {
                                        "type": "integer",
                                        "example": 900
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Draft saved successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Draft saved successfully"
                                        },
                                        "data": {
                                            "properties": {
                                                "id": {
                                                    "type": "string",
                                                    "format": "uuid"
                                                },
                                                "test_id": {
                                                    "type": "string",
                                                    "format": "uuid"
                                                },
                                                "student_id": {
                                                    "type": "string",
                                                    "format": "uuid"
                                                },
                                                "status": {
                                                    "type": "string",
                                                    "enum": [
                                                        "to_do",
                                                        "in_progress",
                                                        "submitted",
                                                        "reviewed"
                                                    ]
                                                },
                                                "content": {
                                                    "type": "string"
                                                },
                                                "attempt_number": {
                                                    "type": "integer"
                                                },
                                                "created_at": {
                                                    "type": "string",
                                                    "format": "date-time"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/writing-tasks/{taskId}/submissions/retake": {
            "post": {
                "tags": [
                    "Writing Submissions"
                ],
                "summary": "Create retake submission",
                "description": "Create a retake submission with specified retake option",
                "operationId": "4a73c181ca84e3f154fba3f850daf51a",
                "parameters": [
                    {
                        "name": "taskId",
                        "in": "path",
                        "description": "Task ID",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "retake_option"
                                ],
                                "properties": {
                                    "retake_option": {
                                        "type": "string",
                                        "enum": [
                                            "rewrite_all",
                                            "group_similar",
                                            "choose_any"
                                        ],
                                        "example": "rewrite_all"
                                    },
                                    "chosen_mistakes": {
                                        "description": "Required when retake_option is 'choose_any'",
                                        "type": "array",
                                        "items": {
                                            "type": "string"
                                        }
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Retake created successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Retake created successfully"
                                        },
                                        "data": {
                                            "properties": {
                                                "id": {
                                                    "type": "string",
                                                    "format": "uuid"
                                                },
                                                "test_id": {
                                                    "type": "string",
                                                    "format": "uuid"
                                                },
                                                "student_id": {
                                                    "type": "string",
                                                    "format": "uuid"
                                                },
                                                "status": {
                                                    "type": "string",
                                                    "enum": [
                                                        "to_do",
                                                        "in_progress",
                                                        "submitted",
                                                        "reviewed"
                                                    ]
                                                },
                                                "attempt_number": {
                                                    "type": "integer"
                                                },
                                                "retake_option": {
                                                    "type": "string"
                                                },
                                                "created_at": {
                                                    "type": "string",
                                                    "format": "date-time"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/writing-tasks/{taskId}/submissions/{submissionId}/done": {
            "patch": {
                "tags": [
                    "Writing Submissions"
                ],
                "summary": "Mark submission as done",
                "description": "Student acknowledges review and marks submission as done",
                "operationId": "5fc3e538cb1addd4e67f1c9c233415ac",
                "parameters": [
                    {
                        "name": "taskId",
                        "in": "path",
                        "description": "Task ID",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        }
                    },
                    {
                        "name": "submissionId",
                        "in": "path",
                        "description": "Submission ID",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Submission marked as done successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Submission marked as done successfully"
                                        },
                                        "data": {
                                            "properties": {
                                                "id": {
                                                    "type": "string",
                                                    "format": "uuid"
                                                },
                                                "test_id": {
                                                    "type": "string",
                                                    "format": "uuid"
                                                },
                                                "student_id": {
                                                    "type": "string",
                                                    "format": "uuid"
                                                },
                                                "status": {
                                                    "type": "string",
                                                    "enum": [
                                                        "to_do",
                                                        "in_progress",
                                                        "submitted",
                                                        "reviewed",
                                                        "done"
                                                    ]
                                                },
                                                "attempt_number": {
                                                    "type": "integer"
                                                },
                                                "created_at": {
                                                    "type": "string",
                                                    "format": "date-time"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Forbidden"
                    },
                    "400": {
                        "description": "Submission must be reviewed first"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/writing-tasks/{taskId}/submissions/{submissionId}": {
            "get": {
                "tags": [
                    "Writing Submissions"
                ],
                "summary": "Get specific submission",
                "description": "Retrieve details of a specific submission",
                "operationId": "1ac0da6ac5e1cd07801497bd3878e460",
                "parameters": [
                    {
                        "name": "taskId",
                        "in": "path",
                        "description": "Task ID",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        }
                    },
                    {
                        "name": "submissionId",
                        "in": "path",
                        "description": "Submission ID",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Submission retrieved successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Submission retrieved successfully"
                                        },
                                        "data": {
                                            "properties": {
                                                "id": {
                                                    "type": "string",
                                                    "format": "uuid"
                                                },
                                                "test_id": {
                                                    "type": "string",
                                                    "format": "uuid"
                                                },
                                                "student_id": {
                                                    "type": "string",
                                                    "format": "uuid"
                                                },
                                                "content": {
                                                    "type": "string"
                                                },
                                                "status": {
                                                    "type": "string",
                                                    "enum": [
                                                        "to_do",
                                                        "in_progress",
                                                        "submitted",
                                                        "reviewed"
                                                    ]
                                                },
                                                "score": {
                                                    "type": "integer",
                                                    "nullable": true
                                                },
                                                "attempt_number": {
                                                    "type": "integer"
                                                },
                                                "submitted_at": {
                                                    "type": "string",
                                                    "format": "date-time",
                                                    "nullable": true
                                                },
                                                "created_at": {
                                                    "type": "string",
                                                    "format": "date-time"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Submission not found"
                    },
                    "403": {
                        "description": "Forbidden"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/writing-tasks/{id}/assignments": {
            "get": {
                "tags": [
                    "Writing Task Assignments"
                ],
                "summary": "Get task assignments",
                "description": "Retrieve all classroom assignments for a specific task",
                "operationId": "7c8eb23e70491a6b03822b21b70e093c",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "Task ID",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Task assignments retrieved successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Task assignments retrieved successfully"
                                        },
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "type": "object"
                                            }
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Task not found"
                    },
                    "403": {
                        "description": "Forbidden"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            },
            "post": {
                "tags": [
                    "Writing Task Assignments"
                ],
                "summary": "Assign task to classrooms",
                "description": "Assign a writing task to multiple classrooms (Teacher/Admin only)",
                "operationId": "411befb7bfd068ecf43c7600651a238b",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "Task ID",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "classroom_ids"
                                ],
                                "properties": {
                                    "classroom_ids": {
                                        "type": "array",
                                        "items": {
                                            "type": "string",
                                            "format": "uuid"
                                        },
                                        "example": [
                                            "uuid1",
                                            "uuid2",
                                            "uuid3"
                                        ]
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Task sent to classrooms successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Task sent to classrooms successfully"
                                        },
                                        "assignments_count": {
                                            "type": "integer",
                                            "example": 3
                                        },
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "type": "object"
                                            }
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation error"
                    },
                    "403": {
                        "description": "Forbidden"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/writing-tasks/{id}/assignments/{classroomId}": {
            "delete": {
                "tags": [
                    "Writing Task Assignments"
                ],
                "summary": "Remove task from classroom",
                "description": "Remove a writing task assignment from a specific classroom",
                "operationId": "d0f18ae56ad9272a894a195910deb3e6",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "Task ID",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        }
                    },
                    {
                        "name": "classroomId",
                        "in": "path",
                        "description": "Classroom ID",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Task removed from classroom successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Task removed from classroom successfully"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Task or classroom not found"
                    },
                    "403": {
                        "description": "Forbidden"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/writing-tasks": {
            "get": {
                "tags": [
                    "Writing Tasks"
                ],
                "summary": "Get list of writing tasks",
                "description": "Retrieve writing tasks based on user role - Admin sees all, Teacher sees own tasks, Student sees assigned published tasks",
                "operationId": "8815b3095f09aaccc6e2ec826a83ffcc",
                "responses": {
                    "200": {
                        "description": "Writing tasks retrieved successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Writing tasks retrieved successfully"
                                        },
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "properties": {
                                                    "id": {
                                                        "type": "string",
                                                        "format": "uuid"
                                                    },
                                                    "title": {
                                                        "type": "string"
                                                    },
                                                    "description": {
                                                        "type": "string"
                                                    },
                                                    "is_published": {
                                                        "type": "boolean"
                                                    },
                                                    "difficulty": {
                                                        "type": "string",
                                                        "enum": [
                                                            "beginner",
                                                            "intermediate",
                                                            "advanced"
                                                        ]
                                                    },
                                                    "time_limit_seconds": {
                                                        "type": "integer",
                                                        "nullable": true
                                                    },
                                                    "created_at": {
                                                        "type": "string",
                                                        "format": "date-time"
                                                    },
                                                    "creator": {
                                                        "properties": {
                                                            "id": {
                                                                "type": "string",
                                                                "format": "uuid"
                                                            },
                                                            "name": {
                                                                "type": "string"
                                                            },
                                                            "email": {
                                                                "type": "string"
                                                            }
                                                        },
                                                        "type": "object"
                                                    },
                                                    "assignments": {
                                                        "type": "array",
                                                        "items": {
                                                            "properties": {
                                                                "id": {
                                                                    "type": "string",
                                                                    "format": "uuid"
                                                                },
                                                                "classroom_id": {
                                                                    "type": "string",
                                                                    "format": "uuid"
                                                                },
                                                                "due_date": {
                                                                    "type": "string",
                                                                    "format": "date-time",
                                                                    "nullable": true
                                                                }
                                                            },
                                                            "type": "object"
                                                        }
                                                    }
                                                },
                                                "type": "object"
                                            }
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized"
                    },
                    "500": {
                        "description": "Server error"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            },
            "post": {
                "tags": [
                    "Writing Tasks"
                ],
                "summary": "Create a new writing task",
                "description": "Create a new writing task with questions and assignments",
                "operationId": "5cbdb53cce957fec8703878733c79e61",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "title",
                                    "description",
                                    "timer_type"
                                ],
                                "properties": {
                                    "title": {
                                        "type": "string",
                                        "example": "Essay Writing Task"
                                    },
                                    "description": {
                                        "type": "string",
                                        "example": "Write a 500-word essay about climate change"
                                    },
                                    "instructions": {
                                        "type": "string",
                                        "example": "Follow the essay structure: introduction, body, conclusion"
                                    },
                                    "sample_answer": {
                                        "type": "string",
                                        "example": "Sample answer for reference"
                                    },
                                    "word_limit": {
                                        "type": "integer",
                                        "example": 500,
                                        "nullable": true
                                    },
                                    "difficulty": {
                                        "type": "string",
                                        "enum": [
                                            "beginner",
                                            "intermediate",
                                            "advanced"
                                        ],
                                        "example": "intermediate"
                                    },
                                    "timer_type": {
                                        "type": "string",
                                        "enum": [
                                            "none",
                                            "countdown",
                                            "countup"
                                        ],
                                        "example": "countdown"
                                    },
                                    "time_limit_seconds": {
                                        "type": "integer",
                                        "example": 3600,
                                        "nullable": true
                                    },
                                    "allow_retake": {
                                        "type": "boolean",
                                        "example": true
                                    },
                                    "max_retake_attempts": {
                                        "type": "integer",
                                        "example": 3,
                                        "nullable": true
                                    },
                                    "retake_options": {
                                        "type": "array",
                                        "items": {
                                            "type": "string",
                                            "enum": [
                                                "rewrite_all",
                                                "group_similar",
                                                "choose_any"
                                            ]
                                        },
                                        "example": [
                                            "rewrite_all",
                                            "group_similar",
                                            "choose_any"
                                        ]
                                    },
                                    "allow_submission_files": {
                                        "type": "boolean",
                                        "example": true
                                    },
                                    "due_date": {
                                        "type": "string",
                                        "format": "date-time",
                                        "example": "2024-12-31T23:59:59Z",
                                        "nullable": true
                                    },
                                    "is_published": {
                                        "type": "boolean",
                                        "example": false
                                    },
                                    "questions": {
                                        "type": "array",
                                        "items": {
                                            "properties": {
                                                "question_type": {
                                                    "type": "string",
                                                    "enum": [
                                                        "essay",
                                                        "short_answer",
                                                        "creative_writing",
                                                        "argumentative",
                                                        "descriptive",
                                                        "narrative"
                                                    ],
                                                    "example": "essay"
                                                },
                                                "question_text": {
                                                    "type": "string",
                                                    "example": "Write an essay about climate change"
                                                },
                                                "instructions": {
                                                    "type": "string",
                                                    "example": "Include introduction, body, and conclusion"
                                                },
                                                "word_limit": {
                                                    "type": "integer",
                                                    "example": 500
                                                },
                                                "points": {
                                                    "type": "number",
                                                    "example": 25
                                                },
                                                "rubric": {
                                                    "type": "string",
                                                    "example": "Grading criteria..."
                                                },
                                                "sample_answer": {
                                                    "type": "string",
                                                    "example": "Sample response..."
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "classroom_assignments": {
                                        "type": "array",
                                        "items": {
                                            "properties": {
                                                "classroom_id": {
                                                    "type": "string",
                                                    "format": "uuid",
                                                    "example": "550e8400-e29b-41d4-a716-446655440000"
                                                },
                                                "due_date": {
                                                    "type": "string",
                                                    "format": "date-time",
                                                    "example": "2024-12-31T23:59:59Z"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Writing task created successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Writing task created successfully"
                                        },
                                        "data": {
                                            "properties": {
                                                "id": {
                                                    "type": "string",
                                                    "format": "uuid"
                                                },
                                                "title": {
                                                    "type": "string"
                                                },
                                                "description": {
                                                    "type": "string"
                                                },
                                                "is_published": {
                                                    "type": "boolean"
                                                },
                                                "created_at": {
                                                    "type": "string",
                                                    "format": "date-time"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation error"
                    },
                    "500": {
                        "description": "Server error"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/writing-tasks/{id}": {
            "get": {
                "tags": [
                    "Writing Tasks"
                ],
                "summary": "Get specific writing task details",
                "description": "Retrieve details of a specific writing task with submissions and assignments",
                "operationId": "ad39a7353495e08dac663efa7bc6c70e",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "Writing task ID",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Writing task retrieved successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Writing task retrieved successfully"
                                        },
                                        "data": {
                                            "properties": {
                                                "id": {
                                                    "type": "string",
                                                    "format": "uuid"
                                                },
                                                "title": {
                                                    "type": "string"
                                                },
                                                "description": {
                                                    "type": "string"
                                                },
                                                "instructions": {
                                                    "type": "string"
                                                },
                                                "difficulty": {
                                                    "type": "string"
                                                },
                                                "time_limit_seconds": {
                                                    "type": "integer",
                                                    "nullable": true
                                                },
                                                "is_published": {
                                                    "type": "boolean"
                                                },
                                                "submissions": {
                                                    "type": "array",
                                                    "items": {
                                                        "properties": {
                                                            "id": {
                                                                "type": "string",
                                                                "format": "uuid"
                                                            },
                                                            "student_id": {
                                                                "type": "string",
                                                                "format": "uuid"
                                                            },
                                                            "status": {
                                                                "type": "string"
                                                            },
                                                            "score": {
                                                                "type": "integer",
                                                                "nullable": true
                                                            },
                                                            "submitted_at": {
                                                                "type": "string",
                                                                "format": "date-time",
                                                                "nullable": true
                                                            }
                                                        },
                                                        "type": "object"
                                                    }
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Task not found or unauthorized access"
                    },
                    "401": {
                        "description": "Unauthorized"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            },
            "delete": {
                "tags": [
                    "Writing Tasks"
                ],
                "summary": "Delete writing task",
                "description": "Delete a writing task and all associated data",
                "operationId": "7086044e73f299d4eafbd5a04242eba5",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "Writing task ID",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Writing task deleted successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Writing task deleted successfully"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Unauthorized"
                    },
                    "404": {
                        "description": "Task not found"
                    },
                    "500": {
                        "description": "Failed to delete task"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/writing-tasks/{id}/update": {
            "post": {
                "tags": [
                    "Writing Tasks"
                ],
                "summary": "Update writing task",
                "description": "Update an existing writing task details",
                "operationId": "aa4b61f9d5fd888b2461dd9b31db721c",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "Writing task ID",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "multipart/form-data": {
                            "schema": {
                                "properties": {
                                    "title": {
                                        "type": "string",
                                        "example": "Updated Essay Writing Task"
                                    },
                                    "description": {
                                        "type": "string",
                                        "example": "Updated description"
                                    },
                                    "instructions": {
                                        "type": "string",
                                        "example": "Updated instructions"
                                    },
                                    "sample_answer": {
                                        "type": "string",
                                        "example": "Updated sample answer"
                                    },
                                    "word_limit": {
                                        "type": "integer",
                                        "example": 750,
                                        "nullable": true
                                    },
                                    "difficulty": {
                                        "type": "string",
                                        "enum": [
                                            "beginner",
                                            "intermediate",
                                            "advanced"
                                        ],
                                        "example": "advanced"
                                    },
                                    "timer_type": {
                                        "type": "string",
                                        "enum": [
                                            "none",
                                            "countdown",
                                            "countup"
                                        ],
                                        "example": "countdown"
                                    },
                                    "time_limit_seconds": {
                                        "type": "integer",
                                        "example": 5400,
                                        "nullable": true
                                    },
                                    "allow_retake": {
                                        "type": "boolean",
                                        "example": false
                                    },
                                    "max_retake_attempts": {
                                        "type": "integer",
                                        "example": 2,
                                        "nullable": true
                                    },
                                    "retake_options": {
                                        "description": "JSON string of retake options array",
                                        "type": "string",
                                        "example": "[\"rewrite_all\", \"group_similar\"]"
                                    },
                                    "allow_submission_files": {
                                        "type": "boolean",
                                        "example": false
                                    },
                                    "due_date": {
                                        "type": "string",
                                        "format": "date-time",
                                        "example": "2024-12-31T23:59:59Z",
                                        "nullable": true
                                    },
                                    "is_published": {
                                        "type": "boolean",
                                        "example": true
                                    },
                                    "questions": {
                                        "description": "JSON string of updated questions array",
                                        "type": "string",
                                        "example": "[{\"question_type\":\"essay\",\"question_text\":\"Updated essay question\",\"word_limit\":600,\"points\":30}]"
                                    },
                                    "reference_files": {
                                        "description": "Upload updated reference materials",
                                        "type": "array",
                                        "items": {
                                            "type": "string",
                                            "format": "binary"
                                        }
                                    },
                                    "classroom_assignments": {
                                        "description": "JSON string of updated classroom assignments",
                                        "type": "string",
                                        "example": "[{\"classroom_id\":\"uuid\",\"due_date\":\"2024-12-31T23:59:59Z\"}]"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Writing task updated successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Writing task updated successfully"
                                        },
                                        "data": {
                                            "properties": {
                                                "id": {
                                                    "type": "string",
                                                    "format": "uuid"
                                                },
                                                "title": {
                                                    "type": "string"
                                                },
                                                "updated_at": {
                                                    "type": "string",
                                                    "format": "date-time"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Unauthorized"
                    },
                    "404": {
                        "description": "Task not found"
                    },
                    "500": {
                        "description": "Update failed"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/writing/tests": {
            "get": {
                "tags": [
                    "Writing Tests"
                ],
                "summary": "Get all writing tests",
                "description": "Retrieve writing tests based on user role. Admin sees all tests, students see only published tests, teachers see only their own tests.",
                "operationId": "5d9a02f3371f268edab188d491b90026",
                "responses": {
                    "200": {
                        "description": "Writing tests retrieved successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Writing tests retrieved successfully"
                                        },
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "properties": {
                                                    "id": {
                                                        "type": "string",
                                                        "format": "uuid",
                                                        "example": "550e8400-e29b-41d4-a716-446655440000"
                                                    },
                                                    "creator_id": {
                                                        "type": "string",
                                                        "format": "uuid",
                                                        "example": "550e8400-e29b-41d4-a716-446655440001"
                                                    },
                                                    "creator_name": {
                                                        "type": "string",
                                                        "example": "Teacher Name"
                                                    },
                                                    "type": {
                                                        "type": "string",
                                                        "example": "writing"
                                                    },
                                                    "test_type": {
                                                        "type": "string",
                                                        "example": "academic"
                                                    },
                                                    "difficulty": {
                                                        "type": "string",
                                                        "example": "intermediate"
                                                    },
                                                    "title": {
                                                        "type": "string",
                                                        "example": "IELTS Writing Task 1"
                                                    },
                                                    "description": {
                                                        "type": "string",
                                                        "example": "Test description"
                                                    },
                                                    "timer_mode": {
                                                        "type": "string",
                                                        "example": "test"
                                                    },
                                                    "timer_settings": {
                                                        "type": "object"
                                                    },
                                                    "allow_repetition": {
                                                        "type": "boolean",
                                                        "example": true
                                                    },
                                                    "max_repetition_count": {
                                                        "type": "integer",
                                                        "example": 3
                                                    },
                                                    "is_public": {
                                                        "type": "boolean",
                                                        "example": false
                                                    },
                                                    "is_published": {
                                                        "type": "boolean",
                                                        "example": true
                                                    },
                                                    "settings": {
                                                        "type": "object"
                                                    },
                                                    "created_at": {
                                                        "type": "string",
                                                        "format": "date-time"
                                                    },
                                                    "updated_at": {
                                                        "type": "string",
                                                        "format": "date-time"
                                                    },
                                                    "statistics": {
                                                        "properties": {
                                                            "total_attempts": {
                                                                "type": "integer",
                                                                "example": 15
                                                            },
                                                            "completed_attempts": {
                                                                "type": "integer",
                                                                "example": 12
                                                            },
                                                            "average_score": {
                                                                "type": "number",
                                                                "example": 85.5
                                                            }
                                                        },
                                                        "type": "object"
                                                    }
                                                },
                                                "type": "object"
                                            }
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            },
            "post": {
                "tags": [
                    "Writing Tests"
                ],
                "summary": "Create a new writing test",
                "description": "Create a new writing test with prompts and settings.",
                "operationId": "376893501ef9bcf3247725bf5801c5ee",
                "requestBody": {
                    "required": true,
                    "content": {
                        "multipart/form-data": {
                            "schema": {
                                "required": [
                                    "title",
                                    "description",
                                    "test_type",
                                    "difficulty"
                                ],
                                "properties": {
                                    "title": {
                                        "type": "string",
                                        "example": "IELTS Writing Test"
                                    },
                                    "description": {
                                        "type": "string",
                                        "example": "A comprehensive writing test"
                                    },
                                    "test_type": {
                                        "type": "string",
                                        "enum": [
                                            "academic",
                                            "general",
                                            "business",
                                            "ielts",
                                            "toefl"
                                        ],
                                        "example": "ielts"
                                    },
                                    "difficulty": {
                                        "type": "string",
                                        "enum": [
                                            "beginner",
                                            "intermediate",
                                            "advanced"
                                        ],
                                        "example": "intermediate"
                                    },
                                    "timer_mode": {
                                        "type": "string",
                                        "enum": [
                                            "none",
                                            "test",
                                            "practice"
                                        ],
                                        "example": "test"
                                    },
                                    "timer_settings": {
                                        "type": "string",
                                        "example": "{\"test_time\":60,\"warning_time\":5}"
                                    },
                                    "allow_repetition": {
                                        "type": "boolean",
                                        "example": true
                                    },
                                    "max_repetition_count": {
                                        "type": "integer",
                                        "example": 3
                                    },
                                    "is_public": {
                                        "type": "boolean",
                                        "example": false
                                    },
                                    "is_published": {
                                        "type": "boolean",
                                        "example": true
                                    },
                                    "settings": {
                                        "type": "string",
                                        "example": "{\"instructions\":\"Write your response clearly\",\"sample_format\":\"Essay format\",\"word_limit\":250}"
                                    },
                                    "prompt_files": {
                                        "description": "Upload prompt files (pdf, doc, docx, txt, images)",
                                        "type": "array",
                                        "items": {
                                            "type": "string",
                                            "format": "binary"
                                        }
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Writing test created successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Writing test created successfully"
                                        },
                                        "test_id": {
                                            "type": "string",
                                            "format": "uuid",
                                            "example": "550e8400-e29b-41d4-a716-446655440000"
                                        },
                                        "data": {
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation error"
                    },
                    "401": {
                        "description": "Unauthorized"
                    },
                    "403": {
                        "description": "Forbidden"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/writing/tests/{id}": {
            "get": {
                "tags": [
                    "Writing Tests"
                ],
                "summary": "Get a specific writing test",
                "description": "Retrieve detailed information about a specific writing test including prompts.",
                "operationId": "7d05f6fbc1ccdcd1b78deab61fd74ce1",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "Writing test ID",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Writing test details retrieved successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "id": {
                                            "type": "string",
                                            "format": "uuid"
                                        },
                                        "creator_id": {
                                            "type": "string",
                                            "format": "uuid"
                                        },
                                        "creator_name": {
                                            "type": "string"
                                        },
                                        "type": {
                                            "type": "string",
                                            "example": "writing"
                                        },
                                        "test_type": {
                                            "type": "string"
                                        },
                                        "difficulty": {
                                            "type": "string"
                                        },
                                        "title": {
                                            "type": "string"
                                        },
                                        "description": {
                                            "type": "string"
                                        },
                                        "timer_mode": {
                                            "type": "string"
                                        },
                                        "timer_settings": {
                                            "type": "object"
                                        },
                                        "allow_repetition": {
                                            "type": "boolean"
                                        },
                                        "max_repetition_count": {
                                            "type": "integer"
                                        },
                                        "is_public": {
                                            "type": "boolean"
                                        },
                                        "is_published": {
                                            "type": "boolean"
                                        },
                                        "settings": {
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Test not found"
                    },
                    "401": {
                        "description": "Unauthorized"
                    },
                    "403": {
                        "description": "Forbidden"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            },
            "delete": {
                "tags": [
                    "Writing Tests"
                ],
                "summary": "Delete a writing test",
                "description": "Delete a writing test and all related data. Only test creator or admin can delete.",
                "operationId": "b0232781052a27664a9d1fe9b1fc89c7",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "Writing test ID",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Writing test deleted successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Writing test deleted successfully"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Test not found"
                    },
                    "401": {
                        "description": "Unauthorized"
                    },
                    "403": {
                        "description": "Forbidden"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/writing/tests/{id}/update": {
            "post": {
                "tags": [
                    "Writing Tests"
                ],
                "summary": "Update a writing test",
                "description": "Update an existing writing test. Only test creator or admin can update.",
                "operationId": "534d9dfbd5fe4e44d0fa25e22d58d98f",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "Writing test ID",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "multipart/form-data": {
                            "schema": {
                                "properties": {
                                    "title": {
                                        "type": "string",
                                        "example": "Updated IELTS Writing Test"
                                    },
                                    "description": {
                                        "type": "string",
                                        "example": "Updated description"
                                    },
                                    "test_type": {
                                        "type": "string",
                                        "enum": [
                                            "academic",
                                            "general",
                                            "business",
                                            "ielts",
                                            "toefl"
                                        ]
                                    },
                                    "difficulty": {
                                        "type": "string",
                                        "enum": [
                                            "beginner",
                                            "intermediate",
                                            "advanced"
                                        ]
                                    },
                                    "timer_mode": {
                                        "type": "string",
                                        "enum": [
                                            "none",
                                            "test",
                                            "practice"
                                        ]
                                    },
                                    "timer_settings": {
                                        "type": "string",
                                        "example": "{\"test_time\":60,\"warning_time\":5}"
                                    },
                                    "allow_repetition": {
                                        "type": "boolean"
                                    },
                                    "max_repetition_count": {
                                        "type": "integer"
                                    },
                                    "is_public": {
                                        "type": "boolean"
                                    },
                                    "is_published": {
                                        "type": "boolean"
                                    },
                                    "settings": {
                                        "type": "string",
                                        "example": "{\"instructions\":\"Updated instructions\"}"
                                    },
                                    "prompt_files": {
                                        "description": "Upload prompt files (pdf, doc, docx, txt, images)",
                                        "type": "array",
                                        "items": {
                                            "type": "string",
                                            "format": "binary"
                                        }
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Writing test updated successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Writing test updated successfully"
                                        },
                                        "test_id": {
                                            "type": "string",
                                            "format": "uuid"
                                        },
                                        "data": {
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Test not found"
                    },
                    "422": {
                        "description": "Validation error"
                    },
                    "401": {
                        "description": "Unauthorized"
                    },
                    "403": {
                        "description": "Forbidden"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/writing/tests/{id}/toggle-publish": {
            "patch": {
                "tags": [
                    "Writing Tests"
                ],
                "summary": "Toggle publish status of a writing test",
                "description": "Toggle the published status of a writing test. Only test creator or admin can perform this action.",
                "operationId": "691fcf89c134e1685106768ba5a05b3a",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "Writing test ID",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Publish status toggled successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Test published successfully"
                                        },
                                        "is_published": {
                                            "type": "boolean",
                                            "example": true
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Test not found"
                    },
                    "401": {
                        "description": "Unauthorized"
                    },
                    "403": {
                        "description": "Forbidden"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/writing/tests/search": {
            "get": {
                "tags": [
                    "Writing Tests"
                ],
                "summary": "Search writing tests",
                "description": "Search writing tests based on various criteria.",
                "operationId": "2f1513e995dcb9b7131a4b7512e01fe9",
                "parameters": [
                    {
                        "name": "title",
                        "in": "query",
                        "description": "Search by test title",
                        "required": false,
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "name": "difficulty",
                        "in": "query",
                        "description": "Filter by difficulty level",
                        "required": false,
                        "schema": {
                            "type": "string",
                            "enum": [
                                "beginner",
                                "intermediate",
                                "advanced"
                            ]
                        }
                    },
                    {
                        "name": "test_type",
                        "in": "query",
                        "description": "Filter by test type",
                        "required": false,
                        "schema": {
                            "type": "string",
                            "enum": [
                                "academic",
                                "general",
                                "business",
                                "ielts",
                                "toefl"
                            ]
                        }
                    },
                    {
                        "name": "creator_id",
                        "in": "query",
                        "description": "Filter by creator ID",
                        "required": false,
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        }
                    },
                    {
                        "name": "is_published",
                        "in": "query",
                        "description": "Filter by published status",
                        "required": false,
                        "schema": {
                            "type": "boolean"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Search results retrieved successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Search results retrieved successfully"
                                        },
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "type": "object"
                                            }
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        }
    },
    "components": {
        "schemas": {
            "ListeningAudioLogResource": {
                "title": "Listening Audio Log Resource",
                "description": "Audio play log data",
                "properties": {
                    "id": {
                        "description": "Log ID",
                        "type": "string",
                        "format": "uuid"
                    },
                    "submission_id": {
                        "description": "Submission ID",
                        "type": "string",
                        "format": "uuid"
                    },
                    "audio_segment_id": {
                        "description": "Audio segment ID",
                        "type": "string",
                        "format": "uuid"
                    },
                    "question_id": {
                        "description": "Related question ID",
                        "type": "string",
                        "format": "uuid"
                    },
                    "start_time": {
                        "description": "Play start time in seconds",
                        "type": "number",
                        "format": "float"
                    },
                    "end_time": {
                        "description": "Play end time in seconds",
                        "type": "number",
                        "format": "float"
                    },
                    "duration": {
                        "description": "Play duration in seconds",
                        "type": "number",
                        "format": "float"
                    },
                    "played_at": {
                        "description": "When audio was played",
                        "type": "string",
                        "format": "date-time"
                    },
                    "created_at": {
                        "description": "Creation timestamp",
                        "type": "string",
                        "format": "date-time"
                    },
                    "duration_formatted": {
                        "description": "Formatted duration (MM:SS)",
                        "type": "string"
                    },
                    "time_range": {
                        "description": "Time range as formatted string",
                        "type": "string"
                    },
                    "play_percentage": {
                        "description": "Percentage of segment played",
                        "type": "number",
                        "format": "float"
                    },
                    "audio_segment": {
                        "description": "Audio segment information",
                        "properties": {
                            "id": {
                                "type": "string",
                                "format": "uuid"
                            },
                            "passage_id": {
                                "type": "string",
                                "format": "uuid"
                            },
                            "audio_url": {
                                "type": "string"
                            },
                            "start_time": {
                                "type": "number",
                                "format": "float"
                            },
                            "end_time": {
                                "type": "number",
                                "format": "float"
                            },
                            "duration": {
                                "type": "number",
                                "format": "float"
                            },
                            "transcript": {
                                "type": "string"
                            },
                            "order": {
                                "type": "integer"
                            }
                        },
                        "type": "object"
                    },
                    "question": {
                        "description": "Related question information",
                        "properties": {
                            "id": {
                                "type": "string",
                                "format": "uuid"
                            },
                            "question_text": {
                                "type": "string"
                            },
                            "question_type": {
                                "type": "string"
                            },
                            "question_order": {
                                "type": "integer"
                            }
                        },
                        "type": "object"
                    }
                },
                "type": "object"
            },
            "AudioPlayStatsResponse": {
                "title": "Audio Play Statistics",
                "description": "Audio engagement statistics",
                "properties": {
                    "total_plays": {
                        "description": "Total number of audio plays",
                        "type": "integer"
                    },
                    "total_listen_time": {
                        "description": "Total listening time in seconds",
                        "type": "number",
                        "format": "float"
                    },
                    "unique_segments_played": {
                        "description": "Number of unique segments played",
                        "type": "integer"
                    },
                    "play_counts_by_segment": {
                        "description": "Play count for each segment",
                        "type": "object"
                    },
                    "average_plays_per_segment": {
                        "description": "Average plays per segment",
                        "type": "number",
                        "format": "float"
                    },
                    "most_played_segment": {
                        "description": "Most replayed segment",
                        "properties": {
                            "segment_id": {
                                "type": "string",
                                "format": "uuid"
                            },
                            "play_count": {
                                "type": "integer"
                            },
                            "audio_url": {
                                "type": "string"
                            },
                            "duration": {
                                "type": "number",
                                "format": "float"
                            }
                        },
                        "type": "object"
                    },
                    "least_played_segment": {
                        "description": "Least replayed segment",
                        "properties": {
                            "segment_id": {
                                "type": "string",
                                "format": "uuid"
                            },
                            "play_count": {
                                "type": "integer"
                            },
                            "audio_url": {
                                "type": "string"
                            },
                            "duration": {
                                "type": "number",
                                "format": "float"
                            }
                        },
                        "type": "object"
                    },
                    "play_distribution": {
                        "description": "Play distribution by hour",
                        "type": "object"
                    },
                    "listen_time_by_segment": {
                        "description": "Total listen time per segment",
                        "type": "object"
                    }
                },
                "type": "object"
            }
        },
        "securitySchemes": {
            "bearerAuth": {
                "type": "http",
                "description": "JWT Authorization header using the Bearer scheme. Enter 'Bearer' [space] and then your token.",
                "bearerFormat": "JWT",
                "scheme": "bearer"
            }
        }
    },
    "tags": [
        {
            "name": "Student Dashboard",
            "description": "Student Dashboard"
        },
        {
            "name": "Auth",
            "description": "Auth"
        },
        {
            "name": "OAuth",
            "description": "OAuth"
        },
        {
            "name": "Classes",
            "description": "Classes"
        },
        {
            "name": "Enrollments",
            "description": "Enrollments"
        },
        {
            "name": "Invitations",
            "description": "Invitations"
        },
        {
            "name": "Tests",
            "description": "Tests"
        },
        {
            "name": "Listening Tests",
            "description": "Listening Tests"
        },
        {
            "name": "Listening Answers",
            "description": "Listening Answers"
        },
        {
            "name": "Listening Audio",
            "description": "Listening Audio"
        },
        {
            "name": "Listening Dashboard",
            "description": "Listening Dashboard"
        },
        {
            "name": "Listening Reviews",
            "description": "Listening Reviews"
        },
        {
            "name": "Listening Submissions",
            "description": "Listening Submissions"
        },
        {
            "name": "Listening Task Assignments",
            "description": "Listening Task Assignments"
        },
        {
            "name": "Listening Tasks",
            "description": "Listening Tasks"
        },
        {
            "name": "Listening Vocabulary",
            "description": "Listening Vocabulary"
        },
        {
            "name": "Reading Tasks",
            "description": "Reading Tasks"
        },
        {
            "name": "Reading Answers",
            "description": "Reading Answers"
        },
        {
            "name": "Reading Dashboard",
            "description": "Reading Dashboard"
        },
        {
            "name": "Reading Reviews",
            "description": "Reading Reviews"
        },
        {
            "name": "Reading Submissions",
            "description": "Reading Submissions"
        },
        {
            "name": "Reading Assignments",
            "description": "Reading Assignments"
        },
        {
            "name": "Reading Tests",
            "description": "Reading Tests"
        },
        {
            "name": "Reading Vocabulary",
            "description": "Reading Vocabulary"
        },
        {
            "name": "Speaking Dashboard",
            "description": "Speaking Dashboard"
        },
        {
            "name": "Speaking Submissions",
            "description": "Speaking Submissions"
        },
        {
            "name": "Speaking Tasks",
            "description": "Speaking Tasks"
        },
        {
            "name": "Test Submissions",
            "description": "Test Submissions"
        },
        {
            "name": "Password",
            "description": "Password"
        },
        {
            "name": "Profile",
            "description": "Profile"
        },
        {
            "name": "User",
            "description": "User"
        },
        {
            "name": "Vocabulary Categories",
            "description": "Vocabulary Categories"
        },
        {
            "name": "Vocabulary",
            "description": "Vocabulary"
        },
        {
            "name": "Writing Dashboard",
            "description": "Writing Dashboard"
        },
        {
            "name": "Writing Reviews",
            "description": "Writing Reviews"
        },
        {
            "name": "Writing Submissions",
            "description": "Writing Submissions"
        },
        {
            "name": "Writing Task Assignments",
            "description": "Writing Task Assignments"
        },
        {
            "name": "Writing Tasks",
            "description": "Writing Tasks"
        },
        {
            "name": "Writing Tests",
            "description": "Writing Tests"
        }
    ]
}